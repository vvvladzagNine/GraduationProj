2019-09-02 22:54:15,494 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-02 22:54:16,094 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-02 22:54:16,111 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-02 22:54:16,184 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /admin/**
2019-09-02 22:54:16,186 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-02 22:54:16,233 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-02 22:54:16,687 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-02 22:54:16,933 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 209ms. Found 4 repository interfaces.
2019-09-02 22:54:19,018 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-02 22:54:19,026 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-02 22:54:19,030 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-02 22:54:19,035 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-02 22:54:19,106 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-02 22:54:19,109 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-02 22:54:19,110 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-02 22:54:19,111 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-02 22:54:19,159 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-02 22:54:19,161 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-02 22:54:19,162 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-02 22:54:19,163 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-02 22:54:19,390 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-02 22:54:19,567 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-02 22:54:19,904 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-02 22:54:20,738 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-02 22:54:21,582 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-02 22:54:23,197 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-02 22:54:23,203 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-02 22:54:23,277 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-02 22:54:23,280 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-02 22:54:24,682 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@36648478, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58ffcd3b, org.springframework.security.web.header.HeaderWriterFilter@77883829, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1a79a6af, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@605bdc9e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@59cf15ba, org.springframework.security.web.access.ExceptionTranslationFilter@3f2633b4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3f412a5a]
2019-09-02 22:54:25,399 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 9897 ms
2019-09-02 22:54:25,460 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-02 22:54:26,806 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-02 22:54:26,859 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-02 22:54:26,961 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1500 ms
2019-09-02 22:55:04,517 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-02 22:55:04,550 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@66ce957f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@55b5f5d2, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5bfa8cc5, org.springframework.test.context.support.DirtiesContextTestExecutionListener@666b83a4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@749c877b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@efde75f]
2019-09-02 22:55:05,172 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-02 22:55:05,184 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-02 22:55:05,248 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /admin/**
2019-09-02 22:55:05,250 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-02 22:55:05,283 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-02 22:55:05,493 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-02 22:55:05,678 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 160ms. Found 4 repository interfaces.
2019-09-02 22:55:07,071 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-02 22:55:07,076 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-02 22:55:07,083 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-02 22:55:07,089 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-02 22:55:07,132 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-02 22:55:07,136 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-02 22:55:07,138 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-02 22:55:07,140 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-02 22:55:07,172 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-02 22:55:07,175 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-02 22:55:07,176 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-02 22:55:07,178 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-02 22:55:07,292 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-02 22:55:07,418 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-02 22:55:07,708 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-02 22:55:08,354 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-02 22:55:08,875 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-02 22:55:09,889 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-02 22:55:09,892 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-02 22:55:09,954 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-02 22:55:09,958 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-02 22:55:11,094 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@5f65e0c0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@34d11c92, org.springframework.security.web.header.HeaderWriterFilter@403cff1c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@160cf225, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@712c9bcf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7fb02606, org.springframework.security.web.access.ExceptionTranslationFilter@1fdd5517, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1af6d656]
2019-09-02 22:55:12,410 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-02 22:55:12,411 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@85b9f9c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@26a004ed, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@2b6a4da7, org.springframework.test.context.support.DirtiesContextTestExecutionListener@75b6bd41, org.springframework.test.context.transaction.TransactionalTestExecutionListener@21457b14, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7e484bd]
2019-09-02 22:55:12,538 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-02 22:55:12,540 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /admin/**
2019-09-02 22:55:12,541 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-02 22:55:12,543 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-02 22:55:12,737 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-02 22:55:12,765 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 27ms. Found 4 repository interfaces.
2019-09-02 22:55:12,872 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-02 22:55:12,874 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-02 22:55:12,876 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-02 22:55:12,881 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-02 22:55:12,957 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-02 22:55:12,974 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-02 22:55:13,073 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-02 22:55:13,074 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-02 22:55:13,083 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-02 22:55:13,086 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-02 22:55:13,245 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@2c8f7d6a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@98a0842, org.springframework.security.web.header.HeaderWriterFilter@153c69bc, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@22decfa2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@19a799cb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2e93f91d, org.springframework.security.web.access.ExceptionTranslationFilter@41623694, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1798c749]
2019-09-02 22:55:14,081 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-02 22:55:14,115 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-02 22:55:14,250 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-02 22:55:14,251 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-02 22:55:14,270 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 18 ms
2019-09-02 22:55:14,289 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@58a93f51 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@56589f00, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3ce4b0a8 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@628d6320]; rollback [true]
2019-09-02 22:55:14,621 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@58a93f51 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@56589f00, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3ce4b0a8 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-02 22:55:14,627 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-02 22:55:14,628 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-02 22:55:14,644 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 11 ms
2019-09-02 22:55:14,656 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@58a93f51 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4707d60a, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3ce4b0a8 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@628d6320]; rollback [true]
2019-09-02 22:55:14,737 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@58a93f51 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4707d60a, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3ce4b0a8 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-02 22:55:14,739 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-02 22:55:14,746 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-02 22:55:14,754 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-02 22:55:14,761 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@58a93f51 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@642693c2, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3ce4b0a8 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@628d6320]; rollback [true]
2019-09-02 22:55:14,777 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@58a93f51 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@642693c2, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3ce4b0a8 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-02 22:55:14,779 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-02 22:55:14,786 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-02 22:55:14,795 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 7 ms
2019-09-02 22:55:14,805 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@58a93f51 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@72499396, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3ce4b0a8 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@628d6320]; rollback [true]
2019-09-02 22:55:14,848 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@58a93f51 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@72499396, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3ce4b0a8 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-02 22:55:14,851 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-02 22:55:14,860 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-02 22:55:14,875 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-02 22:55:14,884 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@58a93f51 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@44aaa987, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3ce4b0a8 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@628d6320]; rollback [true]
2019-09-02 22:55:14,918 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@58a93f51 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@44aaa987, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3ce4b0a8 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-02 22:55:14,926 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-02 22:55:14,928 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-02 22:55:14,942 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 10 ms
2019-09-02 22:55:14,950 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@58a93f51 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4dfe5727, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3ce4b0a8 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@628d6320]; rollback [true]
2019-09-02 22:55:14,986 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@58a93f51 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4dfe5727, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3ce4b0a8 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-02 22:55:15,002 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-02 22:55:15,004 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-02 22:55:15,009 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-02 22:55:15,015 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@58a93f51 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@48682f91, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3ce4b0a8 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@628d6320]; rollback [true]
2019-09-02 22:55:15,090 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@58a93f51 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@48682f91, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3ce4b0a8 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-02 22:55:15,108 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-02 22:55:15,109 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@7d364bce, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1aa7d66e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5cc85ffc, org.springframework.test.context.support.DirtiesContextTestExecutionListener@189f2184, org.springframework.test.context.transaction.TransactionalTestExecutionListener@57386162, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7388d94d]
2019-09-02 22:55:15,125 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-02 22:55:15,126 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-02 22:55:15,257 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-02 22:55:15,259 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-02 22:55:15,862 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-02 22:55:15,863 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@336b7da4, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@6019ce4b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@1e79b0fc, org.springframework.test.context.support.DirtiesContextTestExecutionListener@36e8fefe, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5e8633da, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@70c3c5d7]
2019-09-02 22:55:15,873 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-02 22:55:15,874 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-02 22:55:15,878 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-02 22:55:15,889 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3df79197 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@53741683, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@36134f3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@628d6320]; rollback [true]
2019-09-02 22:55:15,916 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3df79197 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@53741683, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@36134f3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-02 22:55:15,924 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-02 22:55:15,925 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-02 22:55:15,941 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 15 ms
2019-09-02 22:55:15,952 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3df79197 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@9be2897, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@36134f3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@628d6320]; rollback [true]
2019-09-02 22:55:15,999 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3df79197 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@9be2897, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@36134f3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-02 22:55:16,006 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-02 22:55:16,008 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-02 22:55:16,012 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-02 22:55:16,028 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3df79197 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@c52c362, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@36134f3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@628d6320]; rollback [true]
2019-09-02 22:55:16,106 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3df79197 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@c52c362, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@36134f3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-02 22:55:16,108 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-02 22:55:16,109 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-02 22:55:16,122 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 10 ms
2019-09-02 22:55:16,125 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3df79197 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@23b62cc3, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@36134f3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@628d6320]; rollback [true]
2019-09-02 22:55:16,154 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3df79197 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@23b62cc3, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@36134f3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-02 22:55:16,156 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-02 22:55:16,162 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-02 22:55:16,170 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-02 22:55:16,173 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3df79197 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5c6fae3c, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@36134f3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@628d6320]; rollback [true]
2019-09-02 22:55:16,208 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3df79197 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5c6fae3c, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@36134f3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-02 22:55:16,210 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-02 22:55:16,213 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-02 22:55:16,230 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 8 ms
2019-09-02 22:55:16,238 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3df79197 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@688884e, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@36134f3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@628d6320]; rollback [true]
2019-09-02 22:55:16,257 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3df79197 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@688884e, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@36134f3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-02 22:55:16,264 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-02 22:55:16,266 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-02 22:55:16,276 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-02 22:55:16,279 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3df79197 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@2d05d022, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@36134f3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@628d6320]; rollback [true]
2019-09-02 22:55:16,303 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3df79197 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@2d05d022, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@36134f3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-02 22:55:16,304 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-02 22:55:16,305 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-02 22:55:16,314 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-02 22:55:16,324 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3df79197 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@588b02a0, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@36134f3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@628d6320]; rollback [true]
2019-09-02 22:55:16,346 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3df79197 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@588b02a0, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@36134f3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-02 22:55:16,354 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-02 22:55:16,356 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-02 22:55:16,362 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-02 22:55:16,364 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3df79197 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@597f2d3f, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@36134f3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@628d6320]; rollback [true]
2019-09-02 22:55:16,389 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3df79197 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@597f2d3f, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@36134f3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-02 22:55:16,414 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-02 22:55:16,425 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-02 22:55:16,446 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-02 22:55:16,449 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-02 22:55:16,451 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-02 22:55:16,453 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-02 22:57:12,253 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-02 22:57:12,732 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-02 22:57:12,740 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-02 22:57:12,808 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /admin/**
2019-09-02 22:57:12,810 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-02 22:57:12,846 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-02 22:57:13,136 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-02 22:57:13,400 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 226ms. Found 4 repository interfaces.
2019-09-02 22:57:15,286 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-02 22:57:15,292 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-02 22:57:15,296 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-02 22:57:15,300 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-02 22:57:15,365 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-02 22:57:15,368 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-02 22:57:15,370 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-02 22:57:15,371 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-02 22:57:15,417 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-02 22:57:15,419 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-02 22:57:15,421 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-02 22:57:15,422 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-02 22:57:15,645 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-02 22:57:15,850 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-02 22:57:16,194 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-02 22:57:16,967 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-02 22:57:17,714 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-02 22:57:19,336 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-02 22:57:19,341 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-02 22:57:19,405 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-02 22:57:19,408 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-02 22:57:20,851 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@152a8e00, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1509a039, org.springframework.security.web.header.HeaderWriterFilter@43c3d0db, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@348bcce5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@11ab0989, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@18b67c03, org.springframework.security.web.access.ExceptionTranslationFilter@790e5af0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5c0fb499]
2019-09-02 22:57:22,134 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 9871 ms
2019-09-02 22:57:22,362 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-02 22:57:23,843 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-02 22:57:23,891 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-02 22:57:23,972 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1606 ms
2019-09-02 22:59:56,656 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-02 22:59:57,239 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-02 22:59:57,248 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-02 22:59:57,316 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /admin/**
2019-09-02 22:59:57,318 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-02 22:59:57,360 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-02 22:59:57,712 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-02 22:59:57,997 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 227ms. Found 4 repository interfaces.
2019-09-02 23:00:00,060 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-02 23:00:00,067 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-02 23:00:00,071 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-02 23:00:00,078 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-02 23:00:00,150 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-02 23:00:00,154 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-02 23:00:00,155 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-02 23:00:00,158 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-02 23:00:00,208 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-02 23:00:00,211 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-02 23:00:00,212 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-02 23:00:00,213 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-02 23:00:00,448 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-02 23:00:00,632 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-02 23:00:01,027 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-02 23:00:01,944 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-02 23:00:02,833 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-02 23:00:04,806 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-02 23:00:04,812 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-02 23:00:04,891 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-02 23:00:04,895 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-02 23:00:06,338 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@6f51560e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@517ee6c6, org.springframework.security.web.header.HeaderWriterFilter@1fa33aa5, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7b6d26ba, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7980aadc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1c8a5ee0, org.springframework.security.web.access.ExceptionTranslationFilter@464d7a8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@111878fd]
2019-09-02 23:00:07,158 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 10495 ms
2019-09-02 23:00:07,210 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-02 23:00:08,667 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-02 23:00:08,747 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-02 23:00:08,870 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1659 ms
2019-09-02 23:01:01,277 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-02 23:01:01,762 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-02 23:01:01,770 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-02 23:01:01,839 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /admin/**
2019-09-02 23:01:01,842 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-02 23:01:01,893 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-02 23:01:02,236 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-02 23:01:02,522 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 248ms. Found 4 repository interfaces.
2019-09-02 23:01:06,027 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-02 23:01:06,035 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-02 23:01:06,042 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-02 23:01:06,049 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-02 23:01:06,136 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-02 23:01:06,140 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-02 23:01:06,142 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-02 23:01:06,143 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-02 23:01:06,189 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-02 23:01:06,192 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-02 23:01:06,194 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-02 23:01:06,195 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-02 23:01:06,433 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-02 23:01:06,693 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-02 23:01:07,099 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-02 23:01:07,960 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-02 23:01:08,786 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-02 23:01:10,007 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-02 23:01:10,012 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-02 23:01:10,147 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-02 23:01:10,150 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-02 23:01:11,607 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@38611d1c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ffc3628, org.springframework.security.web.header.HeaderWriterFilter@24e1273c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@db642ae, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4e655550, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4fc4ddf5, org.springframework.security.web.access.ExceptionTranslationFilter@2acabb9e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5d85a6c9]
2019-09-02 23:01:12,240 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 10958 ms
2019-09-02 23:01:12,292 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-02 23:01:13,362 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-02 23:01:13,416 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-02 23:01:13,529 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1237 ms
2019-09-03 20:32:08,518 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-03 20:32:08,544 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6f0b0a5e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@6035b93b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@320de594, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3dd1dc90, org.springframework.test.context.transaction.TransactionalTestExecutionListener@abf688e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@478ee483]
2019-09-03 20:32:09,053 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-03 20:32:09,058 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-03 20:32:09,101 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /admin/**
2019-09-03 20:32:09,102 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-03 20:32:09,131 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-03 20:32:09,483 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-03 20:32:09,656 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 148ms. Found 4 repository interfaces.
2019-09-03 20:32:10,795 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-03 20:32:10,801 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-03 20:32:10,805 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-03 20:32:10,809 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-03 20:32:10,852 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-03 20:32:10,856 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 20:32:10,858 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 20:32:10,859 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-03 20:32:10,893 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-03 20:32:10,896 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 20:32:10,897 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 20:32:10,899 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-03 20:32:11,269 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-03 20:32:11,404 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-03 20:32:11,677 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-03 20:32:12,427 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-03 20:32:12,993 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-03 20:32:14,018 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-03 20:32:14,021 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-03 20:32:14,078 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-03 20:32:14,083 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-03 20:32:15,050 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@2ea4e762, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@599310ab, org.springframework.security.web.header.HeaderWriterFilter@1c14d24d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@f245168, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1db5de29, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@672f69f7, org.springframework.security.web.access.ExceptionTranslationFilter@68fc1e7f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@ea40c9f]
2019-09-03 20:32:16,065 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 20:32:16,110 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 20:32:16,324 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:32:16,325 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:32:16,339 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 14 ms
2019-09-03 20:32:16,369 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@62075e3d testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@63e81ac6, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@45775a15 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@11e75942]; rollback [true]
2019-09-03 20:32:16,892 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@62075e3d testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@63e81ac6, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@45775a15 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:32:16,911 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:32:16,913 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:32:16,918 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-03 20:32:16,930 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@62075e3d testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@25ee3cd6, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@45775a15 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@11e75942]; rollback [true]
2019-09-03 20:32:17,051 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@62075e3d testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@25ee3cd6, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@45775a15 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:32:17,053 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:32:17,057 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:32:17,068 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 8 ms
2019-09-03 20:32:17,074 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@62075e3d testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@49f32bcb, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@45775a15 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@11e75942]; rollback [true]
2019-09-03 20:32:17,111 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@62075e3d testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@49f32bcb, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@45775a15 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:32:17,114 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:32:17,119 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:32:17,139 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-03 20:32:17,158 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@62075e3d testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@54dc163a, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@45775a15 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@11e75942]; rollback [true]
2019-09-03 20:32:17,293 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@62075e3d testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@54dc163a, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@45775a15 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:32:17,295 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:32:17,303 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:32:17,309 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-03 20:32:17,318 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@62075e3d testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@2f154d9b, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@45775a15 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@11e75942]; rollback [true]
2019-09-03 20:32:17,342 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@62075e3d testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@2f154d9b, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@45775a15 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:32:17,344 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:32:17,347 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:32:17,355 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-03 20:32:17,364 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@62075e3d testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@66ca8882, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@45775a15 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@11e75942]; rollback [true]
2019-09-03 20:32:17,477 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@62075e3d testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@66ca8882, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@45775a15 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:32:17,479 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:32:17,480 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:32:17,500 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 19 ms
2019-09-03 20:32:17,515 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@62075e3d testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@3a8cc099, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@45775a15 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@11e75942]; rollback [true]
2019-09-03 20:32:17,595 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@62075e3d testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@3a8cc099, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@45775a15 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:32:17,614 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-03 20:32:17,615 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@46f3d0f7, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@592fbd8, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@354baab2, org.springframework.test.context.support.DirtiesContextTestExecutionListener@30be6a05, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6812708d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7a4c1a6c]
2019-09-03 20:32:17,619 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:32:17,621 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:32:17,634 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 12 ms
2019-09-03 20:32:17,637 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2afa1b1a testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@30fffb53, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@738b93a8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@11e75942]; rollback [true]
2019-09-03 20:32:17,659 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-03 20:32:17,660 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-03 20:32:17,660 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2afa1b1a testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@30fffb53, testMethod = delete@AdminRestControllerTest, testException = org.springframework.web.util.NestedServletException: Request processing failed; nested exception is ru.vladzag.util.exception.NotFoundException: Not found entity with id=100002, mergedContextConfiguration = [WebMergedContextConfiguration@738b93a8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:32:17,686 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:32:17,696 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:32:17,740 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 38 ms
2019-09-03 20:32:17,754 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2afa1b1a testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@6345dc06, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@738b93a8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@11e75942]; rollback [true]
2019-09-03 20:32:17,808 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2afa1b1a testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@6345dc06, testMethod = getAll@AdminRestControllerTest, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <[]>
to be equal to:
 <[Restaurant:100002(R1),
    Restaurant:100003(R2),
    Restaurant:100004(R3),
    Restaurant:100005(RWM)]>
when comparing elements using field/property by field/property comparator on all fields/properties except ["votes", "dishes"]
Comparators used:
- for elements fields (by type): {Double -> DoubleComparator[precision=1.0E-15], Float -> FloatComparator[precision=1.0E-6]}
- for elements (by type): {Double -> DoubleComparator[precision=1.0E-15], Float -> FloatComparator[precision=1.0E-6]}
but was not., mergedContextConfiguration = [WebMergedContextConfiguration@738b93a8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:32:17,816 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:32:17,848 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:32:17,853 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-03 20:32:17,861 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2afa1b1a testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@54d6f172, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@738b93a8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@11e75942]; rollback [true]
2019-09-03 20:32:17,964 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2afa1b1a testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@54d6f172, testMethod = update@AdminRestControllerTest, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <[Restaurant:100011(R111)]>
to be equal to:
 <[Restaurant:100002(R111),
    Restaurant:100003(R2),
    Restaurant:100004(R3),
    Restaurant:100005(RWM)]>
when comparing elements using field/property by field/property comparator on all fields/properties except ["votes", "dishes"]
Comparators used:
- for elements fields (by type): {Double -> DoubleComparator[precision=1.0E-15], Float -> FloatComparator[precision=1.0E-6]}
- for elements (by type): {Double -> DoubleComparator[precision=1.0E-15], Float -> FloatComparator[precision=1.0E-6]}
but was not., mergedContextConfiguration = [WebMergedContextConfiguration@738b93a8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:32:17,978 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:32:17,980 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:32:17,988 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-03 20:32:17,998 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2afa1b1a testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@65d3a83, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@738b93a8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@11e75942]; rollback [true]
2019-09-03 20:32:18,017 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2afa1b1a testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@65d3a83, testMethod = updateDish@AdminRestControllerTest, testException = org.springframework.web.util.NestedServletException: Request processing failed; nested exception is ru.vladzag.util.exception.NotFoundException: Not found entity with id=100007, mergedContextConfiguration = [WebMergedContextConfiguration@738b93a8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:32:18,027 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:32:18,030 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:32:18,056 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 26 ms
2019-09-03 20:32:18,064 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2afa1b1a testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@56589f00, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@738b93a8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@11e75942]; rollback [true]
2019-09-03 20:32:18,088 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2afa1b1a testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@56589f00, testMethod = get@AdminRestControllerTest, testException = org.springframework.web.util.NestedServletException: Request processing failed; nested exception is java.lang.NullPointerException, mergedContextConfiguration = [WebMergedContextConfiguration@738b93a8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:32:18,097 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:32:18,105 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:32:18,117 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 8 ms
2019-09-03 20:32:18,137 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2afa1b1a testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@c1d9c40, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@738b93a8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@11e75942]; rollback [true]
2019-09-03 20:32:18,171 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2afa1b1a testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@c1d9c40, testMethod = createDishWithLocation@AdminRestControllerTest, testException = java.lang.AssertionError: 
Expecting actual not to be null, mergedContextConfiguration = [WebMergedContextConfiguration@738b93a8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:32:18,175 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:32:18,175 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:32:18,195 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 19 ms
2019-09-03 20:32:18,199 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2afa1b1a testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@19e03398, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@738b93a8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@11e75942]; rollback [true]
2019-09-03 20:32:18,214 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-03 20:32:18,215 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-03 20:32:18,216 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2afa1b1a testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@19e03398, testMethod = deleteDish@AdminRestControllerTest, testException = org.springframework.web.util.NestedServletException: Request processing failed; nested exception is ru.vladzag.util.exception.NotFoundException: Not found entity with id=100002, mergedContextConfiguration = [WebMergedContextConfiguration@738b93a8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:32:18,222 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:32:18,223 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:32:18,236 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 13 ms
2019-09-03 20:32:18,239 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2afa1b1a testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@2122b4bd, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@738b93a8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@11e75942]; rollback [true]
2019-09-03 20:32:18,277 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2afa1b1a testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@2122b4bd, testMethod = getAllHistory@AdminRestControllerTest, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <[]>
to be equal to:
 <[RestaurantTo{id=100002, name=R1, votes=0},
    RestaurantTo{id=100003, name=R2, votes=0},
    RestaurantTo{id=100004, name=R3, votes=0},
    RestaurantTo{id=100005, name=RWM, votes=2}]>
when comparing elements using field/property by field/property comparator on all fields/properties except ["votes", "dishes"]
Comparators used:
- for elements fields (by type): {Double -> DoubleComparator[precision=1.0E-15], Float -> FloatComparator[precision=1.0E-6]}
- for elements (by type): {Double -> DoubleComparator[precision=1.0E-15], Float -> FloatComparator[precision=1.0E-6]}
but was not., mergedContextConfiguration = [WebMergedContextConfiguration@738b93a8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:32:18,280 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:32:18,281 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:32:18,312 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 24 ms
2019-09-03 20:32:18,319 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2afa1b1a testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@35e63d26, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@738b93a8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@11e75942]; rollback [true]
2019-09-03 20:32:18,347 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2afa1b1a testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@35e63d26, testMethod = createWithLocation@AdminRestControllerTest, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <[Restaurant:100013(RTS)]>
to be equal to:
 <[Restaurant:100002(R1),
    Restaurant:100003(R2),
    Restaurant:100004(R3),
    Restaurant:100005(RWM),
    Restaurant:100010(RTS)]>
when comparing elements using field/property by field/property comparator on all fields/properties except ["id", "votes", "dishes"]
Comparators used:
- for elements fields (by type): {Double -> DoubleComparator[precision=1.0E-15], Float -> FloatComparator[precision=1.0E-6]}
- for elements (by type): {Double -> DoubleComparator[precision=1.0E-15], Float -> FloatComparator[precision=1.0E-6]}
but was not., mergedContextConfiguration = [WebMergedContextConfiguration@738b93a8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:32:18,375 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-03 20:32:18,392 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-03 20:32:18,397 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-03 20:32:18,398 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-03 20:32:18,399 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-03 20:33:57,208 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-03 20:33:57,232 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5bfa8cc5, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@666b83a4, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@749c877b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@efde75f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@16ecee1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3b220bcb]
2019-09-03 20:33:57,806 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-03 20:33:57,812 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-03 20:33:57,876 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /admin/**
2019-09-03 20:33:57,878 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-03 20:33:57,920 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-03 20:33:58,147 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-03 20:33:58,313 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 138ms. Found 4 repository interfaces.
2019-09-03 20:33:59,548 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-03 20:33:59,552 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-03 20:33:59,557 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-03 20:33:59,565 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-03 20:33:59,615 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-03 20:33:59,618 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 20:33:59,620 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 20:33:59,621 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-03 20:33:59,660 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-03 20:33:59,663 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 20:33:59,664 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 20:33:59,666 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-03 20:33:59,781 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-03 20:33:59,908 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-03 20:34:00,128 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-03 20:34:00,715 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-03 20:34:01,116 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-03 20:34:01,990 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-03 20:34:01,994 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-03 20:34:02,048 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-03 20:34:02,052 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-03 20:34:02,955 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@5f65e0c0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@34d11c92, org.springframework.security.web.header.HeaderWriterFilter@403cff1c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@53153d5e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@68e094c9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@528c4353, org.springframework.security.web.access.ExceptionTranslationFilter@39451d92, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@47f416d0]
2019-09-03 20:34:04,136 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-03 20:34:04,138 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1013aa94, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@36bd07ec, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@85b9f9c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@26a004ed, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2b6a4da7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@75b6bd41]
2019-09-03 20:34:04,280 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-03 20:34:04,283 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /admin/**
2019-09-03 20:34:04,287 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-03 20:34:04,289 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-03 20:34:04,443 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-03 20:34:04,465 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 21ms. Found 4 repository interfaces.
2019-09-03 20:34:04,578 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-03 20:34:04,579 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 20:34:04,580 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 20:34:04,581 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-03 20:34:04,638 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-03 20:34:04,659 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-03 20:34:04,760 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-03 20:34:04,760 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-03 20:34:04,776 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-03 20:34:04,782 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-03 20:34:04,951 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@12f933c7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@531bfe4b, org.springframework.security.web.header.HeaderWriterFilter@89dd102, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1737834, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3aae9e8f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7baea18b, org.springframework.security.web.access.ExceptionTranslationFilter@1b6e32ee, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6e4ac3f5]
2019-09-03 20:34:05,662 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 20:34:05,703 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 20:34:05,849 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:34:05,850 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:34:05,862 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 11 ms
2019-09-03 20:34:05,875 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2e729fea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@1a345c6c, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6b26839d testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@28592982]; rollback [true]
2019-09-03 20:34:06,253 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2e729fea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@1a345c6c, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6b26839d testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:34:06,256 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:34:06,258 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:34:06,269 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 10 ms
2019-09-03 20:34:06,283 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2e729fea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@81f9b01, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6b26839d testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@28592982]; rollback [true]
2019-09-03 20:34:06,369 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2e729fea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@81f9b01, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6b26839d testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:34:06,372 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:34:06,373 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:34:06,386 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 12 ms
2019-09-03 20:34:06,396 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2e729fea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@3f2f6818, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6b26839d testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@28592982]; rollback [true]
2019-09-03 20:34:06,414 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2e729fea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@3f2f6818, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6b26839d testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:34:06,416 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:34:06,418 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:34:06,427 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 7 ms
2019-09-03 20:34:06,437 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2e729fea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@7b0d88e0, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6b26839d testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@28592982]; rollback [true]
2019-09-03 20:34:06,492 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2e729fea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@7b0d88e0, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6b26839d testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:34:06,499 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:34:06,501 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:34:06,509 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-03 20:34:06,521 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2e729fea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4945cd1f, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6b26839d testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@28592982]; rollback [true]
2019-09-03 20:34:06,551 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2e729fea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4945cd1f, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6b26839d testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:34:06,558 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:34:06,561 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:34:06,569 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 7 ms
2019-09-03 20:34:06,574 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2e729fea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@2bcaec2e, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6b26839d testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@28592982]; rollback [true]
2019-09-03 20:34:06,606 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2e729fea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@2bcaec2e, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6b26839d testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:34:06,615 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:34:06,617 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:34:06,630 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 11 ms
2019-09-03 20:34:06,643 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2e729fea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@29f58b44, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6b26839d testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@28592982]; rollback [true]
2019-09-03 20:34:06,704 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2e729fea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@29f58b44, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6b26839d testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:34:06,720 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-03 20:34:06,721 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@68d1f4e2, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@72769bf5, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5a63de07, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7d364bce, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1aa7d66e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5cc85ffc]
2019-09-03 20:34:06,737 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-03 20:34:06,737 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-03 20:34:06,836 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-03 20:34:06,841 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-03 20:34:07,439 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-03 20:34:07,439 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5e81b406, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3ff83cc8, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@6dd8ac29, org.springframework.test.context.support.DirtiesContextTestExecutionListener@336b7da4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6019ce4b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e79b0fc]
2019-09-03 20:34:07,441 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:34:07,445 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:34:07,458 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 10 ms
2019-09-03 20:34:07,465 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@236e6563, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@28592982]; rollback [true]
2019-09-03 20:34:07,486 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@236e6563, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:34:07,487 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:34:07,488 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:34:07,504 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-03 20:34:07,520 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@15844237, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@28592982]; rollback [true]
2019-09-03 20:34:07,538 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@15844237, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:34:07,549 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:34:07,551 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:34:07,555 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-03 20:34:07,565 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5cd5e1b6, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@28592982]; rollback [true]
2019-09-03 20:34:07,610 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5cd5e1b6, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:34:07,617 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:34:07,618 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:34:07,634 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 14 ms
2019-09-03 20:34:07,671 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@472d7f34, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@28592982]; rollback [true]
2019-09-03 20:34:07,705 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@472d7f34, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:34:07,710 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:34:07,712 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:34:07,724 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 7 ms
2019-09-03 20:34:07,728 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@283645fa, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@28592982]; rollback [true]
2019-09-03 20:34:07,766 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@283645fa, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:34:07,775 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:34:07,778 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:34:07,792 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 11 ms
2019-09-03 20:34:07,795 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@1d4ee936, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@28592982]; rollback [true]
2019-09-03 20:34:07,834 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@1d4ee936, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:34:07,843 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:34:07,848 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:34:07,853 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 2 ms
2019-09-03 20:34:07,861 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@1ee37c7a, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@28592982]; rollback [true]
2019-09-03 20:34:07,877 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@1ee37c7a, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:34:07,879 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:34:07,886 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:34:07,890 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-03 20:34:07,892 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@48d6248d, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@28592982]; rollback [true]
2019-09-03 20:34:07,942 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@48d6248d, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:34:07,944 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:34:07,945 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:34:07,958 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 11 ms
2019-09-03 20:34:07,976 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@3003d288, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@28592982]; rollback [true]
2019-09-03 20:34:08,010 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@3003d288, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:34:08,059 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-03 20:34:08,070 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-03 20:34:08,077 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-03 20:34:08,083 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-03 20:34:08,085 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-03 20:34:08,086 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-03 20:51:16,179 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-03 20:51:16,207 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@47874b25, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@33617539, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@2c177f9e, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5db4c359, org.springframework.test.context.transaction.TransactionalTestExecutionListener@209775a9, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@18e7143f]
2019-09-03 20:51:16,676 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-03 20:51:16,684 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-03 20:51:16,749 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-03 20:51:16,751 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-03 20:51:16,790 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-03 20:51:17,031 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-03 20:51:17,279 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 214ms. Found 4 repository interfaces.
2019-09-03 20:51:19,024 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-03 20:51:19,032 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-03 20:51:19,040 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-03 20:51:19,047 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-03 20:51:19,108 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-03 20:51:19,113 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 20:51:19,115 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 20:51:19,117 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-03 20:51:19,153 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-03 20:51:19,156 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 20:51:19,158 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 20:51:19,160 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-03 20:51:19,323 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-03 20:51:19,467 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-03 20:51:19,812 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-03 20:51:20,609 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-03 20:51:21,244 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-03 20:51:22,591 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-03 20:51:22,598 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-03 20:51:22,827 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-03 20:51:22,832 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-03 20:51:24,102 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@be9cc86, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@71634e64, org.springframework.security.web.header.HeaderWriterFilter@e47637c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5d200dce, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@68c3aa38, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@45bbb3e8, org.springframework.security.web.access.ExceptionTranslationFilter@535aa7c7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@57c7ec30]
2019-09-03 20:51:25,711 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-03 20:51:25,712 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b32f0b4, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@77d7d2d0, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@63075ad1, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5fa0943d, org.springframework.test.context.transaction.TransactionalTestExecutionListener@73bb782d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3a3375d8]
2019-09-03 20:51:25,856 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-03 20:51:25,858 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-03 20:51:25,862 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-03 20:51:25,864 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-03 20:51:26,038 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-03 20:51:26,063 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 24ms. Found 4 repository interfaces.
2019-09-03 20:51:26,187 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-03 20:51:26,188 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 20:51:26,190 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 20:51:26,191 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-03 20:51:26,305 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-03 20:51:26,341 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-03 20:51:26,453 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-03 20:51:26,455 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-03 20:51:26,474 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-03 20:51:26,477 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-03 20:51:26,659 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@3a33d655, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4f45290f, org.springframework.security.web.header.HeaderWriterFilter@557f0a39, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@78626209, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6d2413e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c42ee90, org.springframework.security.web.access.ExceptionTranslationFilter@38f4a641, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1df77353]
2019-09-03 20:51:27,593 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 20:51:27,639 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 20:51:27,814 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:27,816 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:27,833 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 16 ms
2019-09-03 20:51:27,855 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@adc06b2 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@728cf276, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@66f15ce5 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6ccf06f1]; rollback [true]
2019-09-03 20:51:28,193 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@adc06b2 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@728cf276, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@66f15ce5 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:28,197 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:28,199 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:28,220 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 18 ms
2019-09-03 20:51:28,225 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@adc06b2 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@5f0b2fe1, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@66f15ce5 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6ccf06f1]; rollback [true]
2019-09-03 20:51:28,330 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@adc06b2 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@5f0b2fe1, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@66f15ce5 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:28,332 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:28,335 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:28,350 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 11 ms
2019-09-03 20:51:28,365 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@adc06b2 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@28bf7bea, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@66f15ce5 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6ccf06f1]; rollback [true]
2019-09-03 20:51:28,394 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@adc06b2 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@28bf7bea, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@66f15ce5 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:28,398 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:28,400 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:28,420 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 16 ms
2019-09-03 20:51:28,429 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@adc06b2 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@270663e2, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@66f15ce5 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6ccf06f1]; rollback [true]
2019-09-03 20:51:28,495 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@adc06b2 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@270663e2, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@66f15ce5 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:28,501 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:28,510 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:28,522 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 7 ms
2019-09-03 20:51:28,526 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@adc06b2 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@2d28114b, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@66f15ce5 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6ccf06f1]; rollback [true]
2019-09-03 20:51:28,561 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@adc06b2 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@2d28114b, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@66f15ce5 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:28,563 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:28,566 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:28,590 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 21 ms
2019-09-03 20:51:28,604 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@adc06b2 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@529a2d6f, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@66f15ce5 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6ccf06f1]; rollback [true]
2019-09-03 20:51:28,632 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@adc06b2 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@529a2d6f, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@66f15ce5 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:28,640 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:28,646 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:28,663 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 11 ms
2019-09-03 20:51:28,676 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@adc06b2 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@5632bed3, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@66f15ce5 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6ccf06f1]; rollback [true]
2019-09-03 20:51:28,738 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@adc06b2 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@5632bed3, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@66f15ce5 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:28,767 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-03 20:51:28,768 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5304cee, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@68b59e2f, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@685a3c14, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4c2ad035, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4b7ab262, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@f7a19c4]
2019-09-03 20:51:28,791 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-03 20:51:28,792 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-03 20:51:29,003 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-03 20:51:29,003 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-03 20:51:29,842 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-03 20:51:29,844 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@445265b0, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7eba962d, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@1440a166, org.springframework.test.context.support.DirtiesContextTestExecutionListener@74f6237, org.springframework.test.context.transaction.TransactionalTestExecutionListener@50e7f88b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7a461744]
2019-09-03 20:51:29,847 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:29,850 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:29,859 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-03 20:51:29,862 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@78f2cab9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@32441ed4, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3fc2197d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6ccf06f1]; rollback [true]
2019-09-03 20:51:29,909 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@78f2cab9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@32441ed4, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3fc2197d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:29,911 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:29,911 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:29,942 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 30 ms
2019-09-03 20:51:29,945 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@78f2cab9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@1227862a, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3fc2197d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6ccf06f1]; rollback [true]
2019-09-03 20:51:29,987 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@78f2cab9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@1227862a, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3fc2197d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:29,989 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:29,990 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:30,011 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 18 ms
2019-09-03 20:51:30,044 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@78f2cab9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@75375bb0, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3fc2197d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6ccf06f1]; rollback [true]
2019-09-03 20:51:30,111 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@78f2cab9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@75375bb0, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3fc2197d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:30,112 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:30,113 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:30,116 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 2 ms
2019-09-03 20:51:30,136 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@78f2cab9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@53fa630, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3fc2197d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6ccf06f1]; rollback [true]
2019-09-03 20:51:30,215 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@78f2cab9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@53fa630, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3fc2197d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:30,226 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:30,227 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:30,255 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 25 ms
2019-09-03 20:51:30,259 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@78f2cab9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@613bebb9, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3fc2197d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6ccf06f1]; rollback [true]
2019-09-03 20:51:30,336 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@78f2cab9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@613bebb9, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3fc2197d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:30,338 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:30,339 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:30,356 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 16 ms
2019-09-03 20:51:30,372 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@78f2cab9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@524250ec, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3fc2197d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6ccf06f1]; rollback [true]
2019-09-03 20:51:30,396 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@78f2cab9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@524250ec, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3fc2197d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:30,399 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:30,402 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:30,440 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 32 ms
2019-09-03 20:51:30,444 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@78f2cab9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@1fd1deed, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3fc2197d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6ccf06f1]; rollback [true]
2019-09-03 20:51:30,477 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@78f2cab9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@1fd1deed, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3fc2197d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:30,487 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:30,491 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:30,506 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 11 ms
2019-09-03 20:51:30,513 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@78f2cab9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5100fe55, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3fc2197d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6ccf06f1]; rollback [true]
2019-09-03 20:51:30,547 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@78f2cab9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5100fe55, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3fc2197d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:30,562 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:30,566 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:30,588 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 19 ms
2019-09-03 20:51:30,592 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@78f2cab9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@43eea3bd, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3fc2197d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6ccf06f1]; rollback [true]
2019-09-03 20:51:30,625 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@78f2cab9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@43eea3bd, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3fc2197d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:30,665 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-03 20:51:30,672 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-03 20:51:30,680 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-03 20:51:30,681 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-03 20:51:30,682 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-03 20:51:30,683 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-03 20:51:43,245 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-03 20:51:43,294 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@64ba3208, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@158a3b2e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@25a6944c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5e1fa5b1, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6b00f608, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2f17e30d]
2019-09-03 20:51:43,958 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-03 20:51:43,963 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-03 20:51:44,003 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-03 20:51:44,004 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-03 20:51:44,034 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-03 20:51:44,371 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-03 20:51:44,565 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 165ms. Found 4 repository interfaces.
2019-09-03 20:51:46,166 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-03 20:51:46,174 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-03 20:51:46,179 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-03 20:51:46,185 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-03 20:51:46,240 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-03 20:51:46,244 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 20:51:46,245 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 20:51:46,246 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-03 20:51:46,278 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-03 20:51:46,280 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 20:51:46,285 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 20:51:46,290 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-03 20:51:46,679 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-03 20:51:46,805 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-03 20:51:47,066 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-03 20:51:47,920 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-03 20:51:48,593 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-03 20:51:49,875 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-03 20:51:49,878 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-03 20:51:49,919 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-03 20:51:49,922 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-03 20:51:50,815 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@627a890f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a1e38ab, org.springframework.security.web.header.HeaderWriterFilter@26c1f3eb, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1e4bf55b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@df5f657, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@175745fc, org.springframework.security.web.access.ExceptionTranslationFilter@3891db3a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1067bc4c]
2019-09-03 20:51:51,846 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 20:51:51,893 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 20:51:52,168 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:52,169 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:52,182 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 12 ms
2019-09-03 20:51:52,226 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@5eaa6f76 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@3fc105dd, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35129b9e testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@454f6cc5]; rollback [true]
2019-09-03 20:51:52,775 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@5eaa6f76 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@3fc105dd, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35129b9e testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:52,786 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:52,797 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:52,816 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 15 ms
2019-09-03 20:51:52,830 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@5eaa6f76 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@4fd8aefe, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35129b9e testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@454f6cc5]; rollback [true]
2019-09-03 20:51:53,063 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@5eaa6f76 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@4fd8aefe, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35129b9e testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:53,073 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:53,076 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:53,105 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 22 ms
2019-09-03 20:51:53,118 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@5eaa6f76 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@4b2ca159, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35129b9e testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@454f6cc5]; rollback [true]
2019-09-03 20:51:53,294 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@5eaa6f76 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@4b2ca159, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35129b9e testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:53,297 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:53,300 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:53,318 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 16 ms
2019-09-03 20:51:53,342 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@5eaa6f76 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@73fa97a9, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35129b9e testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@454f6cc5]; rollback [true]
2019-09-03 20:51:53,440 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@5eaa6f76 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@73fa97a9, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35129b9e testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:53,443 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:53,447 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:53,467 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 19 ms
2019-09-03 20:51:53,487 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@5eaa6f76 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@674b2703, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35129b9e testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@454f6cc5]; rollback [true]
2019-09-03 20:51:53,572 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@5eaa6f76 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@674b2703, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35129b9e testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:53,589 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:53,595 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:53,605 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 7 ms
2019-09-03 20:51:53,622 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@5eaa6f76 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@1ac9c3cc, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35129b9e testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@454f6cc5]; rollback [true]
2019-09-03 20:51:53,656 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@5eaa6f76 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@1ac9c3cc, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35129b9e testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:53,667 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:53,674 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:53,694 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 16 ms
2019-09-03 20:51:53,708 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@5eaa6f76 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@1d8e9f22, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35129b9e testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@454f6cc5]; rollback [true]
2019-09-03 20:51:53,740 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@5eaa6f76 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@1d8e9f22, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35129b9e testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:53,743 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:53,766 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:53,775 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 8 ms
2019-09-03 20:51:53,792 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@5eaa6f76 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@40949bb0, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35129b9e testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@454f6cc5]; rollback [true]
2019-09-03 20:51:53,820 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@5eaa6f76 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@40949bb0, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35129b9e testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:53,822 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:53,830 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:53,852 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 13 ms
2019-09-03 20:51:53,883 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@5eaa6f76 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@17d5138, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35129b9e testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@454f6cc5]; rollback [true]
2019-09-03 20:51:53,908 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@5eaa6f76 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@17d5138, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35129b9e testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:53,955 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-03 20:51:53,964 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-03 20:51:53,966 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-03 20:51:53,967 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-03 20:51:53,968 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-03 20:52:24,180 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-03 20:52:24,706 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-03 20:52:24,718 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-03 20:52:24,784 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-03 20:52:24,785 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-03 20:52:24,811 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-03 20:52:25,049 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-03 20:52:25,296 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 208ms. Found 4 repository interfaces.
2019-09-03 20:52:27,182 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-03 20:52:27,188 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-03 20:52:27,192 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-03 20:52:27,199 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-03 20:52:27,266 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-03 20:52:27,270 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 20:52:27,271 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 20:52:27,272 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-03 20:52:27,327 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-03 20:52:27,330 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 20:52:27,332 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 20:52:27,334 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-03 20:52:27,501 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-03 20:52:27,679 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-03 20:52:27,992 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-03 20:52:28,789 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-03 20:52:29,482 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-03 20:52:31,256 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-03 20:52:31,261 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-03 20:52:31,343 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-03 20:52:31,348 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-03 20:52:32,764 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@1b34a98e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@75121773, org.springframework.security.web.header.HeaderWriterFilter@73744e61, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@ef98deb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@45d1c4ac, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19ddcc87, org.springframework.security.web.access.ExceptionTranslationFilter@1a9c4298, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@75f92da6]
2019-09-03 20:52:33,273 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 9085 ms
2019-09-03 20:52:33,371 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-03 20:52:34,429 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 20:52:34,484 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 20:52:34,568 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1197 ms
2019-09-03 20:56:45,530 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-03 20:56:45,983 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-03 20:56:45,992 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-03 20:56:46,056 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-03 20:56:46,058 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-03 20:56:46,096 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-03 20:56:46,402 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-03 20:56:46,639 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 201ms. Found 4 repository interfaces.
2019-09-03 20:56:48,381 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-03 20:56:48,386 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-03 20:56:48,390 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-03 20:56:48,395 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-03 20:56:48,450 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-03 20:56:48,454 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 20:56:48,455 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 20:56:48,456 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-03 20:56:48,501 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-03 20:56:48,503 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 20:56:48,506 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 20:56:48,507 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-03 20:56:48,659 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-03 20:56:48,831 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-03 20:56:49,135 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-03 20:56:49,932 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-03 20:56:50,627 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-03 20:56:52,098 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-03 20:56:52,103 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-03 20:56:52,168 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-03 20:56:52,172 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-03 20:56:53,687 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@3181ae16, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58be9bc1, org.springframework.security.web.header.HeaderWriterFilter@12ca88a0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5725baba, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5a053c36, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@f244b9e, org.springframework.security.web.access.ExceptionTranslationFilter@2156a847, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@776e8207]
2019-09-03 20:56:54,326 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 8790 ms
2019-09-03 20:56:54,374 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-03 20:56:55,670 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 20:56:55,716 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 20:56:55,799 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1424 ms
2019-09-03 21:04:28,026 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-03 21:04:28,522 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-03 21:04:28,530 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-03 21:04:28,600 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-03 21:04:28,603 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-03 21:04:28,639 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-03 21:04:28,927 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-03 21:04:29,159 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 197ms. Found 4 repository interfaces.
2019-09-03 21:04:31,059 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-03 21:04:31,063 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-03 21:04:31,067 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-03 21:04:31,072 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-03 21:04:31,128 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-03 21:04:31,132 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 21:04:31,133 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 21:04:31,134 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-03 21:04:31,181 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-03 21:04:31,184 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 21:04:31,186 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 21:04:31,188 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-03 21:04:31,419 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-03 21:04:31,588 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-03 21:04:31,886 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-03 21:04:32,624 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-03 21:04:33,329 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-03 21:04:35,195 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-03 21:04:35,205 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-03 21:04:35,546 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-03 21:04:35,556 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-03 21:04:38,027 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@7ec3912b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4796f22e, org.springframework.security.web.header.HeaderWriterFilter@4ad15b1b, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@66425c94, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4a139467, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4af18f1c, org.springframework.security.web.access.ExceptionTranslationFilter@bd2517a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@644937af]
2019-09-03 21:04:39,057 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 11024 ms
2019-09-03 21:04:39,130 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-03 21:04:41,000 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 21:04:41,055 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 21:04:41,146 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 2008 ms
2019-09-03 21:11:37,652 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-03 21:11:37,738 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5f0e9815, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@76884e4b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@126945f9, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2a898881, org.springframework.test.context.transaction.TransactionalTestExecutionListener@16c63f5, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@35229f85]
2019-09-03 21:11:38,772 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-03 21:11:38,778 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-03 21:11:38,838 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-03 21:11:38,840 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-03 21:11:38,884 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-03 21:11:39,152 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-03 21:11:39,459 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 262ms. Found 4 repository interfaces.
2019-09-03 21:11:40,984 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-03 21:11:40,990 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-03 21:11:40,995 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-03 21:11:41,000 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-03 21:11:41,055 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-03 21:11:41,059 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 21:11:41,061 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 21:11:41,063 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-03 21:11:41,092 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-03 21:11:41,095 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 21:11:41,097 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 21:11:41,099 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-03 21:11:41,248 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-03 21:11:41,428 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-03 21:11:41,708 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-03 21:11:42,764 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-03 21:11:43,254 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-03 21:11:44,455 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-03 21:11:44,458 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-03 21:11:44,519 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-03 21:11:44,525 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-03 21:11:45,417 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@3c17794e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7c02b3cb, org.springframework.security.web.header.HeaderWriterFilter@2c4be45f, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@110318a7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@49322d04, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6f7a65e, org.springframework.security.web.access.ExceptionTranslationFilter@2a7392a3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4113d9ab]
2019-09-03 21:11:46,264 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-03 21:11:46,279 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-03 21:11:46,282 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-03 21:11:46,284 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-03 21:11:46,285 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-03 21:12:50,851 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-03 21:12:51,337 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-03 21:12:51,346 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-03 21:12:51,420 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-03 21:12:51,421 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-03 21:12:51,459 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-03 21:12:51,763 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-03 21:12:51,988 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 189ms. Found 4 repository interfaces.
2019-09-03 21:12:53,978 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-03 21:12:53,983 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-03 21:12:53,987 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-03 21:12:53,992 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-03 21:12:54,063 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-03 21:12:54,067 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 21:12:54,068 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 21:12:54,069 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-03 21:12:54,119 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-03 21:12:54,122 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 21:12:54,123 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 21:12:54,125 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-03 21:12:54,366 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-03 21:12:54,548 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-03 21:12:54,901 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-03 21:12:55,659 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-03 21:12:56,473 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-03 21:12:58,037 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-03 21:12:58,043 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-03 21:12:58,105 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-03 21:12:58,108 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-03 21:12:59,454 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@39e68f85, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@77391ffd, org.springframework.security.web.header.HeaderWriterFilter@42aa1721, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@d00dc6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7b337113, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@773cf211, org.springframework.security.web.access.ExceptionTranslationFilter@483b412f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@272270c0]
2019-09-03 21:13:00,074 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 9216 ms
2019-09-03 21:13:00,120 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-03 21:13:01,480 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 21:13:01,532 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 21:13:01,622 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1501 ms
2019-09-03 21:13:23,525 WARN  o.s.security.crypto.bcrypt.BCryptPasswordEncoder.matches:90 - Encoded password does not look like BCrypt
2019-09-03 21:13:31,437 WARN  o.s.security.crypto.bcrypt.BCryptPasswordEncoder.matches:90 - Encoded password does not look like BCrypt
2019-09-03 21:13:41,897 WARN  o.s.security.crypto.bcrypt.BCryptPasswordEncoder.matches:90 - Encoded password does not look like BCrypt
2019-09-03 21:13:42,503 WARN  o.s.security.crypto.bcrypt.BCryptPasswordEncoder.matches:90 - Encoded password does not look like BCrypt
2019-09-03 21:13:44,169 WARN  o.s.security.crypto.bcrypt.BCryptPasswordEncoder.matches:90 - Encoded password does not look like BCrypt
2019-09-03 21:13:45,810 WARN  o.s.security.crypto.bcrypt.BCryptPasswordEncoder.matches:90 - Encoded password does not look like BCrypt
2019-09-03 21:13:53,521 WARN  o.s.security.crypto.bcrypt.BCryptPasswordEncoder.matches:90 - Encoded password does not look like BCrypt
2019-09-03 21:17:46,793 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-03 21:17:47,348 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-03 21:17:47,357 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-03 21:17:47,436 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-03 21:17:47,437 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-03 21:17:47,469 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-03 21:17:47,759 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-03 21:17:48,051 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 252ms. Found 4 repository interfaces.
2019-09-03 21:17:50,080 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-03 21:17:50,086 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-03 21:17:50,102 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-03 21:17:50,105 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-03 21:17:50,174 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-03 21:17:50,178 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 21:17:50,180 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 21:17:50,181 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-03 21:17:50,231 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-03 21:17:50,233 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 21:17:50,234 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 21:17:50,235 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-03 21:17:50,380 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-03 21:17:50,572 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-03 21:17:50,928 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-03 21:17:51,880 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-03 21:17:52,731 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-03 21:17:54,210 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-03 21:17:54,216 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-03 21:17:54,292 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-03 21:17:54,295 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-03 21:17:55,677 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@47aa2ebb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3bf768aa, org.springframework.security.web.header.HeaderWriterFilter@6d9797b8, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2a705e0c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6b39146a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@78ec6851, org.springframework.security.web.access.ExceptionTranslationFilter@26015e1f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5c147649]
2019-09-03 21:17:56,370 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 9570 ms
2019-09-03 21:17:56,428 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-03 21:17:57,805 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 21:17:57,860 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 21:17:57,955 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1526 ms
2019-09-03 22:40:11,301 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-03 22:40:11,939 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-03 22:40:11,948 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-03 22:40:12,046 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-03 22:40:12,048 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-03 22:40:12,087 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-03 22:40:12,538 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-03 22:40:12,852 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 256ms. Found 4 repository interfaces.
2019-09-03 22:40:15,082 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-03 22:40:15,087 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-03 22:40:15,091 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-03 22:40:15,095 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-03 22:40:15,156 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-03 22:40:15,159 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 22:40:15,160 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 22:40:15,161 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-03 22:40:15,209 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-03 22:40:15,212 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 22:40:15,214 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 22:40:15,215 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-03 22:40:15,454 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-03 22:40:15,658 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-03 22:40:16,118 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-03 22:40:16,965 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-03 22:40:17,759 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-03 22:40:19,349 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-03 22:40:19,353 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-03 22:40:19,420 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-03 22:40:19,424 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-03 22:40:20,900 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@768e8679, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@49c55ff2, org.springframework.security.web.header.HeaderWriterFilter@7789459b, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6cbf2d7d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5a72740f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@25be7a74, org.springframework.security.web.access.ExceptionTranslationFilter@1c6630f8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7eff8614]
2019-09-03 22:40:21,588 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 10280 ms
2019-09-03 22:40:21,648 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-03 22:40:23,134 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 22:40:23,190 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 22:40:23,281 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1632 ms
2019-09-03 22:40:44,208 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:03,934 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:04,413 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:04,633 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:04,858 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:05,080 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:05,338 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:05,563 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:05,780 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:06,009 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:06,197 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:06,422 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:06,642 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:06,837 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:07,049 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:07,259 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:07,469 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:07,680 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:07,895 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:08,122 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:08,317 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:08,545 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:08,751 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:08,965 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:09,170 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:09,382 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:09,590 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:09,821 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:10,035 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:10,259 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:10,481 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:10,707 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:10,932 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:11,148 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:11,363 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:11,575 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:11,736 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:11,924 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:12,094 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:12,494 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:12,692 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:12,884 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:13,102 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:13,317 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:13,526 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:13,743 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:13,958 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:14,157 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:14,389 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:14,618 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:14,836 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:15,073 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:15,294 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:15,514 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:15,754 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:15,983 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:16,198 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:16,431 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:16,664 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:16,888 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:17,119 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:17,368 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:17,613 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:17,845 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:18,080 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:18,322 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:18,590 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:18,791 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:56,345 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-03 22:41:56,809 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-03 22:41:56,817 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-03 22:41:56,896 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-03 22:41:56,898 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-03 22:41:56,940 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-03 22:41:57,221 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-03 22:41:57,467 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 211ms. Found 4 repository interfaces.
2019-09-03 22:41:59,214 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-03 22:41:59,219 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-03 22:41:59,223 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-03 22:41:59,226 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-03 22:41:59,280 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-03 22:41:59,282 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 22:41:59,284 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 22:41:59,285 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-03 22:41:59,327 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-03 22:41:59,330 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 22:41:59,332 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 22:41:59,333 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-03 22:41:59,587 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-03 22:41:59,739 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-03 22:42:00,068 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-03 22:42:00,831 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-03 22:42:01,768 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-03 22:42:03,386 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-03 22:42:03,390 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-03 22:42:03,462 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-03 22:42:03,464 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-03 22:42:05,495 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@16ea3aff, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4cf0b5fc, org.springframework.security.web.header.HeaderWriterFilter@232469f5, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3f28cfc6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@71adbfb8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@355e73a4, org.springframework.security.web.access.ExceptionTranslationFilter@6e83d3ec, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@15e3731e]
2019-09-03 22:42:06,245 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 9895 ms
2019-09-03 22:42:06,292 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-03 22:42:07,835 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 22:42:07,976 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 22:42:08,274 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1982 ms
2019-09-03 22:42:21,492 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:42:22,235 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:42:23,051 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:42:24,517 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:42:24,760 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:42:25,041 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:42:25,287 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:42:25,573 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:42:33,135 INFO  ru.vladzag.web.admin.AdminRestController.createWithLocation:102 - Admin createRestaurant with id: 100010
2019-09-03 22:42:52,647 INFO  ru.vladzag.web.admin.AdminRestController.createWithLocation:102 - Admin createRestaurant with id: 100011
2019-09-03 22:48:04,950 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-03 22:48:05,436 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-03 22:48:05,445 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-03 22:48:05,510 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-03 22:48:05,512 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-03 22:48:05,551 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-03 22:48:05,786 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-03 22:48:06,002 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 181ms. Found 4 repository interfaces.
2019-09-03 22:48:07,858 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-03 22:48:07,864 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-03 22:48:07,869 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-03 22:48:07,874 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-03 22:48:07,938 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-03 22:48:07,943 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 22:48:07,944 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 22:48:07,945 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-03 22:48:07,991 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-03 22:48:07,993 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 22:48:07,995 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 22:48:07,996 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-03 22:48:08,141 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-03 22:48:08,293 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-03 22:48:08,592 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-03 22:48:09,421 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-03 22:48:10,209 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-03 22:48:11,671 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-03 22:48:11,676 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-03 22:48:11,739 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-03 22:48:11,741 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-03 22:48:12,929 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@1d463edc, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18734edf, org.springframework.security.web.header.HeaderWriterFilter@1d969388, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4b916a3a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6eaf460d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@150e8aaa, org.springframework.security.web.access.ExceptionTranslationFilter@5087ca06, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6783de94]
2019-09-03 22:48:13,614 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 8656 ms
2019-09-03 22:48:13,669 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-03 22:48:15,006 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 22:48:15,057 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 22:48:15,140 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1470 ms
2019-09-03 22:48:31,978 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:49:57,227 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:50:03,001 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:50:20,232 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:50:30,866 INFO  ru.vladzag.web.admin.AdminRestController.createWithLocation:102 - Admin createRestaurant with id: 100010
2019-09-03 22:50:36,244 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:50:51,781 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:53:12,672 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-03 22:53:13,174 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-03 22:53:13,183 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-03 22:53:13,261 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-03 22:53:13,262 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-03 22:53:13,291 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-03 22:53:13,538 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-03 22:53:13,740 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 170ms. Found 4 repository interfaces.
2019-09-03 22:53:15,670 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-03 22:53:15,676 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-03 22:53:15,681 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-03 22:53:15,686 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-03 22:53:15,749 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-03 22:53:15,753 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 22:53:15,754 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 22:53:15,755 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-03 22:53:15,806 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-03 22:53:15,809 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 22:53:15,810 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 22:53:15,812 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-03 22:53:16,019 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-03 22:53:16,200 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-03 22:53:16,552 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-03 22:53:17,392 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-03 22:53:18,222 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-03 22:53:19,726 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-03 22:53:19,731 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-03 22:53:19,804 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-03 22:53:19,808 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-03 22:53:21,157 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@77bfe031, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@a14b195, org.springframework.security.web.header.HeaderWriterFilter@443f939d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7859a060, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3296f2d0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@f7a4689, org.springframework.security.web.access.ExceptionTranslationFilter@745fed63, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4db26989]
2019-09-03 22:53:21,851 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 9173 ms
2019-09-03 22:53:21,912 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-03 22:53:23,305 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 22:53:23,359 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 22:53:23,446 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1533 ms
2019-09-03 22:53:43,933 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:53:43,976 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll
2019-09-03 22:53:48,713 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:53:51,986 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:54:13,424 INFO  ru.vladzag.web.admin.AdminRestController.createWithLocation:102 - Admin createRestaurant with id: 100010
2019-09-03 22:54:25,285 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:54:25,286 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll
2019-09-04 12:22:25,647 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 12:22:25,712 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@55b5f5d2, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5bfa8cc5, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@666b83a4, org.springframework.test.context.support.DirtiesContextTestExecutionListener@749c877b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@efde75f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@16ecee1]
2019-09-04 12:22:26,573 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 12:22:26,585 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 12:22:26,728 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 12:22:26,731 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 12:22:26,797 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 12:22:27,152 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 12:22:27,539 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 339ms. Found 4 repository interfaces.
2019-09-04 12:22:29,075 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 12:22:29,079 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 12:22:29,084 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 12:22:29,089 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 12:22:29,132 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 12:22:29,135 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 12:22:29,137 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 12:22:29,138 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 12:22:29,173 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 12:22:29,175 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 12:22:29,177 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 12:22:29,178 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 12:22:29,305 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 12:22:29,521 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 12:22:29,790 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 12:22:30,502 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 12:22:31,067 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 12:22:32,037 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 12:22:32,040 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 12:22:32,095 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 12:22:32,101 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 12:22:33,625 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@5f65e0c0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@34d11c92, org.springframework.security.web.header.HeaderWriterFilter@403cff1c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@160cf225, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@712c9bcf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7fb02606, org.springframework.security.web.access.ExceptionTranslationFilter@1fdd5517, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1af6d656]
2019-09-04 12:22:34,838 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 12:22:34,840 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@69e8f7a5, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1013aa94, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@36bd07ec, org.springframework.test.context.support.DirtiesContextTestExecutionListener@85b9f9c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@26a004ed, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2b6a4da7]
2019-09-04 12:22:34,949 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 12:22:34,952 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 12:22:34,953 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 12:22:34,954 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 12:22:35,110 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 12:22:35,141 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 30ms. Found 4 repository interfaces.
2019-09-04 12:22:35,252 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 12:22:35,253 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 12:22:35,254 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 12:22:35,255 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 12:22:35,315 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 12:22:35,330 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 12:22:35,416 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 12:22:35,417 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 12:22:35,430 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 12:22:35,433 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 12:22:35,609 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@3894d1b1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@253c7189, org.springframework.security.web.header.HeaderWriterFilter@7ef8899d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@14b0b7f9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3ad80206, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a799cb, org.springframework.security.web.access.ExceptionTranslationFilter@14a5d7ee, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@53ce27fa]
2019-09-04 12:22:36,375 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 12:22:36,420 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 12:22:36,569 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:22:36,569 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:22:36,582 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 12 ms
2019-09-04 12:22:36,596 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@157ff8f8, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 12:22:36,670 INFO  ru.vladzag.web.user.UserRestController.getRestaurant:55 - User getRestaurant with id: 100005
2019-09-04 12:22:36,827 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@157ff8f8, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:22:36,829 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:22:36,830 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:22:36,838 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-04 12:22:36,842 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4d7f3adf, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 12:22:36,852 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:22:36,929 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4d7f3adf, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:22:36,933 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:22:36,935 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:22:36,939 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 12:22:36,945 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@63cff421, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 12:22:36,953 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-04 12:22:36,962 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@63cff421, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:22:36,965 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:22:36,967 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:22:36,972 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 12:22:36,978 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@72499396, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 12:22:36,985 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 12:22:36,999 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100003
2019-09-04 12:22:37,010 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@72499396, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:22:37,012 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:22:37,013 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:22:37,020 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-04 12:22:37,025 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@44aaa987, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 12:22:37,033 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 12:22:37,043 INFO  ru.vladzag.web.user.UserRestController.updateVote:67 - User updateVote(id: 100010) for restaurant with id: 100003
2019-09-04 12:22:37,052 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@44aaa987, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:22:37,055 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:22:37,059 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:22:37,062 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 2 ms
2019-09-04 12:22:37,066 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4dfe5727, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 12:22:37,077 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 12:22:37,090 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4dfe5727, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:22:37,097 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:22:37,099 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:22:37,103 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 12:22:37,111 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@48682f91, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 12:22:37,122 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 12:22:37,128 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-04 12:22:37,152 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@48682f91, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:22:37,164 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 12:22:37,165 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@7d364bce, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1aa7d66e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5cc85ffc, org.springframework.test.context.support.DirtiesContextTestExecutionListener@189f2184, org.springframework.test.context.transaction.TransactionalTestExecutionListener@57386162, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7388d94d]
2019-09-04 12:22:37,179 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-04 12:22:37,179 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-04 12:22:37,236 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:22:37,262 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-04 12:22:37,263 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-04 12:22:37,265 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:22:37,426 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:22:37,592 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 12:22:37,593 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6dd8ac29, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@336b7da4, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@6019ce4b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1e79b0fc, org.springframework.test.context.transaction.TransactionalTestExecutionListener@36e8fefe, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5e8633da]
2019-09-04 12:22:37,595 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:22:37,596 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:22:37,602 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-04 12:22:37,609 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@528070fe testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@3df79197, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@53741683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 12:22:37,614 INFO  ru.vladzag.web.admin.AdminRestController.delete:79 - Admin deleteRestaurant with id: 100002
2019-09-04 12:22:37,620 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:22:37,627 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@528070fe testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@3df79197, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@53741683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:22:37,632 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:22:37,633 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:22:37,637 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-04 12:22:37,641 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@528070fe testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@50cb64d5, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@53741683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 12:22:37,647 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-04 12:22:37,648 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:22:37,659 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@528070fe testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@50cb64d5, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@53741683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:22:37,663 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:22:37,666 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:22:37,669 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 12:22:37,676 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@528070fe testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@302692b1, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@53741683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 12:22:37,702 INFO  ru.vladzag.web.admin.AdminRestController.update:87 - Admin updateRestaurant with id: 100002
2019-09-04 12:22:37,711 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:22:37,723 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@528070fe testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@302692b1, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@53741683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:22:37,727 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:22:37,730 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:22:37,740 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 9 ms
2019-09-04 12:22:37,746 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@528070fe testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@67cc5a38, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@53741683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 12:22:37,758 INFO  ru.vladzag.web.admin.AdminRestController.updateDish:126 - Admin updateDish with id: 100007
2019-09-04 12:22:37,767 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@528070fe testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@67cc5a38, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@53741683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:22:37,769 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:22:37,772 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:22:37,776 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 12:22:37,780 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@528070fe testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@48c56b42, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@53741683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 12:22:37,793 INFO  ru.vladzag.web.admin.AdminRestController.get:62 - Admin getRestaurant(id: 100005) in date: 2015-05-30
2019-09-04 12:22:37,810 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@528070fe testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@48c56b42, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@53741683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:22:37,814 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:22:37,815 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:22:37,820 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-04 12:22:37,825 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@528070fe testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@363751f2, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@53741683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 12:22:37,833 INFO  ru.vladzag.web.admin.AdminRestController.createDish:116 - Admin createDish with id: 100010
2019-09-04 12:22:37,843 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@528070fe testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@363751f2, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@53741683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:22:37,845 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:22:37,846 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:22:37,852 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 12:22:37,860 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@528070fe testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5cb42eb2, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@53741683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 12:22:37,863 INFO  ru.vladzag.web.admin.AdminRestController.delete:79 - Admin deleteRestaurant with id: 100002
2019-09-04 12:22:37,868 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:22:37,874 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@528070fe testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5cb42eb2, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@53741683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:22:37,877 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:22:37,879 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:22:37,882 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 2 ms
2019-09-04 12:22:37,886 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@528070fe testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@c32908c, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@53741683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 12:22:37,892 INFO  ru.vladzag.web.admin.AdminRestController.getAllHistory:46 - Admin getHistory
2019-09-04 12:22:37,907 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@528070fe testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@c32908c, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@53741683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:22:37,909 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:22:37,911 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:22:37,918 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-04 12:22:37,926 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@528070fe testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@e62d757, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@53741683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 12:22:37,932 INFO  ru.vladzag.web.admin.AdminRestController.createWithLocation:102 - Admin createRestaurant with id: 100011
2019-09-04 12:22:37,935 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:22:37,941 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@528070fe testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@e62d757, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@53741683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:22:37,958 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 12:22:37,963 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 12:22:37,974 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 12:22:37,976 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 12:22:37,978 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 12:22:37,980 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 12:38:13,482 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 12:38:13,521 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6c6c5427, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@618c5d94, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5b40ceb, org.springframework.test.context.support.DirtiesContextTestExecutionListener@13c3c1e1, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1d8062d2, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e63ec0b]
2019-09-04 12:38:14,053 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 12:38:14,058 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 12:38:14,102 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 12:38:14,104 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 12:38:14,138 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 12:38:14,363 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 12:38:14,585 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 192ms. Found 4 repository interfaces.
2019-09-04 12:38:15,952 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 12:38:15,957 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 12:38:15,962 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 12:38:15,968 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 12:38:16,016 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 12:38:16,020 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 12:38:16,022 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 12:38:16,023 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 12:38:16,052 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 12:38:16,057 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 12:38:16,058 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 12:38:16,060 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 12:38:16,176 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 12:38:16,334 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 12:38:16,629 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 12:38:17,312 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 12:38:17,820 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 12:38:18,808 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 12:38:18,812 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 12:38:18,859 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 12:38:18,863 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 12:38:19,997 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@3d01ea33, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a914a00, org.springframework.security.web.header.HeaderWriterFilter@34ede267, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@59db8216, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@d763b06, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c04ddda, org.springframework.security.web.access.ExceptionTranslationFilter@3140ad41, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@782e0844]
2019-09-04 12:38:21,135 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 12:38:21,135 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3ef4a8fb, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@30f99ca1, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@edb8f0c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6f70015, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1d5fc340, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@613f48de]
2019-09-04 12:38:21,272 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 12:38:21,274 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 12:38:21,275 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 12:38:21,279 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 12:38:21,473 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 12:38:21,503 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 29ms. Found 4 repository interfaces.
2019-09-04 12:38:21,618 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 12:38:21,620 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 12:38:21,622 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 12:38:21,624 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 12:38:21,694 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 12:38:21,742 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 12:38:21,880 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 12:38:21,881 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 12:38:21,891 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 12:38:21,894 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 12:38:22,102 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@2c8f7d6a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@98a0842, org.springframework.security.web.header.HeaderWriterFilter@153c69bc, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7baea18b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1a899fcd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@798d8247, org.springframework.security.web.access.ExceptionTranslationFilter@7c6557da, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2a3c3a04]
2019-09-04 12:38:22,995 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 12:38:23,041 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 12:38:23,191 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:38:23,192 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:38:23,213 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 19 ms
2019-09-04 12:38:23,223 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3f213e97 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@693c7741, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7d3b4646 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@369f85c6]; rollback [true]
2019-09-04 12:38:23,323 INFO  ru.vladzag.web.user.UserRestController.getRestaurant:55 - User getRestaurant with id: 100005
2019-09-04 12:38:23,501 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3f213e97 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@693c7741, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7d3b4646 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:38:23,507 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:38:23,510 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:38:23,517 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-04 12:38:23,526 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3f213e97 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@3f4fd0dc, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7d3b4646 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@369f85c6]; rollback [true]
2019-09-04 12:38:23,541 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:38:23,620 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3f213e97 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@3f4fd0dc, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7d3b4646 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:38:23,622 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:38:23,624 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:38:23,633 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-04 12:38:23,639 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3f213e97 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@7a9e44ff, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7d3b4646 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@369f85c6]; rollback [true]
2019-09-04 12:38:23,647 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-04 12:38:23,659 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3f213e97 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@7a9e44ff, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = org.opentest4j.AssertionFailedError: Expected org.springframework.web.util.NestedServletException to be thrown, but nothing was thrown., mergedContextConfiguration = [WebMergedContextConfiguration@7d3b4646 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:38:23,669 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:38:23,670 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:38:23,681 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 9 ms
2019-09-04 12:38:23,685 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3f213e97 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@119f02d2, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7d3b4646 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@369f85c6]; rollback [true]
2019-09-04 12:38:23,702 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 12:38:23,718 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100003
2019-09-04 12:38:23,728 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3f213e97 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@119f02d2, testMethod = createTwice@UserRestControllerTest, testException = org.opentest4j.AssertionFailedError: Expected java.lang.Exception to be thrown, but nothing was thrown., mergedContextConfiguration = [WebMergedContextConfiguration@7d3b4646 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:38:23,735 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:38:23,736 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:38:23,755 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 12 ms
2019-09-04 12:38:23,765 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3f213e97 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@13617139, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7d3b4646 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@369f85c6]; rollback [true]
2019-09-04 12:38:23,773 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 12:38:23,783 INFO  ru.vladzag.web.user.UserRestController.updateVote:67 - User updateVote(id: 100010) for restaurant with id: 100003
2019-09-04 12:38:23,789 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3f213e97 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@13617139, testMethod = updateVote@UserRestControllerTest, testException = org.opentest4j.AssertionFailedError: Expected java.lang.Exception to be thrown, but nothing was thrown., mergedContextConfiguration = [WebMergedContextConfiguration@7d3b4646 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:38:23,795 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:38:23,799 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:38:23,810 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 7 ms
2019-09-04 12:38:23,822 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3f213e97 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@482034fb, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7d3b4646 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@369f85c6]; rollback [true]
2019-09-04 12:38:23,830 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 12:38:23,842 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3f213e97 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@482034fb, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7d3b4646 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:38:23,850 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:38:23,851 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:38:23,855 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 12:38:23,863 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3f213e97 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@673a702a, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7d3b4646 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@369f85c6]; rollback [true]
2019-09-04 12:38:23,871 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 12:38:23,878 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-04 12:38:23,902 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3f213e97 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@673a702a, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7d3b4646 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:38:23,930 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 12:38:23,931 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1676e501, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1ed763aa, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7f39bcb5, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4e6881e, org.springframework.test.context.transaction.TransactionalTestExecutionListener@25192b6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@76d654]
2019-09-04 12:38:23,942 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-04 12:38:23,942 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-04 12:38:24,012 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:38:24,094 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-04 12:38:24,094 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-04 12:38:24,096 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:38:24,298 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:38:24,489 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 12:38:24,490 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@45aa02de, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@19598b38, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5d16bb07, org.springframework.test.context.support.DirtiesContextTestExecutionListener@233bfc46, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3612a60d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6347ebbc]
2019-09-04 12:38:24,494 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:38:24,495 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:38:24,498 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 12:38:24,501 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@54455c8d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@80347b2, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@eb65fc8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@369f85c6]; rollback [true]
2019-09-04 12:38:24,517 INFO  ru.vladzag.web.admin.AdminRestController.delete:79 - Admin deleteRestaurant with id: 100002
2019-09-04 12:38:24,528 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:38:24,532 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@54455c8d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@80347b2, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@eb65fc8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:38:24,534 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:38:24,536 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:38:24,548 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 8 ms
2019-09-04 12:38:24,554 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@54455c8d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@ae49f31, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@eb65fc8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@369f85c6]; rollback [true]
2019-09-04 12:38:24,570 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-04 12:38:24,574 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:38:24,583 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@54455c8d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@ae49f31, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@eb65fc8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:38:24,590 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:38:24,592 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:38:24,599 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-04 12:38:24,613 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@54455c8d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@3de507af, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@eb65fc8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@369f85c6]; rollback [true]
2019-09-04 12:38:24,639 INFO  ru.vladzag.web.admin.AdminRestController.update:87 - Admin updateRestaurant with id: 100002
2019-09-04 12:38:24,649 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:38:24,668 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@54455c8d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@3de507af, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@eb65fc8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:38:24,671 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:38:24,676 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:38:24,684 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 12:38:24,692 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@54455c8d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@23471f48, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@eb65fc8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@369f85c6]; rollback [true]
2019-09-04 12:38:24,709 INFO  ru.vladzag.web.admin.AdminRestController.updateDish:126 - Admin updateDish with id: 100007
2019-09-04 12:38:24,717 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@54455c8d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@23471f48, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@eb65fc8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:38:24,721 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:38:24,724 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:38:24,730 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-04 12:38:24,738 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@54455c8d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@144caca6, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@eb65fc8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@369f85c6]; rollback [true]
2019-09-04 12:38:24,752 INFO  ru.vladzag.web.admin.AdminRestController.get:62 - Admin getRestaurant(id: 100005) in date: 2015-05-30
2019-09-04 12:38:24,770 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@54455c8d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@144caca6, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@eb65fc8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:38:24,773 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:38:24,781 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:38:24,783 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 2 ms
2019-09-04 12:38:24,792 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@54455c8d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@17524c36, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@eb65fc8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@369f85c6]; rollback [true]
2019-09-04 12:38:24,802 INFO  ru.vladzag.web.admin.AdminRestController.createDish:116 - Admin createDish with id: 100010
2019-09-04 12:38:24,813 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@54455c8d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@17524c36, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@eb65fc8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:38:24,815 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:38:24,816 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:38:24,823 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-04 12:38:24,828 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@54455c8d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@108a7fff, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@eb65fc8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@369f85c6]; rollback [true]
2019-09-04 12:38:24,833 INFO  ru.vladzag.web.admin.AdminRestController.delete:79 - Admin deleteRestaurant with id: 100002
2019-09-04 12:38:24,836 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:38:24,842 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@54455c8d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@108a7fff, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@eb65fc8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:38:24,845 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:38:24,849 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:38:24,855 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 12:38:24,858 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@54455c8d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@42014a, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@eb65fc8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@369f85c6]; rollback [true]
2019-09-04 12:38:24,865 INFO  ru.vladzag.web.admin.AdminRestController.getAllHistory:46 - Admin getHistory
2019-09-04 12:38:24,885 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@54455c8d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@42014a, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@eb65fc8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:38:24,886 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:38:24,889 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:38:24,899 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-04 12:38:24,904 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@54455c8d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@424461ad, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@eb65fc8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@369f85c6]; rollback [true]
2019-09-04 12:38:24,909 INFO  ru.vladzag.web.admin.AdminRestController.createWithLocation:102 - Admin createRestaurant with id: 100011
2019-09-04 12:38:24,916 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:38:24,921 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@54455c8d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@424461ad, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@eb65fc8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:38:24,937 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 12:38:24,943 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 12:38:24,952 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 12:38:24,954 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 12:38:24,957 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 12:38:24,958 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 12:41:22,021 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 12:41:22,076 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@749c877b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@efde75f, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@16ecee1, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3b220bcb, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2b95e48b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4a3329b9]
2019-09-04 12:41:22,710 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 12:41:22,716 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 12:41:22,763 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 12:41:22,765 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 12:41:22,804 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 12:41:23,038 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 12:41:23,225 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 159ms. Found 4 repository interfaces.
2019-09-04 12:41:24,500 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 12:41:24,505 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 12:41:24,511 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 12:41:24,516 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 12:41:24,566 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 12:41:24,569 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 12:41:24,570 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 12:41:24,571 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 12:41:24,599 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 12:41:24,602 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 12:41:24,604 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 12:41:24,607 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 12:41:24,714 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 12:41:24,833 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 12:41:25,077 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 12:41:25,681 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 12:41:26,182 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 12:41:27,223 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 12:41:27,227 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 12:41:27,279 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 12:41:27,283 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 12:41:28,360 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@566cc6af, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@31b289da, org.springframework.security.web.header.HeaderWriterFilter@19677add, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5b407336, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@243162b1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1a06b95, org.springframework.security.web.access.ExceptionTranslationFilter@46610fc9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@21be80f6]
2019-09-04 12:41:29,465 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 12:41:29,466 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@402fdef1, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@69e8f7a5, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@1013aa94, org.springframework.test.context.support.DirtiesContextTestExecutionListener@36bd07ec, org.springframework.test.context.transaction.TransactionalTestExecutionListener@85b9f9c, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@26a004ed]
2019-09-04 12:41:29,592 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 12:41:29,599 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 12:41:29,603 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 12:41:29,606 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 12:41:29,800 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 12:41:29,824 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 21ms. Found 4 repository interfaces.
2019-09-04 12:41:29,965 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 12:41:29,967 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 12:41:29,969 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 12:41:29,970 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 12:41:30,030 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 12:41:30,044 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 12:41:30,145 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 12:41:30,146 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 12:41:30,154 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 12:41:30,156 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 12:41:30,322 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@439047ef, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@62b2bc2e, org.springframework.security.web.header.HeaderWriterFilter@56f569e, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@16a78700, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b4675db, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4d50f682, org.springframework.security.web.access.ExceptionTranslationFilter@4778c085, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7ceb7a60]
2019-09-04 12:41:31,022 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 12:41:31,063 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 12:41:31,204 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:41:31,205 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:41:31,219 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 13 ms
2019-09-04 12:41:31,233 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@505bc480 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@394a7390, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7926d092 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@272cec71]; rollback [true]
2019-09-04 12:41:31,317 INFO  ru.vladzag.web.user.UserRestController.getRestaurant:55 - User getRestaurant with id: 100005
2019-09-04 12:41:31,459 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@505bc480 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@394a7390, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7926d092 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:41:31,466 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:41:31,470 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:41:31,476 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-04 12:41:31,482 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@505bc480 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@77ac7cd6, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7926d092 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@272cec71]; rollback [true]
2019-09-04 12:41:31,504 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:41:31,581 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@505bc480 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@77ac7cd6, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7926d092 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:41:31,585 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:41:31,588 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:41:31,592 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 2 ms
2019-09-04 12:41:31,599 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@505bc480 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@49976824, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7926d092 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@272cec71]; rollback [true]
2019-09-04 12:41:31,611 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-04 12:41:31,622 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@505bc480 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@49976824, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7926d092 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:41:31,624 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:41:31,627 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:41:31,634 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-04 12:41:31,642 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@505bc480 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@1f8e1096, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7926d092 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@272cec71]; rollback [true]
2019-09-04 12:41:31,658 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 12:41:31,671 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100003
2019-09-04 12:41:31,682 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@505bc480 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@1f8e1096, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7926d092 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:41:31,684 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:41:31,687 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:41:31,695 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-04 12:41:31,699 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@505bc480 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@119f02d2, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7926d092 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@272cec71]; rollback [true]
2019-09-04 12:41:31,708 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 12:41:31,715 INFO  ru.vladzag.web.user.UserRestController.updateVote:67 - User updateVote(id: 100010) for restaurant with id: 100003
2019-09-04 12:41:31,727 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@505bc480 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@119f02d2, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7926d092 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:41:31,729 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:41:31,732 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:41:31,741 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-04 12:41:31,747 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@505bc480 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@7b3d3d3d, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7926d092 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@272cec71]; rollback [true]
2019-09-04 12:41:31,759 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 12:41:31,773 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@505bc480 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@7b3d3d3d, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7926d092 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:41:31,775 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:41:31,780 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:41:31,787 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-04 12:41:31,794 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@505bc480 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@5dfaa2f0, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7926d092 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@272cec71]; rollback [true]
2019-09-04 12:41:31,800 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 12:41:31,808 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-04 12:41:31,835 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@505bc480 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@5dfaa2f0, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7926d092 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:41:31,855 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 12:41:31,856 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@221ef0f0, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@34ad750f, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@2a5917f6, org.springframework.test.context.support.DirtiesContextTestExecutionListener@c34fd2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@558fa64a, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@a55b4f9]
2019-09-04 12:41:31,877 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-04 12:41:31,878 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-04 12:41:31,959 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:41:31,983 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-04 12:41:31,985 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-04 12:41:31,987 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:41:32,189 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:41:32,371 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 12:41:32,372 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@51039ec9, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@16575bfe, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@60003305, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3f1dadeb, org.springframework.test.context.transaction.TransactionalTestExecutionListener@72259917, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5e81b406]
2019-09-04 12:41:32,374 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:41:32,375 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:41:32,378 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 12:41:32,382 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@336b7da4 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@6019ce4b, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1e79b0fc testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@272cec71]; rollback [true]
2019-09-04 12:41:32,388 INFO  ru.vladzag.web.admin.AdminRestController.delete:79 - Admin deleteRestaurant with id: 100002
2019-09-04 12:41:32,406 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:41:32,410 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@336b7da4 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@6019ce4b, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1e79b0fc testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:41:32,415 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:41:32,417 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:41:32,426 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-04 12:41:32,435 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@336b7da4 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@2ce7ec5f, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1e79b0fc testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@272cec71]; rollback [true]
2019-09-04 12:41:32,439 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-04 12:41:32,439 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:41:32,448 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@336b7da4 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@2ce7ec5f, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1e79b0fc testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:41:32,450 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:41:32,454 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:41:32,459 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 12:41:32,464 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@336b7da4 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@b61aa50, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1e79b0fc testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@272cec71]; rollback [true]
2019-09-04 12:41:32,488 INFO  ru.vladzag.web.admin.AdminRestController.update:87 - Admin updateRestaurant with id: 100002
2019-09-04 12:41:32,494 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:41:32,507 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@336b7da4 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@b61aa50, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1e79b0fc testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:41:32,511 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:41:32,514 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:41:32,524 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-04 12:41:32,537 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@336b7da4 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@295e989, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1e79b0fc testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@272cec71]; rollback [true]
2019-09-04 12:41:32,556 INFO  ru.vladzag.web.admin.AdminRestController.updateDish:126 - Admin updateDish with id: 100007
2019-09-04 12:41:32,565 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@336b7da4 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@295e989, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1e79b0fc testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:41:32,569 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:41:32,571 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:41:32,579 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-04 12:41:32,591 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@336b7da4 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@23471f48, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1e79b0fc testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@272cec71]; rollback [true]
2019-09-04 12:41:32,604 INFO  ru.vladzag.web.admin.AdminRestController.get:62 - Admin getRestaurant(id: 100005) in date: 2015-05-30
2019-09-04 12:41:32,622 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@336b7da4 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@23471f48, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1e79b0fc testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:41:32,625 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:41:32,627 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:41:32,633 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-04 12:41:32,645 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@336b7da4 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@6960e7a6, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1e79b0fc testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@272cec71]; rollback [true]
2019-09-04 12:41:32,653 INFO  ru.vladzag.web.admin.AdminRestController.createDish:116 - Admin createDish with id: 100010
2019-09-04 12:41:32,661 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@336b7da4 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@6960e7a6, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1e79b0fc testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:41:32,666 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:41:32,670 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:41:32,676 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-04 12:41:32,682 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@336b7da4 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7fb70e94, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1e79b0fc testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@272cec71]; rollback [true]
2019-09-04 12:41:32,687 INFO  ru.vladzag.web.admin.AdminRestController.delete:79 - Admin deleteRestaurant with id: 100002
2019-09-04 12:41:32,691 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:41:32,697 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@336b7da4 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7fb70e94, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1e79b0fc testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:41:32,707 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:41:32,707 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:41:32,711 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 12:41:32,719 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@336b7da4 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@17524c36, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1e79b0fc testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@272cec71]; rollback [true]
2019-09-04 12:41:32,722 INFO  ru.vladzag.web.admin.AdminRestController.getAllHistory:46 - Admin getHistory
2019-09-04 12:41:32,735 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@336b7da4 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@17524c36, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1e79b0fc testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:41:32,737 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:41:32,740 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:41:32,746 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-04 12:41:32,752 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@336b7da4 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@615f61ec, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1e79b0fc testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@272cec71]; rollback [true]
2019-09-04 12:41:32,759 INFO  ru.vladzag.web.admin.AdminRestController.createWithLocation:102 - Admin createRestaurant with id: 100011
2019-09-04 12:41:32,762 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:41:32,768 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@336b7da4 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@615f61ec, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1e79b0fc testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:41:32,786 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 12:41:32,795 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 12:41:32,804 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 12:41:32,808 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 12:41:32,809 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 12:41:32,810 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 12:47:56,236 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 12:47:56,266 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@55322aab, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2b4c1d96, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@45fd9a4d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@50468873, org.springframework.test.context.transaction.TransactionalTestExecutionListener@146587a2, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5f0e9815]
2019-09-04 12:47:57,048 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 12:47:57,056 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 12:47:57,113 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 12:47:57,172 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 12:47:57,227 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 12:47:57,502 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 12:47:57,733 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 200ms. Found 4 repository interfaces.
2019-09-04 12:47:59,024 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 12:47:59,031 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 12:47:59,038 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 12:47:59,043 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 12:47:59,096 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 12:47:59,100 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 12:47:59,101 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 12:47:59,103 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 12:47:59,137 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 12:47:59,143 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 12:47:59,145 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 12:47:59,147 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 12:47:59,302 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 12:47:59,456 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 12:47:59,707 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 12:48:00,355 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 12:48:00,910 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 12:48:02,031 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 12:48:02,034 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 12:48:02,087 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 12:48:02,091 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 12:48:03,093 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@3c17794e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7c02b3cb, org.springframework.security.web.header.HeaderWriterFilter@2c4be45f, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4b4228cf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@55d8f6bb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6e22d6bf, org.springframework.security.web.access.ExceptionTranslationFilter@639cb0c8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@45c28c49]
2019-09-04 12:48:03,910 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 12:48:03,923 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 12:48:03,925 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 12:48:03,926 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 12:48:03,927 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 12:49:05,795 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 12:49:05,828 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@295eaa7c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3918c187, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@2c88b9fc, org.springframework.test.context.support.DirtiesContextTestExecutionListener@64dafeed, org.springframework.test.context.transaction.TransactionalTestExecutionListener@388ba540, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@47605f2f]
2019-09-04 12:49:06,516 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 12:49:06,522 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 12:49:06,591 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 12:49:06,605 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 12:49:06,641 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 12:49:06,976 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 12:49:07,182 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 173ms. Found 4 repository interfaces.
2019-09-04 12:49:08,549 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 12:49:08,555 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 12:49:08,560 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 12:49:08,566 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 12:49:08,619 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 12:49:08,623 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 12:49:08,626 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 12:49:08,627 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 12:49:08,662 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 12:49:08,665 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 12:49:08,667 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 12:49:08,668 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 12:49:08,799 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 12:49:08,925 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 12:49:09,167 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 12:49:09,750 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 12:49:10,201 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 12:49:11,177 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 12:49:11,180 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 12:49:11,234 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 12:49:11,238 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 12:49:12,236 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@c7269ad, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42536da6, org.springframework.security.web.header.HeaderWriterFilter@17034458, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@463a1f47, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7ac1161f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3d6745ed, org.springframework.security.web.access.ExceptionTranslationFilter@285ac40b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@205b73d8]
2019-09-04 12:49:13,255 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 12:49:13,256 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@61c644fe, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@cbaabfb, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@48614fb3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4eb3b690, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1d01fa0c, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@44bd7f24]
2019-09-04 12:49:13,365 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 12:49:13,368 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 12:49:13,369 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 12:49:13,371 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 12:49:13,532 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 12:49:13,562 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 27ms. Found 4 repository interfaces.
2019-09-04 12:49:13,668 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 12:49:13,670 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 12:49:13,671 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 12:49:13,673 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 12:49:13,728 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 12:49:13,749 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 12:49:13,855 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 12:49:13,856 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 12:49:13,867 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 12:49:13,870 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 12:49:14,032 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@702ab027, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@8929865, org.springframework.security.web.header.HeaderWriterFilter@1a000fff, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@798d8247, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2ccb8db3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@642b2176, org.springframework.security.web.access.ExceptionTranslationFilter@2c1b10f2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@653a5a]
2019-09-04 12:49:14,787 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 12:49:14,837 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 12:49:15,004 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:49:15,005 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:49:15,017 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 11 ms
2019-09-04 12:49:15,030 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@74f54f8e testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@1252d480, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@59b8a801 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@735d7b99]; rollback [true]
2019-09-04 12:49:15,109 INFO  ru.vladzag.web.user.UserRestController.getRestaurant:55 - User getRestaurant with id: 100005
2019-09-04 12:49:15,253 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@74f54f8e testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@1252d480, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@59b8a801 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:49:15,256 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:49:15,259 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:49:15,263 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 12:49:15,276 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@74f54f8e testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@225d93aa, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@59b8a801 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@735d7b99]; rollback [true]
2019-09-04 12:49:15,288 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:49:15,344 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@74f54f8e testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@225d93aa, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@59b8a801 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:49:15,347 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:49:15,349 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:49:15,356 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-04 12:49:15,363 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@74f54f8e testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@76d4e1af, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@59b8a801 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@735d7b99]; rollback [true]
2019-09-04 12:49:15,372 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-04 12:49:15,380 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@74f54f8e testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@76d4e1af, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@59b8a801 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:49:15,383 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:49:15,386 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:49:15,390 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 12:49:15,401 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@74f54f8e testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4f3a8e3e, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@59b8a801 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@735d7b99]; rollback [true]
2019-09-04 12:49:15,409 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 12:49:15,422 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100003
2019-09-04 12:49:15,434 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@74f54f8e testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4f3a8e3e, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@59b8a801 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:49:15,437 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:49:15,439 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:49:15,443 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 12:49:15,449 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@74f54f8e testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@470c2a7a, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@59b8a801 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@735d7b99]; rollback [true]
2019-09-04 12:49:15,458 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 12:49:15,468 INFO  ru.vladzag.web.user.UserRestController.updateVote:67 - User updateVote(id: 100010) for restaurant with id: 100003
2019-09-04 12:49:15,475 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@74f54f8e testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@470c2a7a, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@59b8a801 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:49:15,477 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:49:15,479 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:49:15,483 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 12:49:15,491 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@74f54f8e testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@210e4678, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@59b8a801 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@735d7b99]; rollback [true]
2019-09-04 12:49:15,502 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 12:49:15,513 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@74f54f8e testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@210e4678, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@59b8a801 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:49:15,515 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:49:15,520 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:49:15,523 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 2 ms
2019-09-04 12:49:15,529 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@74f54f8e testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@386b4f7e, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@59b8a801 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@735d7b99]; rollback [true]
2019-09-04 12:49:15,536 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 12:49:15,541 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-04 12:49:15,564 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@74f54f8e testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@386b4f7e, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@59b8a801 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:49:15,585 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 12:49:15,587 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5207747c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@68596992, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5f0c45ae, org.springframework.test.context.support.DirtiesContextTestExecutionListener@66d62c59, org.springframework.test.context.transaction.TransactionalTestExecutionListener@f1b006b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2c2dfde3]
2019-09-04 12:49:15,602 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-04 12:49:15,603 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-04 12:49:15,662 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:49:15,685 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-04 12:49:15,686 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-04 12:49:15,688 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:49:15,839 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:49:16,011 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 12:49:16,012 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@207e3ffd, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2a3251ad, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@457547a1, org.springframework.test.context.support.DirtiesContextTestExecutionListener@795ce9b5, org.springframework.test.context.transaction.TransactionalTestExecutionListener@280cb0b4, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@108b2321]
2019-09-04 12:49:16,017 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:49:16,018 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:49:16,022 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 12:49:16,026 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2ce7ec5f testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@65bc50c9, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7b381066 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@735d7b99]; rollback [true]
2019-09-04 12:49:16,034 INFO  ru.vladzag.web.admin.AdminRestController.delete:79 - Admin deleteRestaurant with id: 100002
2019-09-04 12:49:16,040 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:49:16,045 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2ce7ec5f testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@65bc50c9, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7b381066 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:49:16,047 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:49:16,048 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:49:16,059 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 8 ms
2019-09-04 12:49:16,065 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2ce7ec5f testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@80347b2, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7b381066 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@735d7b99]; rollback [true]
2019-09-04 12:49:16,072 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-04 12:49:16,074 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:49:16,081 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2ce7ec5f testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@80347b2, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7b381066 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:49:16,083 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:49:16,084 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:49:16,090 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 12:49:16,096 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2ce7ec5f testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@4bda93f1, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7b381066 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@735d7b99]; rollback [true]
2019-09-04 12:49:16,115 INFO  ru.vladzag.web.admin.AdminRestController.update:87 - Admin updateRestaurant with id: 100002
2019-09-04 12:49:16,122 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:49:16,133 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2ce7ec5f testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@4bda93f1, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7b381066 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:49:16,135 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:49:16,137 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:49:16,143 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-04 12:49:16,149 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2ce7ec5f testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@40af3dd8, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7b381066 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@735d7b99]; rollback [true]
2019-09-04 12:49:16,162 INFO  ru.vladzag.web.admin.AdminRestController.updateDish:126 - Admin updateDish with id: 100007
2019-09-04 12:49:16,174 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2ce7ec5f testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@40af3dd8, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7b381066 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:49:16,180 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:49:16,181 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:49:16,184 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 2 ms
2019-09-04 12:49:16,194 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2ce7ec5f testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@77fd5501, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7b381066 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@735d7b99]; rollback [true]
2019-09-04 12:49:16,206 INFO  ru.vladzag.web.admin.AdminRestController.get:62 - Admin getRestaurant(id: 100005) in date: 2015-05-30
2019-09-04 12:49:16,226 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2ce7ec5f testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@77fd5501, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7b381066 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:49:16,228 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:49:16,228 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:49:16,234 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 12:49:16,238 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2ce7ec5f testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@6018a6a2, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7b381066 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@735d7b99]; rollback [true]
2019-09-04 12:49:16,246 INFO  ru.vladzag.web.admin.AdminRestController.createDish:116 - Admin createDish with id: 100010
2019-09-04 12:49:16,255 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2ce7ec5f testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@6018a6a2, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7b381066 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:49:16,260 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:49:16,261 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:49:16,267 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-04 12:49:16,272 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2ce7ec5f testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@2a1fce44, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7b381066 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@735d7b99]; rollback [true]
2019-09-04 12:49:16,275 INFO  ru.vladzag.web.admin.AdminRestController.delete:79 - Admin deleteRestaurant with id: 100002
2019-09-04 12:49:16,278 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:49:16,284 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2ce7ec5f testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@2a1fce44, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7b381066 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:49:16,285 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:49:16,288 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:49:16,292 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 12:49:16,301 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2ce7ec5f testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@47e02a89, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7b381066 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@735d7b99]; rollback [true]
2019-09-04 12:49:16,303 INFO  ru.vladzag.web.admin.AdminRestController.getAllHistory:46 - Admin getHistory
2019-09-04 12:49:16,321 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2ce7ec5f testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@47e02a89, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7b381066 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:49:16,323 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:49:16,324 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:49:16,333 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-04 12:49:16,339 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2ce7ec5f testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@31f5580b, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7b381066 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@735d7b99]; rollback [true]
2019-09-04 12:49:16,344 INFO  ru.vladzag.web.admin.AdminRestController.createWithLocation:102 - Admin createRestaurant with id: 100011
2019-09-04 12:49:16,347 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:49:16,355 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2ce7ec5f testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@31f5580b, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7b381066 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:49:16,371 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 12:49:16,376 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 12:49:16,385 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 12:49:16,387 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 12:49:16,389 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 12:49:16,390 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 13:03:05,467 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 13:03:05,503 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4a3329b9, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3dddefd8, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@160ac7fb, org.springframework.test.context.support.DirtiesContextTestExecutionListener@12bfd80d, org.springframework.test.context.transaction.TransactionalTestExecutionListener@41925502, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@13e3c1c7]
2019-09-04 13:03:06,082 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 13:03:06,087 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 13:03:06,130 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 13:03:06,133 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 13:03:06,167 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 13:03:06,383 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 13:03:06,629 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 213ms. Found 4 repository interfaces.
2019-09-04 13:03:08,460 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 13:03:08,466 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 13:03:08,475 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 13:03:08,481 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 13:03:08,536 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 13:03:08,539 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 13:03:08,541 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 13:03:08,543 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 13:03:08,586 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 13:03:08,589 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 13:03:08,591 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 13:03:08,593 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 13:03:08,729 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 13:03:08,882 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 13:03:09,149 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 13:03:09,966 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 13:03:10,674 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 13:03:12,316 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 13:03:12,321 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 13:03:12,401 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 13:03:12,406 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 13:03:14,002 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@58486deb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3d01ea33, org.springframework.security.web.header.HeaderWriterFilter@62f6185a, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@632d1b1b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@49ee3b8d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2526d5f9, org.springframework.security.web.access.ExceptionTranslationFilter@eb1e868, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@18ffc008]
2019-09-04 13:03:15,384 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 13:03:15,387 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@21457b14, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7e484bd, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7e1ae693, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3e0600a4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@341141ab, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1773faf8]
2019-09-04 13:03:15,622 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 13:03:15,625 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 13:03:15,626 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 13:03:15,629 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 13:03:15,899 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 13:03:15,961 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 47ms. Found 4 repository interfaces.
2019-09-04 13:03:16,108 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 13:03:16,110 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 13:03:16,111 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 13:03:16,114 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 13:03:16,194 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 13:03:16,223 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 13:03:16,340 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 13:03:16,340 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 13:03:16,352 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 13:03:16,355 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 13:03:16,545 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@56f569e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3da12ba4, org.springframework.security.web.header.HeaderWriterFilter@702ab027, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2086f336, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3445341, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@14a5d7ee, org.springframework.security.web.access.ExceptionTranslationFilter@2ccb8db3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4a83d61c]
2019-09-04 13:03:17,284 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 13:03:17,345 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 13:03:17,492 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 13:03:17,493 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 13:03:17,505 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 11 ms
2019-09-04 13:03:17,516 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@157ff8f8, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 13:03:17,584 INFO  ru.vladzag.web.user.UserRestController.getRestaurant:55 - User getRestaurant with id: 100005
2019-09-04 13:03:17,720 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@157ff8f8, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 13:03:17,724 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 13:03:17,727 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 13:03:17,730 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 2 ms
2019-09-04 13:03:17,734 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@394c77e2, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 13:03:17,748 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 13:03:17,798 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@394c77e2, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 13:03:17,800 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 13:03:17,803 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 13:03:17,809 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-04 13:03:17,815 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@27e42fe8, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 13:03:17,825 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-04 13:03:17,833 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@27e42fe8, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 13:03:17,836 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 13:03:17,838 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 13:03:17,843 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-04 13:03:17,849 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@72499396, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 13:03:17,861 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 13:03:17,873 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100003
2019-09-04 13:03:17,885 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@72499396, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 13:03:17,888 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 13:03:17,891 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 13:03:17,895 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 13:03:17,903 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@6f13ed1, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 13:03:17,913 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 13:03:17,922 INFO  ru.vladzag.web.user.UserRestController.updateVote:67 - User updateVote(id: 100010) for restaurant with id: 100003
2019-09-04 13:03:17,931 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@6f13ed1, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 13:03:17,934 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 13:03:17,936 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 13:03:17,943 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-04 13:03:17,949 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@45cce4c2, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 13:03:17,959 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 13:03:17,975 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@45cce4c2, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 13:03:17,981 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 13:03:17,982 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 13:03:17,985 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 13:03:17,994 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@fcee97c, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 13:03:18,004 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 13:03:18,012 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-04 13:03:18,037 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@fcee97c, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 13:03:18,051 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 13:03:18,055 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@68d1f4e2, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@72769bf5, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5a63de07, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7d364bce, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1aa7d66e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5cc85ffc]
2019-09-04 13:03:18,068 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-04 13:03:18,068 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-04 13:03:18,127 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 13:03:18,149 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-04 13:03:18,150 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-04 13:03:18,156 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 13:03:18,316 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 13:03:18,465 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 13:03:18,466 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5e81b406, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3ff83cc8, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@6dd8ac29, org.springframework.test.context.support.DirtiesContextTestExecutionListener@336b7da4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6019ce4b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e79b0fc]
2019-09-04 13:03:18,468 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 13:03:18,470 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 13:03:18,474 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 13:03:18,479 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@236e6563, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 13:03:18,485 INFO  ru.vladzag.web.admin.AdminRestController.delete:79 - Admin deleteRestaurant with id: 100002
2019-09-04 13:03:18,493 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 13:03:18,496 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@236e6563, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 13:03:18,501 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 13:03:18,503 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 13:03:18,508 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 13:03:18,514 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@15844237, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 13:03:18,520 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-04 13:03:18,522 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 13:03:18,531 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@15844237, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 13:03:18,533 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 13:03:18,534 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 13:03:18,538 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 13:03:18,543 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5cd5e1b6, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 13:03:18,555 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:198 - Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required String parameter 'restaurantName' is not present]
2019-09-04 13:03:18,559 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5cd5e1b6, testMethod = update@AdminRestControllerTest, testException = java.lang.AssertionError: Status expected:<204> but was:<400>, mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 13:03:18,568 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 13:03:18,568 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 13:03:18,572 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 13:03:18,599 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@34438b38, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 13:03:18,627 INFO  ru.vladzag.web.admin.AdminRestController.updateDish:126 - Admin updateDish with id: 100007
2019-09-04 13:03:18,635 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@34438b38, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 13:03:18,637 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 13:03:18,637 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 13:03:18,641 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 13:03:18,648 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@2898cd46, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 13:03:18,660 INFO  ru.vladzag.web.admin.AdminRestController.get:62 - Admin getRestaurant(id: 100005) in date: 2015-05-30
2019-09-04 13:03:18,679 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@2898cd46, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 13:03:18,682 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 13:03:18,684 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 13:03:18,696 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 8 ms
2019-09-04 13:03:18,705 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@31aec04a, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 13:03:18,717 INFO  ru.vladzag.web.admin.AdminRestController.createDish:116 - Admin createDish with id: 100010
2019-09-04 13:03:18,727 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@31aec04a, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 13:03:18,728 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 13:03:18,729 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 13:03:18,733 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 13:03:18,737 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7b237c2c, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 13:03:18,744 INFO  ru.vladzag.web.admin.AdminRestController.delete:79 - Admin deleteRestaurant with id: 100002
2019-09-04 13:03:18,749 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 13:03:18,752 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7b237c2c, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 13:03:18,754 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 13:03:18,757 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 13:03:18,760 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 2 ms
2019-09-04 13:03:18,772 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@2aa85cc4, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 13:03:18,776 INFO  ru.vladzag.web.admin.AdminRestController.getAllHistory:46 - Admin getHistory
2019-09-04 13:03:18,794 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@2aa85cc4, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 13:03:18,795 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 13:03:18,796 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 13:03:18,801 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-04 13:03:18,809 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@cf315f1, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 13:03:18,812 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:198 - Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required String parameter 'restaurantName' is not present]
2019-09-04 13:03:18,815 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@cf315f1, testMethod = createWithLocation@AdminRestControllerTest, testException = java.lang.IllegalArgumentException: Invalid read from JSON:
'', mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 13:03:18,834 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 13:03:18,845 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 13:03:18,855 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 13:03:18,859 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 13:03:18,860 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 13:03:18,861 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 13:07:16,424 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 13:07:16,460 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2654635, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@737a135b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@687ef2e0, org.springframework.test.context.support.DirtiesContextTestExecutionListener@15dcfae7, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3da05287, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e636ea3]
2019-09-04 13:07:17,301 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 13:07:17,307 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 13:07:17,389 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 13:07:17,391 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 13:07:17,434 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 13:07:18,022 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 13:07:18,249 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 201ms. Found 4 repository interfaces.
2019-09-04 13:07:19,664 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 13:07:19,669 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 13:07:19,675 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 13:07:19,680 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 13:07:19,734 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 13:07:19,739 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 13:07:19,741 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 13:07:19,743 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 13:07:19,774 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 13:07:19,778 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 13:07:19,779 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 13:07:19,781 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 13:07:20,113 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 13:07:20,196 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 13:07:20,408 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 13:07:20,976 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 13:07:21,462 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 13:07:22,465 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 13:07:22,470 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 13:07:22,521 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 13:07:22,526 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 13:07:23,469 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@464d60fb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6167c42f, org.springframework.security.web.header.HeaderWriterFilter@7c9512c6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3bf52f8f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e75bef1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4351d055, org.springframework.security.web.access.ExceptionTranslationFilter@7983a5d5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2f69d246]
2019-09-04 13:07:24,577 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 13:07:24,631 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 13:07:24,866 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 13:07:24,868 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 13:07:24,882 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 13 ms
2019-09-04 13:07:24,910 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@5bb661e0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@18fcfe7e, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1ed0128b testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@25630ede]; rollback [true]
2019-09-04 13:07:25,018 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:198 - Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type '' not supported]
2019-09-04 13:07:25,031 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@5bb661e0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@18fcfe7e, testMethod = update@AdminRestControllerTest, testException = java.lang.AssertionError: Status expected:<204> but was:<415>, mergedContextConfiguration = [WebMergedContextConfiguration@1ed0128b testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 13:07:25,079 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 13:07:25,092 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 13:07:25,094 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 13:07:25,096 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 13:07:25,097 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 13:15:37,191 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 13:15:37,220 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2654635, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@737a135b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@687ef2e0, org.springframework.test.context.support.DirtiesContextTestExecutionListener@15dcfae7, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3da05287, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e636ea3]
2019-09-04 13:15:37,826 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 13:15:37,834 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 13:15:37,892 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 13:15:37,893 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 13:15:37,928 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 13:15:38,346 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 13:15:38,544 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 168ms. Found 4 repository interfaces.
2019-09-04 13:15:39,738 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 13:15:39,743 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 13:15:39,748 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 13:15:39,753 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 13:15:39,806 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 13:15:39,810 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 13:15:39,812 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 13:15:39,814 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 13:15:39,844 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 13:15:39,846 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 13:15:39,848 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 13:15:39,849 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 13:15:40,170 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 13:15:40,266 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 13:15:40,525 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 13:15:41,209 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 13:15:41,708 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 13:15:42,803 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 13:15:42,808 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 13:15:42,869 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 13:15:42,874 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 13:15:43,849 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@464d60fb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6167c42f, org.springframework.security.web.header.HeaderWriterFilter@7c9512c6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3bf52f8f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e75bef1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4351d055, org.springframework.security.web.access.ExceptionTranslationFilter@7983a5d5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2f69d246]
2019-09-04 13:15:44,901 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 13:15:44,949 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 13:15:45,213 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 13:15:45,215 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 13:15:45,226 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 11 ms
2019-09-04 13:15:45,256 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@5bb661e0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@18fcfe7e, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1ed0128b testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@25630ede]; rollback [true]
2019-09-04 13:15:45,365 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:198 - Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type '' not supported]
2019-09-04 13:15:45,381 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@5bb661e0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@18fcfe7e, testMethod = update@AdminRestControllerTest, testException = java.lang.AssertionError: Status expected:<204> but was:<415>, mergedContextConfiguration = [WebMergedContextConfiguration@1ed0128b testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 13:15:45,424 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 13:15:45,436 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 13:15:45,438 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 13:15:45,441 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 13:15:45,442 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 13:15:53,102 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 13:15:53,132 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2654635, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@737a135b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@687ef2e0, org.springframework.test.context.support.DirtiesContextTestExecutionListener@15dcfae7, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3da05287, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e636ea3]
2019-09-04 13:15:54,040 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 13:15:54,047 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 13:15:54,130 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 13:15:54,131 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 13:15:54,175 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 13:15:54,598 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 13:15:54,814 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 181ms. Found 4 repository interfaces.
2019-09-04 13:15:55,996 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 13:15:56,001 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 13:15:56,012 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 13:15:56,018 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 13:15:56,065 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 13:15:56,069 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 13:15:56,071 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 13:15:56,072 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 13:15:56,107 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 13:15:56,109 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 13:15:56,111 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 13:15:56,113 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 13:15:56,420 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 13:15:56,527 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 13:15:56,711 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 13:15:57,317 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 13:15:57,789 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 13:15:58,651 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 13:15:58,654 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 13:15:58,709 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 13:15:58,713 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 13:15:59,607 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@464d60fb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6167c42f, org.springframework.security.web.header.HeaderWriterFilter@7c9512c6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3bf52f8f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e75bef1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4351d055, org.springframework.security.web.access.ExceptionTranslationFilter@7983a5d5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2f69d246]
2019-09-04 13:16:00,677 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 13:16:00,720 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 13:16:00,954 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 13:16:00,955 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 13:16:00,967 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 12 ms
2019-09-04 13:16:00,994 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@5ae22651 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@464017f5, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3c4231e5 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6956081d]; rollback [true]
2019-09-04 13:16:01,106 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:198 - Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type '' not supported]
2019-09-04 13:16:01,128 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@5ae22651 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@464017f5, testMethod = createWithLocation@AdminRestControllerTest, testException = java.lang.IllegalArgumentException: Invalid read from JSON:
'', mergedContextConfiguration = [WebMergedContextConfiguration@3c4231e5 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 13:16:01,167 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 13:16:01,179 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 13:16:01,181 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 13:16:01,182 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 13:16:01,184 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 13:17:07,391 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 13:17:07,440 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2654635, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@737a135b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@687ef2e0, org.springframework.test.context.support.DirtiesContextTestExecutionListener@15dcfae7, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3da05287, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e636ea3]
2019-09-04 13:17:08,330 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 13:17:08,349 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 13:17:08,423 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 13:17:08,425 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 13:17:08,485 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 13:17:08,940 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 13:17:09,172 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 205ms. Found 4 repository interfaces.
2019-09-04 13:17:10,390 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 13:17:10,396 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 13:17:10,403 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 13:17:10,410 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 13:17:10,464 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 13:17:10,469 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 13:17:10,471 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 13:17:10,473 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 13:17:10,516 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 13:17:10,519 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 13:17:10,521 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 13:17:10,522 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 13:17:10,932 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 13:17:11,038 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 13:17:11,245 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 13:17:11,869 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 13:17:12,364 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 13:17:13,192 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 13:17:13,195 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 13:17:13,236 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 13:17:13,240 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 13:17:14,126 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@464d60fb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6167c42f, org.springframework.security.web.header.HeaderWriterFilter@7c9512c6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3bf52f8f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e75bef1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4351d055, org.springframework.security.web.access.ExceptionTranslationFilter@7983a5d5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2f69d246]
2019-09-04 13:17:15,126 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 13:17:15,176 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 13:17:15,391 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 13:17:15,392 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 13:17:15,404 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 11 ms
2019-09-04 13:17:15,431 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@5bb661e0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@18fcfe7e, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1ed0128b testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@25630ede]; rollback [true]
2019-09-04 13:17:15,521 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:198 - Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type '' not supported]
2019-09-04 13:17:15,525 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 13:17:15,769 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@5bb661e0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@18fcfe7e, testMethod = createWithLocation@AdminRestControllerTest, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <[Restaurant:100002(R1),
    Restaurant:100003(R2),
    Restaurant:100004(R3),
    Restaurant:100005(RWM)]>
to be equal to:
 <[Restaurant:100002(R1),
    Restaurant:100003(R2),
    Restaurant:100004(R3),
    Restaurant:100005(RWM),
    Restaurant:100010(RTS)]>
when comparing elements using field/property by field/property comparator on all fields/properties except ["id", "votes", "dishes"]
Comparators used:
- for elements fields (by type): {Double -> DoubleComparator[precision=1.0E-15], Float -> FloatComparator[precision=1.0E-6]}
- for elements (by type): {Double -> DoubleComparator[precision=1.0E-15], Float -> FloatComparator[precision=1.0E-6]}
but was not., mergedContextConfiguration = [WebMergedContextConfiguration@1ed0128b testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 13:17:15,811 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 13:17:15,826 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 13:17:15,829 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 13:17:15,831 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 13:17:15,833 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 13:20:34,482 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 13:20:34,516 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2654635, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@737a135b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@687ef2e0, org.springframework.test.context.support.DirtiesContextTestExecutionListener@15dcfae7, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3da05287, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e636ea3]
2019-09-04 13:20:35,379 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 13:20:35,389 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 13:20:35,456 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 13:20:35,458 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 13:20:35,518 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 13:20:35,968 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 13:20:36,168 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 172ms. Found 4 repository interfaces.
2019-09-04 13:20:37,351 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 13:20:37,358 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 13:20:37,363 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 13:20:37,369 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 13:20:37,413 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 13:20:37,417 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 13:20:37,419 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 13:20:37,421 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 13:20:37,456 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 13:20:37,459 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 13:20:37,462 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 13:20:37,463 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 13:20:37,768 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 13:20:37,859 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 13:20:38,017 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 13:20:38,489 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 13:20:38,865 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 13:20:39,601 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 13:20:39,605 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 13:20:39,660 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 13:20:39,664 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 13:20:40,364 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@464d60fb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6167c42f, org.springframework.security.web.header.HeaderWriterFilter@7c9512c6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3bf52f8f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e75bef1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4351d055, org.springframework.security.web.access.ExceptionTranslationFilter@7983a5d5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2f69d246]
2019-09-04 13:20:41,147 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 13:20:41,185 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 13:20:41,360 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 13:20:41,361 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 13:20:41,371 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 9 ms
2019-09-04 13:20:41,393 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@5bb661e0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@18fcfe7e, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1ed0128b testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@25630ede]; rollback [true]
2019-09-04 13:20:41,464 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:198 - Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type '' not supported]
2019-09-04 13:20:41,480 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@5bb661e0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@18fcfe7e, testMethod = createWithLocation@AdminRestControllerTest, testException = java.lang.IllegalArgumentException: Invalid read from JSON:
'', mergedContextConfiguration = [WebMergedContextConfiguration@1ed0128b testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 13:20:41,519 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 13:20:41,530 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 13:20:41,532 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 13:20:41,533 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 13:20:41,535 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 13:20:54,183 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 13:20:54,222 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3a393455, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@13518f37, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7cbc3762, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3a6f2de3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@49872d67, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@56303b57]
2019-09-04 13:20:55,037 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 13:20:55,045 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 13:20:55,090 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 13:20:55,092 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 13:20:55,127 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 13:20:55,517 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 13:20:55,740 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 185ms. Found 4 repository interfaces.
2019-09-04 13:20:57,166 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 13:20:57,172 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 13:20:57,176 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 13:20:57,182 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 13:20:57,250 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 13:20:57,258 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 13:20:57,260 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 13:20:57,264 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 13:20:57,323 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 13:20:57,326 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 13:20:57,327 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 13:20:57,329 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 13:20:57,672 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 13:20:57,767 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 13:20:58,009 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 13:20:58,738 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 13:20:59,311 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 13:21:00,539 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 13:21:00,542 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 13:21:00,597 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 13:21:00,601 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 13:21:01,639 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@29c76d75, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@670aac24, org.springframework.security.web.header.HeaderWriterFilter@128ca7af, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7f65639e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@55bafbc1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5fb0a09e, org.springframework.security.web.access.ExceptionTranslationFilter@34a482d0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3c130cb2]
2019-09-04 13:21:02,802 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 13:21:02,849 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 13:21:03,107 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 13:21:03,108 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 13:21:03,125 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 16 ms
2019-09-04 13:21:03,159 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@5c21b22e testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@184e5c44, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6527aa0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@650e6569]; rollback [true]
2019-09-04 13:21:03,269 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:198 - Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type '' not supported]
2019-09-04 13:21:03,295 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@5c21b22e testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@184e5c44, testMethod = createWithLocation@AdminRestControllerTest, testException = java.lang.IllegalArgumentException: Invalid read from JSON:
'', mergedContextConfiguration = [WebMergedContextConfiguration@6527aa0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 13:21:03,344 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 13:21:03,355 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 13:21:03,357 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 13:21:03,358 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 13:21:03,359 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 13:21:56,179 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 13:21:56,226 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6f152006, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3a393455, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@13518f37, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7cbc3762, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3a6f2de3, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@49872d67]
2019-09-04 13:21:57,103 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 13:21:57,110 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 13:21:57,172 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 13:21:57,173 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 13:21:57,338 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 13:21:57,728 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 13:21:57,965 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 196ms. Found 4 repository interfaces.
2019-09-04 13:21:59,553 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 13:21:59,576 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 13:21:59,582 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 13:21:59,591 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 13:21:59,655 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 13:21:59,659 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 13:21:59,661 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 13:21:59,662 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 13:21:59,703 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 13:21:59,707 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 13:21:59,708 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 13:21:59,710 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 13:22:00,106 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 13:22:00,205 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 13:22:00,435 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 13:22:01,042 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 13:22:01,639 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 13:22:02,956 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 13:22:02,959 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 13:22:03,010 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 13:22:03,016 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 13:22:04,164 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@549404e7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@75b4db22, org.springframework.security.web.header.HeaderWriterFilter@3bac86a3, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4e7b89b6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@48f95f96, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@45e68fac, org.springframework.security.web.access.ExceptionTranslationFilter@41041c31, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@25d87313]
2019-09-04 13:22:05,423 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 13:22:05,498 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 13:22:05,741 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 13:22:05,741 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 13:22:05,755 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 13 ms
2019-09-04 13:22:05,788 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6527aa0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@6153aca1, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@30b2d267 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@311eb725]; rollback [true]
2019-09-04 13:24:22,147 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:198 - Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type '' not supported]
2019-09-04 13:24:33,842 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 13:24:33,855 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 13:24:33,859 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 13:24:33,860 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6527aa0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@6153aca1, testMethod = createWithLocation@AdminRestControllerTest, testException = java.lang.IllegalArgumentException: Invalid read from JSON:
'', mergedContextConfiguration = [WebMergedContextConfiguration@30b2d267 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 13:24:33,861 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 13:24:33,863 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 14:26:43,077 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 14:26:43,117 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2654635, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@737a135b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@687ef2e0, org.springframework.test.context.support.DirtiesContextTestExecutionListener@15dcfae7, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3da05287, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e636ea3]
2019-09-04 14:26:43,957 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 14:26:43,962 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 14:26:44,016 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 14:26:44,018 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 14:26:44,055 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 14:26:44,461 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 14:26:44,704 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 209ms. Found 4 repository interfaces.
2019-09-04 14:26:46,045 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 14:26:46,050 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 14:26:46,054 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 14:26:46,059 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 14:26:46,114 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 14:26:46,118 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 14:26:46,119 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 14:26:46,121 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 14:26:46,150 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 14:26:46,152 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 14:26:46,153 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 14:26:46,155 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 14:26:46,424 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 14:26:46,500 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 14:26:46,746 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 14:26:47,293 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 14:26:47,758 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 14:26:48,644 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 14:26:48,647 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 14:26:48,693 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 14:26:48,696 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 14:26:49,467 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@464d60fb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6167c42f, org.springframework.security.web.header.HeaderWriterFilter@7c9512c6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3bf52f8f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e75bef1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4351d055, org.springframework.security.web.access.ExceptionTranslationFilter@7983a5d5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2f69d246]
2019-09-04 14:26:50,403 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 14:26:50,448 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 14:26:50,680 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 14:26:50,680 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 14:26:50,692 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 11 ms
2019-09-04 14:26:50,724 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@5bb661e0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@18fcfe7e, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1ed0128b testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@25630ede]; rollback [true]
2019-09-04 14:26:51,065 INFO  ru.vladzag.web.admin.AdminRestController.createDish:116 - Admin createDish with id: 100010
2019-09-04 14:26:51,146 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@5bb661e0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@18fcfe7e, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1ed0128b testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 14:26:51,174 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 14:26:51,187 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 14:26:51,189 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 14:26:51,190 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 14:26:51,191 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 14:29:24,554 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 14:29:24,588 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2654635, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@737a135b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@687ef2e0, org.springframework.test.context.support.DirtiesContextTestExecutionListener@15dcfae7, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3da05287, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e636ea3]
2019-09-04 14:29:25,482 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 14:29:25,488 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 14:29:25,541 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 14:29:25,543 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 14:29:25,626 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 14:29:26,026 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 14:29:26,238 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 180ms. Found 4 repository interfaces.
2019-09-04 14:29:27,452 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 14:29:27,468 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 14:29:27,475 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 14:29:27,490 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 14:29:27,583 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 14:29:27,589 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 14:29:27,591 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 14:29:27,592 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 14:29:27,630 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 14:29:27,633 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 14:29:27,636 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 14:29:27,640 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 14:29:28,026 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 14:29:28,107 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 14:29:28,321 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 14:29:28,903 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 14:29:29,356 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 14:29:30,237 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 14:29:30,248 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 14:29:30,289 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 14:29:30,292 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 14:29:31,088 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@464d60fb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6167c42f, org.springframework.security.web.header.HeaderWriterFilter@7c9512c6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3bf52f8f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e75bef1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4351d055, org.springframework.security.web.access.ExceptionTranslationFilter@7983a5d5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2f69d246]
2019-09-04 14:29:32,106 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 14:29:32,154 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 14:29:32,412 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 14:29:32,413 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 14:29:32,428 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 14 ms
2019-09-04 14:29:32,459 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@5bb661e0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@18fcfe7e, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1ed0128b testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@25630ede]; rollback [true]
2019-09-04 14:29:32,574 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:198 - Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type '' not supported]
2019-09-04 14:29:32,601 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@5bb661e0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@18fcfe7e, testMethod = createWithLocation@AdminRestControllerTest, testException = java.lang.IllegalArgumentException: Invalid read from JSON:
'', mergedContextConfiguration = [WebMergedContextConfiguration@1ed0128b testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 14:29:32,655 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 14:29:32,665 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 14:29:32,667 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 14:29:32,669 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 14:29:32,670 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 14:35:29,640 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 14:35:29,668 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2654635, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@737a135b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@687ef2e0, org.springframework.test.context.support.DirtiesContextTestExecutionListener@15dcfae7, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3da05287, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e636ea3]
2019-09-04 14:35:30,357 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 14:35:30,364 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 14:35:30,442 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 14:35:30,443 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 14:35:30,503 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 14:35:31,053 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 14:35:31,323 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 227ms. Found 4 repository interfaces.
2019-09-04 14:35:32,617 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 14:35:32,628 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 14:35:32,634 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 14:35:32,640 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 14:35:32,693 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 14:35:32,697 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 14:35:32,701 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 14:35:32,705 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 14:35:32,737 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 14:35:32,740 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 14:35:32,742 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 14:35:32,743 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 14:35:33,108 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 14:35:33,180 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 14:35:33,418 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 14:35:33,984 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 14:35:34,440 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 14:35:35,374 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 14:35:35,377 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 14:35:35,422 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 14:35:35,425 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 14:35:36,346 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@464d60fb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6167c42f, org.springframework.security.web.header.HeaderWriterFilter@7c9512c6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3bf52f8f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e75bef1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4351d055, org.springframework.security.web.access.ExceptionTranslationFilter@7983a5d5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2f69d246]
2019-09-04 14:35:37,369 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 14:35:37,417 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 14:35:37,667 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 14:35:37,668 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 14:35:37,681 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 13 ms
2019-09-04 14:35:37,710 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@5bb661e0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@18fcfe7e, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1ed0128b testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@25630ede]; rollback [true]
2019-09-04 14:35:37,818 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:198 - Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type '' not supported]
2019-09-04 14:35:37,829 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@5bb661e0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@18fcfe7e, testMethod = update@AdminRestControllerTest, testException = java.lang.AssertionError: Status expected:<204> but was:<415>, mergedContextConfiguration = [WebMergedContextConfiguration@1ed0128b testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 14:35:37,890 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 14:35:37,901 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 14:35:37,903 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 14:35:37,904 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 14:35:37,906 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 14:36:25,601 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 14:36:25,629 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2654635, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@737a135b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@687ef2e0, org.springframework.test.context.support.DirtiesContextTestExecutionListener@15dcfae7, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3da05287, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e636ea3]
2019-09-04 14:36:26,486 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 14:36:26,493 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 14:36:26,546 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 14:36:26,565 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 14:36:26,624 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 14:36:27,077 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 14:36:27,324 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 210ms. Found 4 repository interfaces.
2019-09-04 14:36:28,587 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 14:36:28,593 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 14:36:28,598 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 14:36:28,605 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 14:36:28,662 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 14:36:28,666 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 14:36:28,668 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 14:36:28,670 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 14:36:28,702 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 14:36:28,704 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 14:36:28,706 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 14:36:28,708 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 14:36:29,018 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 14:36:29,128 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 14:36:29,322 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 14:36:29,977 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 14:36:30,424 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 14:36:31,309 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 14:36:31,314 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 14:36:31,369 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 14:36:31,372 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 14:36:32,413 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@464d60fb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6167c42f, org.springframework.security.web.header.HeaderWriterFilter@7c9512c6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3bf52f8f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e75bef1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4351d055, org.springframework.security.web.access.ExceptionTranslationFilter@7983a5d5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2f69d246]
2019-09-04 14:36:33,455 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 14:36:33,502 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 14:36:33,742 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 14:36:33,743 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 14:36:33,757 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 13 ms
2019-09-04 14:36:33,786 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@5bb661e0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@18fcfe7e, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1ed0128b testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@25630ede]; rollback [true]
2019-09-04 14:36:33,895 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:198 - Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type '' not supported]
2019-09-04 14:36:33,922 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@5bb661e0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@18fcfe7e, testMethod = createWithLocation@AdminRestControllerTest, testException = java.lang.IllegalArgumentException: Invalid read from JSON:
'', mergedContextConfiguration = [WebMergedContextConfiguration@1ed0128b testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 14:36:33,974 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 14:36:33,984 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 14:36:33,986 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 14:36:33,987 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 14:36:33,989 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 14:37:55,349 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 14:37:55,381 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2654635, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@737a135b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@687ef2e0, org.springframework.test.context.support.DirtiesContextTestExecutionListener@15dcfae7, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3da05287, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e636ea3]
2019-09-04 14:37:56,252 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 14:37:56,258 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 14:37:56,310 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 14:37:56,311 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 14:37:56,398 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 14:37:56,910 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 14:37:57,109 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 164ms. Found 4 repository interfaces.
2019-09-04 14:37:58,311 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 14:37:58,316 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 14:37:58,322 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 14:37:58,327 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 14:37:58,376 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 14:37:58,380 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 14:37:58,382 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 14:37:58,383 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 14:37:58,413 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 14:37:58,415 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 14:37:58,416 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 14:37:58,418 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 14:37:58,799 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 14:37:58,882 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 14:37:59,105 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 14:37:59,680 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 14:38:00,203 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 14:38:01,187 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 14:38:01,193 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 14:38:01,249 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 14:38:01,253 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 14:38:02,095 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@464d60fb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6167c42f, org.springframework.security.web.header.HeaderWriterFilter@7c9512c6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3bf52f8f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e75bef1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4351d055, org.springframework.security.web.access.ExceptionTranslationFilter@7983a5d5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2f69d246]
2019-09-04 14:38:03,091 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 14:38:03,134 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 14:38:03,355 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 14:38:03,356 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 14:38:03,366 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 9 ms
2019-09-04 14:38:03,393 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@5bb661e0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@18fcfe7e, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1ed0128b testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@25630ede]; rollback [true]
2019-09-04 14:38:03,508 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:198 - Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type '' not supported]
2019-09-04 14:38:03,518 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@5bb661e0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@18fcfe7e, testMethod = update@AdminRestControllerTest, testException = java.lang.AssertionError: Status expected:<204> but was:<415>, mergedContextConfiguration = [WebMergedContextConfiguration@1ed0128b testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 14:38:03,574 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 14:38:03,585 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 14:38:03,587 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 14:38:03,588 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 14:38:03,590 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 14:40:01,490 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 14:40:01,533 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2dca0d64, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@f80945f, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@ff684e1, org.springframework.test.context.support.DirtiesContextTestExecutionListener@23aa363a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5ef6ae06, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@55dfebeb]
2019-09-04 14:40:02,324 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 14:40:02,329 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 14:40:02,383 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 14:40:02,385 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 14:40:02,472 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 14:40:02,727 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 14:40:02,918 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 164ms. Found 4 repository interfaces.
2019-09-04 14:40:04,148 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 14:40:04,154 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 14:40:04,159 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 14:40:04,164 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 14:40:04,217 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 14:40:04,221 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 14:40:04,223 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 14:40:04,225 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 14:40:04,255 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 14:40:04,258 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 14:40:04,259 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 14:40:04,260 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 14:40:04,417 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 14:40:04,540 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 14:40:04,767 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 14:40:05,348 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 14:40:05,758 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 14:40:06,683 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 14:40:06,686 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 14:40:06,744 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 14:40:06,753 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 14:40:07,711 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@4be1dce6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@575c23f1, org.springframework.security.web.header.HeaderWriterFilter@343727b5, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7fb9a83c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@391e2a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6a8bcb64, org.springframework.security.web.access.ExceptionTranslationFilter@655f92a1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@468646ea]
2019-09-04 14:40:08,815 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 14:40:08,820 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@17e4beda, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1be4f05c, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@4202bfe8, org.springframework.test.context.support.DirtiesContextTestExecutionListener@61627c9d, org.springframework.test.context.transaction.TransactionalTestExecutionListener@53c21c05, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6f986031]
2019-09-04 14:40:08,957 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 14:40:09,044 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-04 14:40:09,045 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-04 14:40:09,047 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 14:40:09,314 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 14:40:09,577 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 14:40:09,598 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 14:40:09,600 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 14:40:09,602 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 14:40:09,603 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 14:42:55,031 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 14:42:55,062 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@52de51b6, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@18c5069b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@3a0d172f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@68ad99fe, org.springframework.test.context.transaction.TransactionalTestExecutionListener@485e36bc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@781f10f2]
2019-09-04 14:42:55,720 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 14:42:55,726 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 14:42:55,775 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 14:42:55,776 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 14:42:55,816 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 14:42:56,226 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 14:42:56,472 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 215ms. Found 4 repository interfaces.
2019-09-04 14:42:58,088 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 14:42:58,094 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 14:42:58,100 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 14:42:58,105 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 14:42:58,161 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 14:42:58,166 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 14:42:58,168 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 14:42:58,170 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 14:42:58,215 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 14:42:58,218 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 14:42:58,219 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 14:42:58,221 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 14:42:58,631 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 14:42:58,735 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 14:42:58,981 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 14:42:59,663 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 14:43:00,395 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 14:43:02,780 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 14:43:02,786 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 14:43:02,879 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 14:43:02,885 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 14:43:03,937 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@6a26eee6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5c28009f, org.springframework.security.web.header.HeaderWriterFilter@2cfd9b0a, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@363d29dd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@46ae897c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@25af1dbf, org.springframework.security.web.access.ExceptionTranslationFilter@1f4fa465, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5b5e45bc]
2019-09-04 14:43:05,235 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 14:43:05,322 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 14:43:05,593 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 14:43:05,595 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 14:43:05,610 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 14 ms
2019-09-04 14:43:05,657 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@7f9b46ed testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@4d0b8b8b, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6f18445b testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@73624529]; rollback [true]
2019-09-04 14:43:05,803 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:198 - Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type '' not supported]
2019-09-04 14:43:05,835 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@7f9b46ed testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@4d0b8b8b, testMethod = createWithLocation@AdminRestControllerTest, testException = java.lang.IllegalArgumentException: Invalid read from JSON:
'', mergedContextConfiguration = [WebMergedContextConfiguration@6f18445b testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 14:43:05,945 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 14:43:05,965 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 14:43:05,968 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 14:43:05,969 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 14:43:05,971 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 14:47:48,343 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 14:47:48,376 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@55322aab, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2b4c1d96, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@45fd9a4d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@50468873, org.springframework.test.context.transaction.TransactionalTestExecutionListener@146587a2, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5f0e9815]
2019-09-04 14:47:49,154 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 14:47:49,161 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 14:47:49,233 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 14:47:49,234 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 14:47:49,281 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 14:47:49,509 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 14:47:49,723 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 185ms. Found 4 repository interfaces.
2019-09-04 14:47:50,822 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 14:47:50,827 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 14:47:50,832 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 14:47:50,836 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 14:47:50,880 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 14:47:50,884 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 14:47:50,886 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 14:47:50,888 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 14:47:50,921 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 14:47:50,924 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 14:47:50,925 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 14:47:50,927 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 14:47:51,042 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 14:47:51,133 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 14:47:51,304 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 14:47:51,800 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 14:47:52,159 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 14:47:53,064 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 14:47:53,068 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 14:47:53,113 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 14:47:53,117 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 14:47:53,969 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@3c17794e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7c02b3cb, org.springframework.security.web.header.HeaderWriterFilter@2c4be45f, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@74ee97cb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@eb6ccbc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@96c840a, org.springframework.security.web.access.ExceptionTranslationFilter@5382a35f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@23ee92df]
2019-09-04 14:47:54,598 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 14:47:54,729 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 14:47:54,741 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 14:47:54,743 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 14:47:54,744 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 14:47:54,746 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 14:50:20,761 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 14:50:20,793 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@158a3b2e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@25a6944c, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5e1fa5b1, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6b00f608, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2f17e30d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3e821657]
2019-09-04 14:50:21,524 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 14:50:21,529 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 14:50:21,576 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 14:50:21,578 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 14:50:21,612 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 14:50:22,012 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 14:50:22,255 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 211ms. Found 4 repository interfaces.
2019-09-04 14:50:24,312 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 14:50:24,325 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 14:50:24,345 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 14:50:24,350 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 14:50:24,427 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 14:50:24,431 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 14:50:24,433 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 14:50:24,435 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 14:50:24,480 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 14:50:24,483 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 14:50:24,486 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 14:50:24,487 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 14:50:24,877 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 14:50:24,976 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 14:50:25,226 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 14:50:25,845 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 14:50:26,464 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 14:50:27,737 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 14:50:27,740 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 14:50:27,801 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 14:50:27,804 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 14:50:28,843 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@346a2799, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@23909b3, org.springframework.security.web.header.HeaderWriterFilter@3bf52f8f, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@16eb01d4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@24d7c365, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a4cdea, org.springframework.security.web.access.ExceptionTranslationFilter@8bd9d08, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@213bd66a]
2019-09-04 14:50:30,002 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 14:50:30,062 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 14:50:30,333 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 14:50:30,334 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 14:50:30,351 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 16 ms
2019-09-04 14:50:30,396 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@30b2d267 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5a740449, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4f66f2dd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6c4a1980]; rollback [true]
2019-09-04 14:50:30,582 INFO  ru.vladzag.web.admin.AdminRestController.delete:79 - Admin deleteRestaurant with id: 100002
2019-09-04 14:50:30,688 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 14:50:30,825 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@30b2d267 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5a740449, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4f66f2dd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 14:50:30,866 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 14:50:30,877 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 14:50:30,889 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-04 14:50:30,901 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@30b2d267 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7b0d88e0, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4f66f2dd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6c4a1980]; rollback [true]
2019-09-04 14:50:30,921 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-04 14:50:30,922 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 14:50:31,131 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@30b2d267 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7b0d88e0, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4f66f2dd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 14:50:31,139 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 14:50:31,145 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 14:50:31,162 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 10 ms
2019-09-04 14:50:31,177 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@30b2d267 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@399ac1a3, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4f66f2dd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6c4a1980]; rollback [true]
2019-09-04 14:50:31,196 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:198 - Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type '' not supported]
2019-09-04 14:50:31,206 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@30b2d267 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@399ac1a3, testMethod = update@AdminRestControllerTest, testException = java.lang.AssertionError: Status expected:<204> but was:<415>, mergedContextConfiguration = [WebMergedContextConfiguration@4f66f2dd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 14:50:31,220 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 14:50:31,224 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 14:50:31,246 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 19 ms
2019-09-04 14:50:31,263 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@30b2d267 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@4fc9e73d, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4f66f2dd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6c4a1980]; rollback [true]
2019-09-04 14:50:31,305 INFO  ru.vladzag.web.admin.AdminRestController.updateDish:125 - Admin updateDish with id: 100007
2019-09-04 14:50:31,384 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@30b2d267 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@4fc9e73d, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4f66f2dd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 14:50:31,396 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 14:50:31,398 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 14:50:31,411 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 8 ms
2019-09-04 14:50:31,423 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@30b2d267 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7fb70e94, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4f66f2dd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6c4a1980]; rollback [true]
2019-09-04 14:50:31,435 INFO  ru.vladzag.web.admin.AdminRestController.get:62 - Admin getRestaurant(id: 100005) in date: 2015-05-30
2019-09-04 14:50:31,512 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@30b2d267 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7fb70e94, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4f66f2dd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 14:50:31,514 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 14:50:31,517 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 14:50:31,535 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 8 ms
2019-09-04 14:50:31,553 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@30b2d267 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7a80b2e6, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4f66f2dd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6c4a1980]; rollback [true]
2019-09-04 14:50:31,575 INFO  ru.vladzag.web.admin.AdminRestController.createDish:115 - Admin createDish with id: 100010
2019-09-04 14:50:31,587 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@30b2d267 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7a80b2e6, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4f66f2dd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 14:50:31,588 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 14:50:31,592 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 14:50:31,622 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 21 ms
2019-09-04 14:50:31,639 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@30b2d267 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@6ba8859b, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4f66f2dd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6c4a1980]; rollback [true]
2019-09-04 14:50:31,646 INFO  ru.vladzag.web.admin.AdminRestController.delete:79 - Admin deleteRestaurant with id: 100002
2019-09-04 14:50:31,654 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 14:50:31,660 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@30b2d267 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@6ba8859b, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4f66f2dd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 14:50:31,665 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 14:50:31,670 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 14:50:31,686 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 14 ms
2019-09-04 14:50:31,704 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@30b2d267 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7720334e, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4f66f2dd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6c4a1980]; rollback [true]
2019-09-04 14:50:31,707 INFO  ru.vladzag.web.admin.AdminRestController.getAllHistory:46 - Admin getHistory
2019-09-04 14:50:31,817 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@30b2d267 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7720334e, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4f66f2dd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 14:50:31,819 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 14:50:31,822 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 14:50:31,839 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 9 ms
2019-09-04 14:50:31,849 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@30b2d267 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5b1ebbe, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4f66f2dd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6c4a1980]; rollback [true]
2019-09-04 14:50:31,859 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:198 - Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type '' not supported]
2019-09-04 14:50:31,864 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@30b2d267 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5b1ebbe, testMethod = createWithLocation@AdminRestControllerTest, testException = java.lang.IllegalArgumentException: Invalid read from JSON:
'', mergedContextConfiguration = [WebMergedContextConfiguration@4f66f2dd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 14:50:31,935 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 14:50:31,948 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 14:50:31,950 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 14:50:31,951 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 14:50:31,953 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 14:52:55,067 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-04 14:52:55,696 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 14:52:55,705 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 14:52:55,790 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 14:52:55,792 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 14:52:55,839 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 14:52:56,180 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 14:52:56,444 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 229ms. Found 4 repository interfaces.
2019-09-04 14:52:58,406 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 14:52:58,412 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 14:52:58,417 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 14:52:58,423 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 14:52:58,492 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-04 14:52:58,495 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 14:52:58,496 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 14:52:58,497 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-04 14:52:58,551 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-04 14:52:58,554 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 14:52:58,556 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 14:52:58,557 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-04 14:52:58,784 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 14:52:58,973 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 14:52:59,316 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 14:53:00,115 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 14:53:00,900 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 14:53:02,537 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 14:53:02,542 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 14:53:02,612 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 14:53:02,616 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 14:53:04,187 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@12db6c5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@65bf5cf7, org.springframework.security.web.header.HeaderWriterFilter@20285d4e, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4346301, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1440fbb9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@53077210, org.springframework.security.web.access.ExceptionTranslationFilter@259c858e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3e698304]
2019-09-04 14:53:04,833 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 9760 ms
2019-09-04 14:53:04,904 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-04 14:53:06,225 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 14:53:06,273 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 14:53:06,364 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1459 ms
2019-09-04 14:54:41,236 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:198 - Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type '' not supported]
2019-09-04 14:57:51,078 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-04 14:57:51,589 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 14:57:51,598 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 14:57:51,668 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 14:57:51,670 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 14:57:51,705 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 14:57:51,979 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 14:57:52,230 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 216ms. Found 4 repository interfaces.
2019-09-04 14:57:54,282 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 14:57:54,289 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 14:57:54,293 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 14:57:54,298 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 14:57:54,365 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-04 14:57:54,369 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 14:57:54,370 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 14:57:54,371 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-04 14:57:54,424 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-04 14:57:54,426 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 14:57:54,428 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 14:57:54,429 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-04 14:57:54,627 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 14:57:54,851 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 14:57:55,285 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 14:57:56,091 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 14:57:56,810 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 14:57:58,484 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 14:57:58,491 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 14:57:58,577 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 14:57:58,582 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 14:58:00,078 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@31e1e7cb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3752b56d, org.springframework.security.web.header.HeaderWriterFilter@6978f1eb, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2f2aac93, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@23b0bc98, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@353b2110, org.springframework.security.web.access.ExceptionTranslationFilter@4d69c567, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@73518a5c]
2019-09-04 14:58:00,760 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 9675 ms
2019-09-04 14:58:00,897 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-04 14:58:02,254 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 14:58:02,307 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 14:58:02,390 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1491 ms
2019-09-04 14:58:30,514 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:198 - Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type '' not supported]
2019-09-04 14:59:19,982 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-04 14:59:20,480 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 14:59:20,489 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 14:59:20,571 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 14:59:20,572 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 14:59:20,609 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 14:59:20,905 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 14:59:21,147 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 209ms. Found 4 repository interfaces.
2019-09-04 14:59:23,051 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 14:59:23,068 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 14:59:23,072 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 14:59:23,077 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 14:59:23,153 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-04 14:59:23,156 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 14:59:23,157 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 14:59:23,158 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-04 14:59:23,215 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-04 14:59:23,218 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 14:59:23,219 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 14:59:23,220 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-04 14:59:23,432 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 14:59:23,597 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 14:59:23,910 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 14:59:24,699 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 14:59:25,442 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 14:59:27,110 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 14:59:27,118 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 14:59:27,206 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 14:59:27,211 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 14:59:28,663 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@6d74d9de, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@17562acd, org.springframework.security.web.header.HeaderWriterFilter@409ebce2, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@784126cf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1d3da228, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c2378cf, org.springframework.security.web.access.ExceptionTranslationFilter@65cf7b33, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@24be1f8f]
2019-09-04 14:59:29,383 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 9394 ms
2019-09-04 14:59:29,435 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-04 14:59:30,673 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 14:59:30,742 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 14:59:30,914 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1479 ms
2019-09-04 15:00:33,752 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:198 - Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type '' not supported]
2019-09-04 15:01:15,206 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-04 15:01:15,277 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 15:02:22,608 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 15:02:22,641 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2654635, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@737a135b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@687ef2e0, org.springframework.test.context.support.DirtiesContextTestExecutionListener@15dcfae7, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3da05287, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e636ea3]
2019-09-04 15:02:23,863 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 15:02:23,868 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 15:02:23,927 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 15:02:23,929 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 15:02:23,959 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 15:02:24,497 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 15:02:24,722 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 198ms. Found 4 repository interfaces.
2019-09-04 15:02:25,939 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 15:02:25,945 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 15:02:25,950 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 15:02:25,955 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 15:02:26,002 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 15:02:26,006 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 15:02:26,008 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 15:02:26,010 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 15:02:26,045 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 15:02:26,048 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 15:02:26,049 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 15:02:26,050 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 15:02:26,344 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 15:02:26,414 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 15:02:26,649 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 15:02:27,243 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 15:02:27,692 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 15:02:28,686 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 15:02:28,689 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 15:02:28,743 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 15:02:28,747 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 15:02:29,680 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@464d60fb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6167c42f, org.springframework.security.web.header.HeaderWriterFilter@7c9512c6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3bf52f8f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e75bef1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4351d055, org.springframework.security.web.access.ExceptionTranslationFilter@7983a5d5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2f69d246]
2019-09-04 15:02:30,701 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 15:02:30,750 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 15:02:31,009 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 15:02:31,012 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 15:02:31,024 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 11 ms
2019-09-04 15:02:31,052 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@5bb661e0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@18fcfe7e, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1ed0128b testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@25630ede]; rollback [true]
2019-09-04 15:02:31,158 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:198 - Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type '' not supported]
2019-09-04 15:02:31,183 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@5bb661e0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@18fcfe7e, testMethod = createWithLocation@AdminRestControllerTest, testException = java.lang.IllegalArgumentException: Invalid read from JSON:
'', mergedContextConfiguration = [WebMergedContextConfiguration@1ed0128b testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 15:02:31,227 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 15:02:31,249 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 15:02:31,252 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 15:02:31,253 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 15:02:31,255 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 15:04:02,179 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 15:04:02,210 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2b4c1d96, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@45fd9a4d, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@50468873, org.springframework.test.context.support.DirtiesContextTestExecutionListener@146587a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5f0e9815, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@76884e4b]
2019-09-04 15:04:02,830 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 15:04:02,836 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 15:04:02,888 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 15:04:02,891 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 15:04:02,929 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 15:04:03,247 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 15:04:03,407 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 139ms. Found 4 repository interfaces.
2019-09-04 15:04:04,618 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 15:04:04,625 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 15:04:04,633 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 15:04:04,638 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 15:04:04,688 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 15:04:04,691 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 15:04:04,692 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 15:04:04,697 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 15:04:04,731 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 15:04:04,734 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 15:04:04,736 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 15:04:04,738 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 15:04:05,101 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 15:04:05,199 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 15:04:05,395 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 15:04:06,011 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 15:04:06,533 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 15:04:07,458 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 15:04:07,477 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 15:04:07,524 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 15:04:07,528 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 15:04:08,434 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@7f5ecada, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@a6a2c20, org.springframework.security.web.header.HeaderWriterFilter@480994d3, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@74a991cf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@40239b34, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3b95fce9, org.springframework.security.web.access.ExceptionTranslationFilter@67aaf882, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1802f60c]
2019-09-04 15:04:09,422 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 15:04:09,471 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 15:04:09,694 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 15:04:09,694 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 15:04:09,707 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 12 ms
2019-09-04 15:04:09,736 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3b6c55b6 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@55e02661, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7f38545a testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7a05cdc8]; rollback [true]
2019-09-04 15:04:09,927 INFO  ru.vladzag.web.admin.AdminRestController.createWithLocation:102 - Admin createRestaurant with id: 100010
2019-09-04 15:04:10,127 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 15:04:10,237 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3b6c55b6 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@55e02661, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7f38545a testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 15:04:10,266 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 15:04:10,277 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 15:04:10,279 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 15:04:10,280 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 15:04:10,282 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 15:05:58,513 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 15:05:58,547 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5bfa8cc5, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@666b83a4, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@749c877b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@efde75f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@16ecee1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3b220bcb]
2019-09-04 15:05:59,109 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 15:05:59,121 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 15:05:59,167 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 15:05:59,169 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 15:05:59,210 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 15:05:59,410 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 15:05:59,596 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 153ms. Found 4 repository interfaces.
2019-09-04 15:06:00,823 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 15:06:00,845 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 15:06:00,852 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 15:06:00,858 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 15:06:00,921 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 15:06:00,926 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 15:06:00,928 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 15:06:00,930 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 15:06:00,965 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 15:06:00,967 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 15:06:00,969 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 15:06:00,971 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 15:06:01,082 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 15:06:01,221 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 15:06:01,426 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 15:06:01,957 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 15:06:02,407 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 15:06:03,297 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 15:06:03,302 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 15:06:03,359 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 15:06:03,362 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 15:06:04,302 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@4deca78, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3ff53704, org.springframework.security.web.header.HeaderWriterFilter@144dc2f7, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5b407336, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@243162b1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1a06b95, org.springframework.security.web.access.ExceptionTranslationFilter@46610fc9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@21be80f6]
2019-09-04 15:06:05,353 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 15:06:05,354 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@7890324e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@14764fdd, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@402fdef1, org.springframework.test.context.support.DirtiesContextTestExecutionListener@69e8f7a5, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1013aa94, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@36bd07ec]
2019-09-04 15:06:05,486 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 15:06:05,488 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 15:06:05,489 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 15:06:05,491 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 15:06:05,707 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 15:06:05,733 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 24ms. Found 4 repository interfaces.
2019-09-04 15:06:05,834 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 15:06:05,836 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 15:06:05,837 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 15:06:05,838 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 15:06:05,889 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 15:06:05,903 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 15:06:06,038 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 15:06:06,039 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 15:06:06,050 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 15:06:06,053 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 15:06:06,207 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@cfe72b0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@156d7556, org.springframework.security.web.header.HeaderWriterFilter@321302bc, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@16a78700, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b4675db, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4d50f682, org.springframework.security.web.access.ExceptionTranslationFilter@4778c085, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7ceb7a60]
2019-09-04 15:06:06,973 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 15:06:07,020 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 15:06:07,170 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 15:06:07,171 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 15:06:07,193 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 20 ms
2019-09-04 15:06:07,210 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6cb2d5ea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@3ed1446c, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2e9bff08 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7569bc9f]; rollback [true]
2019-09-04 15:06:07,321 INFO  ru.vladzag.web.user.UserRestController.getRestaurant:55 - User getRestaurant with id: 100005
2019-09-04 15:06:07,492 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6cb2d5ea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@3ed1446c, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2e9bff08 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 15:06:07,497 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 15:06:07,498 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 15:06:07,518 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 15 ms
2019-09-04 15:06:07,538 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6cb2d5ea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@5c70eda4, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2e9bff08 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7569bc9f]; rollback [true]
2019-09-04 15:06:07,566 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 15:06:07,632 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6cb2d5ea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@5c70eda4, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2e9bff08 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 15:06:07,637 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 15:06:07,642 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 15:06:07,649 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-04 15:06:07,656 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6cb2d5ea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@17e7cc67, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2e9bff08 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7569bc9f]; rollback [true]
2019-09-04 15:06:07,666 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-04 15:06:07,672 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6cb2d5ea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@17e7cc67, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2e9bff08 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 15:06:07,674 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 15:06:07,682 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 15:06:07,690 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-04 15:06:07,703 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6cb2d5ea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@17931cc0, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2e9bff08 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7569bc9f]; rollback [true]
2019-09-04 15:06:07,717 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 15:06:07,729 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100003
2019-09-04 15:06:07,741 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6cb2d5ea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@17931cc0, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2e9bff08 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 15:06:07,746 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 15:06:07,756 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 15:06:07,765 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 7 ms
2019-09-04 15:06:07,778 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6cb2d5ea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4b55652a, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2e9bff08 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7569bc9f]; rollback [true]
2019-09-04 15:06:07,791 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 15:06:07,799 INFO  ru.vladzag.web.user.UserRestController.updateVote:67 - User updateVote(id: 100010) for restaurant with id: 100003
2019-09-04 15:06:07,807 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6cb2d5ea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4b55652a, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2e9bff08 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 15:06:07,808 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 15:06:07,809 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 15:06:07,824 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 12 ms
2019-09-04 15:06:07,835 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6cb2d5ea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@273c4b3, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2e9bff08 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7569bc9f]; rollback [true]
2019-09-04 15:06:07,846 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 15:06:07,883 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6cb2d5ea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@273c4b3, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2e9bff08 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 15:06:07,885 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 15:06:07,892 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 15:06:07,907 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 13 ms
2019-09-04 15:06:07,917 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6cb2d5ea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@685e97e0, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2e9bff08 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7569bc9f]; rollback [true]
2019-09-04 15:06:07,923 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 15:06:07,930 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-04 15:06:07,975 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6cb2d5ea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@685e97e0, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2e9bff08 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 15:06:07,996 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 15:06:07,998 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@769d0ef2, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@6d58ed12, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@221ef0f0, org.springframework.test.context.support.DirtiesContextTestExecutionListener@34ad750f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2a5917f6, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@c34fd2]
2019-09-04 15:06:08,014 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-04 15:06:08,015 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-04 15:06:08,107 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 15:06:08,152 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-04 15:06:08,153 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-04 15:06:08,155 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 15:06:08,442 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 15:06:08,751 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 15:06:08,752 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@267a0b6a, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@42c3b02e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@51039ec9, org.springframework.test.context.support.DirtiesContextTestExecutionListener@16575bfe, org.springframework.test.context.transaction.TransactionalTestExecutionListener@60003305, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3f1dadeb]
2019-09-04 15:06:08,756 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 15:06:08,758 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 15:06:08,774 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-04 15:06:08,779 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3ff83cc8 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@6dd8ac29, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@336b7da4 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7569bc9f]; rollback [true]
2019-09-04 15:06:08,802 INFO  ru.vladzag.web.admin.AdminRestController.delete:79 - Admin deleteRestaurant with id: 100002
2019-09-04 15:06:08,822 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 15:06:08,836 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3ff83cc8 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@6dd8ac29, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@336b7da4 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 15:06:08,840 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 15:06:08,844 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 15:06:08,857 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 9 ms
2019-09-04 15:06:08,871 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3ff83cc8 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7f2c36de, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@336b7da4 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7569bc9f]; rollback [true]
2019-09-04 15:06:08,884 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-04 15:06:08,889 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 15:06:08,900 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3ff83cc8 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7f2c36de, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@336b7da4 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 15:06:08,903 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 15:06:08,904 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 15:06:08,908 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 15:06:08,919 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3ff83cc8 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@3612a60d, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@336b7da4 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7569bc9f]; rollback [true]
2019-09-04 15:06:08,964 INFO  ru.vladzag.web.admin.AdminRestController.update:87 - Admin updateRestaurant with id: 100002
2019-09-04 15:06:08,977 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 15:06:08,994 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3ff83cc8 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@3612a60d, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@336b7da4 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 15:06:08,999 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 15:06:09,001 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 15:06:09,033 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 31 ms
2019-09-04 15:06:09,040 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3ff83cc8 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@3edb09b9, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@336b7da4 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7569bc9f]; rollback [true]
2019-09-04 15:06:09,084 INFO  ru.vladzag.web.admin.AdminRestController.updateDish:125 - Admin updateDish with id: 100007
2019-09-04 15:06:09,132 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3ff83cc8 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@3edb09b9, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@336b7da4 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 15:06:09,134 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 15:06:09,139 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 15:06:09,147 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-04 15:06:09,152 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3ff83cc8 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@283645fa, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@336b7da4 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7569bc9f]; rollback [true]
2019-09-04 15:06:09,157 INFO  ru.vladzag.web.admin.AdminRestController.get:62 - Admin getRestaurant(id: 100005) in date: 2015-05-30
2019-09-04 15:06:09,173 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3ff83cc8 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@283645fa, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@336b7da4 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 15:06:09,175 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 15:06:09,177 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 15:06:09,187 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 8 ms
2019-09-04 15:06:09,196 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3ff83cc8 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5e5f5ddf, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@336b7da4 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7569bc9f]; rollback [true]
2019-09-04 15:06:09,206 INFO  ru.vladzag.web.admin.AdminRestController.createDish:115 - Admin createDish with id: 100010
2019-09-04 15:06:09,220 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3ff83cc8 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5e5f5ddf, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@336b7da4 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 15:06:09,222 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 15:06:09,223 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 15:06:09,236 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 7 ms
2019-09-04 15:06:09,241 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3ff83cc8 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@11c68269, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@336b7da4 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7569bc9f]; rollback [true]
2019-09-04 15:06:09,249 INFO  ru.vladzag.web.admin.AdminRestController.delete:79 - Admin deleteRestaurant with id: 100002
2019-09-04 15:06:09,259 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 15:06:09,264 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3ff83cc8 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@11c68269, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@336b7da4 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 15:06:09,266 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 15:06:09,270 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 15:06:09,276 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-04 15:06:09,286 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3ff83cc8 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@1495f70, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@336b7da4 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7569bc9f]; rollback [true]
2019-09-04 15:06:09,288 INFO  ru.vladzag.web.admin.AdminRestController.getAllHistory:46 - Admin getHistory
2019-09-04 15:06:09,309 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3ff83cc8 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@1495f70, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@336b7da4 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 15:06:09,314 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 15:06:09,315 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 15:06:09,331 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 16 ms
2019-09-04 15:06:09,337 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3ff83cc8 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5e78dd7f, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@336b7da4 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7569bc9f]; rollback [true]
2019-09-04 15:06:09,349 INFO  ru.vladzag.web.admin.AdminRestController.createWithLocation:102 - Admin createRestaurant with id: 100011
2019-09-04 15:06:09,352 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 15:06:09,370 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3ff83cc8 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5e78dd7f, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@336b7da4 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 15:06:09,418 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 15:06:09,422 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 15:06:09,436 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 15:06:09,440 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 15:06:09,442 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 15:06:09,444 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 15:09:17,597 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-04 15:09:18,091 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 15:09:18,099 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 15:09:18,163 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 15:09:18,164 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 15:09:18,202 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 15:09:18,497 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 15:09:18,722 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 189ms. Found 4 repository interfaces.
2019-09-04 15:09:20,618 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 15:09:20,622 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 15:09:20,626 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 15:09:20,631 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 15:09:20,688 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-04 15:09:20,693 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 15:09:20,694 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 15:09:20,694 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-04 15:09:20,742 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-04 15:09:20,745 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 15:09:20,747 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 15:09:20,749 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-04 15:09:20,959 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 15:09:21,137 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 15:09:21,452 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 15:09:22,245 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 15:09:23,151 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 15:09:25,256 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 15:09:25,260 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 15:09:25,323 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 15:09:25,326 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 15:09:26,720 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@1fdb7788, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3d7c9ef4, org.springframework.security.web.header.HeaderWriterFilter@3bc4bc63, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@62867c7f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@742543b7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@775697c3, org.springframework.security.web.access.ExceptionTranslationFilter@ee71db5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@12ce2b65]
2019-09-04 15:09:27,390 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 9784 ms
2019-09-04 15:09:27,447 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-04 15:09:28,842 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 15:09:28,890 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 15:09:28,980 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1533 ms
2019-09-04 15:11:40,223 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-04 15:11:40,698 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 15:11:40,708 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 15:11:40,779 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 15:11:40,781 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 15:11:40,817 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 15:11:41,095 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 15:11:41,366 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 238ms. Found 4 repository interfaces.
2019-09-04 15:11:43,312 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 15:11:43,318 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 15:11:43,322 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 15:11:43,326 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 15:11:43,389 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-04 15:11:43,392 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 15:11:43,393 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 15:11:43,395 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-04 15:11:43,441 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-04 15:11:43,444 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 15:11:43,446 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 15:11:43,447 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-04 15:11:43,664 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 15:11:43,865 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 15:11:44,177 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 15:11:44,998 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 15:11:45,687 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 15:11:47,194 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 15:11:47,199 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 15:11:47,265 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 15:11:47,267 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 15:11:48,735 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@55f8f170, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1513a1a6, org.springframework.security.web.header.HeaderWriterFilter@5fa378ba, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3e59304a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7aea8bdc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6beaa08c, org.springframework.security.web.access.ExceptionTranslationFilter@658c6360, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4b656411]
2019-09-04 15:11:49,409 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 9177 ms
2019-09-04 15:11:49,456 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-04 15:11:50,900 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 15:11:50,947 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 15:11:51,028 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1572 ms
2019-09-04 15:11:51,452 WARN  org.springframework.web.servlet.PageNotFound.noHandlerFound:1249 - No mapping for GET /restaraunt/
2019-09-04 15:11:51,623 WARN  org.springframework.web.servlet.PageNotFound.noHandlerFound:1249 - No mapping for GET /restaraunt/
2019-09-04 15:12:42,374 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-04 15:12:42,881 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 15:12:42,891 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 15:12:42,960 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 15:12:42,962 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 15:12:43,011 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 15:12:43,277 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 15:12:43,520 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 208ms. Found 4 repository interfaces.
2019-09-04 15:12:45,490 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 15:12:45,497 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 15:12:45,505 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 15:12:45,510 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 15:12:45,577 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-04 15:12:45,581 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 15:12:45,582 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 15:12:45,584 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-04 15:12:45,634 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-04 15:12:45,637 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 15:12:45,638 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 15:12:45,639 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-04 15:12:45,795 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 15:12:45,951 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 15:12:46,275 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 15:12:47,147 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 15:12:47,959 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 15:12:50,019 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 15:12:50,024 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 15:12:50,146 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 15:12:50,150 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 15:12:52,121 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@b0df7cd, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@bb117f3, org.springframework.security.web.header.HeaderWriterFilter@5bb1bf6d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2d953ee6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@25b6f718, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@600fb2a5, org.springframework.security.web.access.ExceptionTranslationFilter@15ede3b2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@d6d00c1]
2019-09-04 15:12:52,828 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 10449 ms
2019-09-04 15:18:22,627 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-04 15:18:23,065 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 15:18:23,074 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 15:18:23,138 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 15:18:23,140 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 15:18:23,175 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 15:18:23,463 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 15:18:23,692 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 198ms. Found 4 repository interfaces.
2019-09-04 15:18:25,665 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 15:18:25,670 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 15:18:25,674 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 15:18:25,678 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 15:18:25,739 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-04 15:18:25,742 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 15:18:25,743 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 15:18:25,744 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-04 15:18:25,802 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-04 15:18:25,805 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 15:18:25,806 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 15:18:25,808 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-04 15:18:26,013 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 15:18:26,186 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 15:18:26,511 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 15:18:27,316 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 15:18:28,084 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 15:18:29,571 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 15:18:29,576 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 15:18:29,640 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 15:18:29,643 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 15:18:31,140 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@1fc56048, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5fd74f70, org.springframework.security.web.header.HeaderWriterFilter@3d1b11e1, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@33eb85e1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@44976f2f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@136eedb, org.springframework.security.web.access.ExceptionTranslationFilter@3330676b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@22a35246]
2019-09-04 15:18:31,781 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 9148 ms
2019-09-04 15:18:31,909 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-04 15:18:33,134 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 15:18:33,184 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 15:18:33,264 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1355 ms
2019-09-04 22:22:29,986 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-04 22:22:30,914 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 22:22:30,928 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 22:22:31,057 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 22:22:31,060 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 22:22:31,129 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 22:22:32,156 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 22:22:32,740 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 440ms. Found 4 repository interfaces.
2019-09-04 22:22:35,679 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 22:22:35,687 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 22:22:35,692 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 22:22:35,697 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 22:22:35,770 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-04 22:22:35,775 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 22:22:35,777 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 22:22:35,778 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-04 22:22:35,859 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-04 22:22:35,861 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 22:22:35,863 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 22:22:35,866 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-04 22:22:36,097 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 22:22:36,298 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 22:22:36,678 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 22:22:37,778 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 22:22:38,913 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 22:22:40,901 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 22:22:40,906 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 22:22:40,980 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 22:22:40,983 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 22:22:42,290 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@60cfb044, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@76efc182, org.springframework.security.web.header.HeaderWriterFilter@64a9e77, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@41f026e9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1eddbb10, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@73fee6d5, org.springframework.security.web.access.ExceptionTranslationFilter@69fba364, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@14dd7706]
2019-09-04 22:22:43,054 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 13056 ms
2019-09-04 22:22:43,121 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-04 22:22:44,765 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 22:22:44,816 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 22:22:44,910 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1789 ms
2019-09-04 22:25:44,681 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-04 22:25:44,728 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 22:25:57,695 INFO  ru.vladzag.web.admin.AdminRestController.createWithLocation:102 - Admin createRestaurant with id: 100010
2019-09-04 22:26:15,990 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-04 22:26:15,991 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 22:26:36,094 INFO  ru.vladzag.web.admin.AdminRestController.update:87 - Admin updateRestaurant with id: 100002
2019-09-04 22:26:38,523 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-04 22:26:38,524 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 22:26:54,650 INFO  ru.vladzag.web.admin.AdminRestController.delete:79 - Admin deleteRestaurant with id: 100002
2019-09-04 22:26:58,099 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-04 22:26:58,100 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 22:27:12,536 INFO  ru.vladzag.web.admin.AdminRestController.getAllHistory:46 - Admin getHistory
2019-09-04 22:27:25,347 INFO  ru.vladzag.web.admin.AdminRestController.getAllHistory:50 - Admin getHistory in date:2015-05-30
2019-09-04 22:27:59,296 INFO  ru.vladzag.web.admin.AdminRestController.get:58 - Admin getRestaurant(id: 100005) with all dishes and votes
2019-09-04 22:28:22,411 INFO  ru.vladzag.web.admin.AdminRestController.get:58 - Admin getRestaurant(id: 100005) with all dishes and votes
2019-09-04 22:28:30,270 INFO  ru.vladzag.web.admin.AdminRestController.get:58 - Admin getRestaurant(id: 100003) with all dishes and votes
2019-09-04 22:28:32,545 INFO  ru.vladzag.web.admin.AdminRestController.get:58 - Admin getRestaurant(id: 100002) with all dishes and votes
2019-09-04 22:28:43,341 INFO  ru.vladzag.web.admin.AdminRestController.get:58 - Admin getRestaurant(id: 100003) with all dishes and votes
2019-09-04 22:29:01,964 INFO  ru.vladzag.web.admin.AdminRestController.get:58 - Admin getRestaurant(id: 100005) with all dishes and votes
2019-09-04 22:33:45,546 INFO  ru.vladzag.web.admin.AdminRestController.get:62 - Admin getRestaurant(id: 100005) in date: 2015-05-30
2019-09-04 22:36:53,512 INFO  ru.vladzag.web.admin.AdminRestController.get:58 - Admin getRestaurant(id: 100005) with all dishes and votes
2019-09-04 22:37:05,090 INFO  ru.vladzag.web.admin.AdminRestController.get:62 - Admin getRestaurant(id: 100005) in date: 2015-05-30
2019-09-04 22:41:46,307 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:198 - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' not supported]
2019-09-04 22:42:00,551 WARN  org.springframework.web.servlet.PageNotFound.noHandlerFound:1249 - No mapping for GET /restaraunt/rest/admin/restaurants/100002/dishes100007
2019-09-04 22:42:27,849 INFO  ru.vladzag.web.admin.AdminRestController.get:69 - Admin getDish with id: 100007
2019-09-04 22:44:45,454 INFO  ru.vladzag.web.admin.AdminRestController.get:69 - Admin getDish with id: 100007
2019-09-04 22:46:50,206 INFO  ru.vladzag.web.admin.AdminRestController.get:69 - Admin getDish with id: 100007
2019-09-04 22:49:38,145 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions:137 - SQL Error: -177, SQLState: 23503
2019-09-04 22:49:38,146 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions:142 - integrity constraint violation: foreign key no parent; SYS_FK_10124 table: RES_DISHES value: 100002
2019-09-04 22:49:58,416 INFO  ru.vladzag.web.admin.AdminRestController.get:69 - Admin getDish with id: 100007
2019-09-04 22:50:06,249 INFO  ru.vladzag.web.admin.AdminRestController.createDish:115 - Admin createDish with id: 100018
2019-09-04 22:55:22,239 INFO  ru.vladzag.web.admin.AdminRestController.get:62 - Admin getRestaurant(id: 100005) in date: 2015-05-29
2019-09-04 22:55:54,654 INFO  ru.vladzag.web.admin.AdminRestController.get:62 - Admin getRestaurant(id: 100003) in date: 2015-05-29
2019-09-04 22:59:08,021 INFO  ru.vladzag.web.admin.AdminRestController.updateDish:125 - Admin updateDish with id: 100007
2019-09-04 22:59:08,032 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions:137 - SQL Error: -177, SQLState: 23503
2019-09-04 22:59:08,033 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions:142 - integrity constraint violation: foreign key no parent; SYS_FK_10124 table: RES_DISHES value: 100007
2019-09-04 23:02:05,384 INFO  ru.vladzag.web.admin.AdminRestController.get:69 - Admin getDish with id: 100007
2019-09-04 23:06:46,992 INFO  ru.vladzag.web.admin.AdminRestController.updateDish:125 - Admin updateDish with id: 100007
2019-09-04 23:06:47,000 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions:137 - SQL Error: -177, SQLState: 23503
2019-09-04 23:06:47,000 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions:142 - integrity constraint violation: foreign key no parent; SYS_FK_10124 table: RES_DISHES value: 100007
2019-09-04 23:07:09,046 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-04 23:07:09,544 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 23:07:09,552 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 23:07:09,623 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 23:07:09,625 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 23:07:09,659 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 23:07:09,976 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 23:07:10,252 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 236ms. Found 4 repository interfaces.
2019-09-04 23:07:12,369 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 23:07:12,374 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 23:07:12,378 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 23:07:12,384 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 23:07:12,445 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-04 23:07:12,448 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 23:07:12,449 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 23:07:12,451 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-04 23:07:12,501 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-04 23:07:12,505 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 23:07:12,507 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 23:07:12,509 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-04 23:07:12,717 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 23:07:12,901 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 23:07:13,233 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 23:07:14,054 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 23:07:14,910 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 23:07:16,391 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 23:07:16,407 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 23:07:16,484 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 23:07:16,488 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 23:07:17,816 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@58f8ca21, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@47e00371, org.springframework.security.web.header.HeaderWriterFilter@4e6395fd, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@23943121, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e25e45, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7f54b256, org.springframework.security.web.access.ExceptionTranslationFilter@2d570424, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@536a29fa]
2019-09-04 23:07:18,457 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 9404 ms
2019-09-04 23:07:18,511 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-04 23:07:19,938 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 23:07:19,991 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 23:07:20,090 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1578 ms
2019-09-04 23:09:23,138 INFO  ru.vladzag.web.admin.AdminRestController.get:69 - Admin getDish with id: 100007
2019-09-04 23:10:01,990 INFO  ru.vladzag.web.admin.AdminRestController.updateDish:125 - Admin updateDish with id: 100007
2019-09-04 23:10:02,100 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions:137 - SQL Error: -177, SQLState: 23503
2019-09-04 23:10:02,101 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions:142 - integrity constraint violation: foreign key no parent; SYS_FK_10124 table: RES_DISHES value: 100007
2019-09-04 23:27:03,159 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 23:27:03,204 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@30d4b288, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4cc6fa2a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@40f1be1b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7a791b66, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6f2cb653, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@14c01636]
2019-09-04 23:27:03,902 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 23:27:03,907 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 23:27:03,959 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 23:27:03,960 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 23:27:03,993 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 23:27:04,216 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 23:27:04,410 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 162ms. Found 4 repository interfaces.
2019-09-04 23:27:05,763 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 23:27:05,774 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 23:27:05,782 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 23:27:05,786 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 23:27:05,835 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 23:27:05,838 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 23:27:05,840 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 23:27:05,841 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 23:27:05,878 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 23:27:05,881 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 23:27:05,883 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 23:27:05,884 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 23:27:06,000 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 23:27:06,133 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 23:27:06,381 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 23:27:07,006 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 23:27:07,474 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 23:27:08,368 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 23:27:08,372 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 23:27:08,423 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 23:27:08,429 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 23:27:09,270 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@34f24a11, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@632dc41, org.springframework.security.web.header.HeaderWriterFilter@eebd983, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5c65fa69, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2f6d8c9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@537a8915, org.springframework.security.web.access.ExceptionTranslationFilter@49c947f7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3cd28235]
2019-09-04 23:27:10,429 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 23:27:10,431 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@193c810, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1ef7e4c7, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@57edfa89, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6c0bf8f4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@73476e2d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@52b77d5e]
2019-09-04 23:27:10,539 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 23:27:10,548 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 23:27:10,551 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 23:27:10,553 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 23:27:10,729 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 23:27:10,752 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 22ms. Found 4 repository interfaces.
2019-09-04 23:27:10,870 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 23:27:10,872 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 23:27:10,873 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 23:27:10,874 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 23:27:10,957 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 23:27:10,972 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 23:27:11,057 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 23:27:11,058 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 23:27:11,069 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 23:27:11,074 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 23:27:11,233 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@7fb8d720, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6202f8bf, org.springframework.security.web.header.HeaderWriterFilter@5f6b1f19, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1488d1c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4250b0c1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@186537ac, org.springframework.security.web.access.ExceptionTranslationFilter@3ad80206, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3985175e]
2019-09-04 23:27:11,972 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 23:27:12,021 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 23:27:12,172 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 23:27:12,173 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 23:27:12,192 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 19 ms
2019-09-04 23:27:12,209 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@533165e7 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@324e62e2, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1018552d testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@272cec71]; rollback [true]
2019-09-04 23:27:12,313 INFO  ru.vladzag.web.user.UserRestController.getRestaurant:55 - User getRestaurant with id: 100005
2019-09-04 23:27:12,474 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@533165e7 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@324e62e2, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1018552d testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 23:27:12,481 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 23:27:12,485 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 23:27:12,491 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 23:27:12,497 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@533165e7 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4eb43d2f, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1018552d testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@272cec71]; rollback [true]
2019-09-04 23:27:12,518 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 23:27:12,590 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@533165e7 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4eb43d2f, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1018552d testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 23:27:12,595 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 23:27:12,598 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 23:27:12,605 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-04 23:27:12,610 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@533165e7 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@565bf1bb, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1018552d testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@272cec71]; rollback [true]
2019-09-04 23:27:12,620 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-04 23:27:12,627 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@533165e7 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@565bf1bb, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1018552d testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 23:27:12,629 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 23:27:12,633 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 23:27:12,639 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-04 23:27:12,643 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@533165e7 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@27e42fe8, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1018552d testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@272cec71]; rollback [true]
2019-09-04 23:27:12,655 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 23:27:12,673 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100003
2019-09-04 23:27:12,683 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@533165e7 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@27e42fe8, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1018552d testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 23:27:12,685 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 23:27:12,687 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 23:27:12,707 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 16 ms
2019-09-04 23:27:12,713 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@533165e7 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4283f29b, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1018552d testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@272cec71]; rollback [true]
2019-09-04 23:27:12,723 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 23:27:12,731 INFO  ru.vladzag.web.user.UserRestController.updateVote:67 - User updateVote(id: 100010) for restaurant with id: 100003
2019-09-04 23:27:12,738 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@533165e7 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4283f29b, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1018552d testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 23:27:12,740 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 23:27:12,745 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 23:27:12,754 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-04 23:27:12,762 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@533165e7 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@5016934, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1018552d testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@272cec71]; rollback [true]
2019-09-04 23:27:12,778 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 23:27:12,795 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@533165e7 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@5016934, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1018552d testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 23:27:12,801 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 23:27:12,805 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 23:27:12,813 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-04 23:27:12,826 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@533165e7 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@50e7d8ba, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1018552d testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@272cec71]; rollback [true]
2019-09-04 23:27:12,839 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 23:27:12,844 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-04 23:27:12,885 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@533165e7 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@50e7d8ba, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1018552d testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 23:27:12,902 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 23:27:12,903 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5317a7ef, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@6fa48ee4, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@a422390, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53c39950, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3d056418, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@769d0ef2]
2019-09-04 23:27:12,919 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-04 23:27:12,920 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-04 23:27:13,058 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 23:27:13,129 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-04 23:27:13,130 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-04 23:27:13,132 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 23:27:13,410 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 23:27:13,672 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 23:27:13,674 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@f3ae18f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4b548913, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@31048b3d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4d609cc3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@158e3a79, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7a7d25ca]
2019-09-04 23:27:13,677 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 23:27:13,678 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 23:27:13,682 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 23:27:13,686 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@42c3b02e testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@51039ec9, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16575bfe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@272cec71]; rollback [true]
2019-09-04 23:27:13,692 INFO  ru.vladzag.web.admin.AdminRestController.delete:79 - Admin deleteRestaurant with id: 100002
2019-09-04 23:27:13,697 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 23:27:13,703 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@42c3b02e testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@51039ec9, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16575bfe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 23:27:13,705 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 23:27:13,706 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 23:27:13,718 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 9 ms
2019-09-04 23:27:13,721 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@42c3b02e testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@53cdfb09, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16575bfe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@272cec71]; rollback [true]
2019-09-04 23:27:13,732 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-04 23:27:13,735 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 23:27:13,746 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@42c3b02e testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@53cdfb09, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16575bfe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 23:27:13,753 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 23:27:13,756 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 23:27:13,760 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 2 ms
2019-09-04 23:27:13,765 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@42c3b02e testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@3e1c566d, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16575bfe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@272cec71]; rollback [true]
2019-09-04 23:27:13,786 INFO  ru.vladzag.web.admin.AdminRestController.update:87 - Admin updateRestaurant with id: 100002
2019-09-04 23:27:13,794 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 23:27:13,808 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@42c3b02e testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@3e1c566d, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16575bfe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 23:27:13,809 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 23:27:13,811 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 23:27:13,826 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 9 ms
2019-09-04 23:27:13,834 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@42c3b02e testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@218e28d9, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16575bfe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@272cec71]; rollback [true]
2019-09-04 23:27:13,880 INFO  ru.vladzag.web.admin.AdminRestController.updateDish:125 - Admin updateDish with id: 100007
2019-09-04 23:27:13,891 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@42c3b02e testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@218e28d9, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16575bfe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 23:27:13,899 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 23:27:13,902 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 23:27:13,909 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-04 23:27:13,921 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@42c3b02e testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@2a10a99b, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16575bfe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@272cec71]; rollback [true]
2019-09-04 23:27:13,925 INFO  ru.vladzag.web.admin.AdminRestController.get:62 - Admin getRestaurant(id: 100005) in date: 2015-05-30
2019-09-04 23:27:13,939 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@42c3b02e testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@2a10a99b, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16575bfe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 23:27:13,940 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 23:27:13,943 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 23:27:13,950 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-04 23:27:13,955 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@42c3b02e testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@4eb313ed, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16575bfe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@272cec71]; rollback [true]
2019-09-04 23:27:13,962 INFO  ru.vladzag.web.admin.AdminRestController.createDish:115 - Admin createDish with id: 100010
2019-09-04 23:27:13,972 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@42c3b02e testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@4eb313ed, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16575bfe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 23:27:13,976 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 23:27:13,977 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 23:27:13,989 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-04 23:27:14,000 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@42c3b02e testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5037f491, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16575bfe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@272cec71]; rollback [true]
2019-09-04 23:27:14,003 INFO  ru.vladzag.web.admin.AdminRestController.delete:79 - Admin deleteRestaurant with id: 100002
2019-09-04 23:27:14,008 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 23:27:14,013 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@42c3b02e testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5037f491, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16575bfe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 23:27:14,020 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 23:27:14,022 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 23:27:14,030 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-04 23:27:14,039 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@42c3b02e testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@1ee37c7a, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16575bfe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@272cec71]; rollback [true]
2019-09-04 23:27:14,060 INFO  ru.vladzag.web.admin.AdminRestController.getAllHistory:46 - Admin getHistory
2019-09-04 23:27:14,083 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@42c3b02e testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@1ee37c7a, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16575bfe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 23:27:14,086 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 23:27:14,087 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 23:27:14,100 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 12 ms
2019-09-04 23:27:14,114 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@42c3b02e testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@12581426, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16575bfe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@272cec71]; rollback [true]
2019-09-04 23:27:14,124 INFO  ru.vladzag.web.admin.AdminRestController.createWithLocation:102 - Admin createRestaurant with id: 100011
2019-09-04 23:27:14,126 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 23:27:14,132 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@42c3b02e testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@12581426, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16575bfe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 23:27:14,150 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 23:27:14,157 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 23:27:14,164 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 23:27:14,170 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 23:27:14,171 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 23:27:14,173 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 23:30:24,557 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-04 23:30:25,021 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 23:30:25,031 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 23:30:25,101 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 23:30:25,103 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 23:30:25,134 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 23:30:25,419 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 23:30:25,654 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 198ms. Found 4 repository interfaces.
2019-09-04 23:30:27,494 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 23:30:27,500 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 23:30:27,505 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 23:30:27,509 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 23:30:27,580 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-04 23:30:27,584 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 23:30:27,586 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 23:30:27,588 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-04 23:30:27,640 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-04 23:30:27,642 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 23:30:27,643 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 23:30:27,645 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-04 23:30:27,845 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 23:30:28,019 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 23:30:28,325 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 23:30:29,108 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 23:30:29,805 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 23:30:31,457 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 23:30:31,463 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 23:30:31,551 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 23:30:31,556 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 23:30:33,096 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@5fc6876d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7d6354d6, org.springframework.security.web.header.HeaderWriterFilter@1991c873, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@32736678, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2c8df497, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65ec9d76, org.springframework.security.web.access.ExceptionTranslationFilter@6aef11ed, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4303c29c]
2019-09-04 23:30:33,715 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 9152 ms
2019-09-04 23:30:33,765 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-04 23:30:35,077 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 23:30:35,126 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 23:30:35,204 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1438 ms
2019-09-04 23:34:39,115 INFO  ru.vladzag.web.admin.AdminRestController.updateDish:125 - Admin updateDish with id: 100007
2019-09-04 23:35:02,869 INFO  ru.vladzag.web.admin.AdminRestController.get:69 - Admin getDish with id: 100007
2019-09-04 23:51:38,212 INFO  ru.vladzag.web.admin.AdminRestController.get:69 - Admin getDish with id: 100007
2019-09-04 23:51:44,124 INFO  ru.vladzag.web.admin.AdminRestController.get:69 - Admin getDish with id: 100001
2019-09-04 23:51:54,135 INFO  ru.vladzag.web.admin.AdminRestController.get:69 - Admin getDish with id: 100001
2019-09-04 23:54:23,264 INFO  ru.vladzag.web.admin.AdminRestController.deleteDish:133 - Admin deleteDish with id: 100007
2019-09-04 23:54:39,850 INFO  ru.vladzag.web.admin.AdminRestController.get:69 - Admin getDish with id: 100007
2019-09-05 00:14:08,505 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-05 00:14:08,984 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-05 00:14:08,993 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-05 00:14:09,059 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-05 00:14:09,061 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-05 00:14:09,098 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-05 00:14:09,364 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-05 00:14:09,584 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 185ms. Found 4 repository interfaces.
2019-09-05 00:14:11,429 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-05 00:14:11,434 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-05 00:14:11,438 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-05 00:14:11,442 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-05 00:14:11,502 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-05 00:14:11,505 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-05 00:14:11,506 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-05 00:14:11,507 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-05 00:14:11,551 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-05 00:14:11,553 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-05 00:14:11,554 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-05 00:14:11,555 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-05 00:14:11,702 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-05 00:14:11,882 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-05 00:14:12,178 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-05 00:14:12,961 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-05 00:14:13,651 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-05 00:14:15,443 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-05 00:14:15,461 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-05 00:14:15,671 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-05 00:14:15,688 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-05 00:14:17,292 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@4ea4e14f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6993a169, org.springframework.security.web.header.HeaderWriterFilter@188b6c25, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1b753e15, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7d5d54d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5d39bfb7, org.springframework.security.web.access.ExceptionTranslationFilter@2b4f122e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@770f801f]
2019-09-05 00:14:17,816 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 9304 ms
2019-09-05 00:14:17,909 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-05 00:14:18,946 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-05 00:14:18,997 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-05 00:14:19,101 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1191 ms
2019-09-05 00:14:55,851 INFO  ru.vladzag.web.admin.AdminRestController.get:58 - Admin getRestaurant(id: 100005) with all dishes and votes
2019-09-05 00:15:06,109 INFO  ru.vladzag.web.admin.AdminRestController.get:58 - Admin getRestaurant(id: 100012) with all dishes and votes
2019-09-05 23:21:47,969 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-05 23:21:48,508 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-05 23:21:48,518 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-05 23:21:48,591 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-05 23:21:48,592 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-05 23:21:48,627 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-05 23:21:48,938 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-05 23:21:49,177 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 207ms. Found 4 repository interfaces.
2019-09-05 23:21:51,130 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-05 23:21:51,136 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-05 23:21:51,140 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-05 23:21:51,144 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-05 23:21:51,211 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-05 23:21:51,216 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-05 23:21:51,218 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-05 23:21:51,219 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-05 23:21:51,262 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-05 23:21:51,264 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-05 23:21:51,265 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-05 23:21:51,266 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-05 23:21:51,507 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-05 23:21:51,689 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-05 23:21:52,056 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-05 23:21:52,988 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-05 23:21:53,778 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-05 23:21:55,361 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-05 23:21:55,366 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-05 23:21:55,436 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-05 23:21:55,439 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-05 23:21:56,851 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@57418d17, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6cb82d5c, org.springframework.security.web.header.HeaderWriterFilter@2b9d64d8, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@235a98e2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2f420ef9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@51cd3e02, org.springframework.security.web.access.ExceptionTranslationFilter@42b56446, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5b868c02]
2019-09-05 23:21:57,461 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 9483 ms
2019-09-05 23:21:57,512 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-05 23:21:58,961 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-05 23:21:59,013 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-05 23:21:59,100 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1588 ms
2019-09-05 23:23:09,834 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-05 23:23:10,363 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-05 23:23:10,371 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-05 23:23:10,442 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-05 23:23:10,443 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-05 23:23:10,482 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-05 23:23:10,788 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-05 23:23:11,042 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 211ms. Found 4 repository interfaces.
2019-09-05 23:23:12,960 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-05 23:23:12,964 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-05 23:23:12,968 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-05 23:23:12,974 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-05 23:23:13,036 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-05 23:23:13,040 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-05 23:23:13,041 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-05 23:23:13,042 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-05 23:23:13,093 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-05 23:23:13,098 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-05 23:23:13,099 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-05 23:23:13,101 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-05 23:23:13,353 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-05 23:23:13,529 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-05 23:23:13,887 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-05 23:23:14,711 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-05 23:23:15,604 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-05 23:23:17,210 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-05 23:23:17,217 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-05 23:23:17,292 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-05 23:23:17,297 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-05 23:23:18,805 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@77d166b2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1fa811f8, org.springframework.security.web.header.HeaderWriterFilter@70593cfb, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1b11566c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4a9b58f9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6c504f61, org.springframework.security.web.access.ExceptionTranslationFilter@6d05427e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@11d6f616]
2019-09-05 23:23:19,414 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 9572 ms
2019-09-05 23:23:19,466 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-05 23:23:20,823 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-05 23:23:20,868 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-05 23:23:20,959 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1493 ms
2019-09-05 23:24:50,947 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-05 23:25:25,265 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-05 23:25:43,810 INFO  ru.vladzag.web.user.UserRestController.getRestaurant:55 - User getRestaurant with id: 100005
2019-09-05 23:26:33,472 INFO  ru.vladzag.web.admin.AdminRestController.createDish:115 - Admin createDish with id: 100010
2019-09-05 23:26:50,400 INFO  ru.vladzag.web.user.UserRestController.getRestaurant:55 - User getRestaurant with id: 100005
2019-09-05 23:26:53,957 INFO  ru.vladzag.web.user.UserRestController.getRestaurant:55 - User getRestaurant with id: 100002
2019-09-05 23:27:19,974 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions:137 - SQL Error: -104, SQLState: 23505
2019-09-05 23:27:19,977 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions:142 - integrity constraint violation: unique constraint or index violation; SYS_CT_10123 table: RES_DISHES
2019-09-05 23:28:47,126 INFO  ru.vladzag.web.user.UserRestController.getRestaurant:55 - User getRestaurant with id: 100005
2019-09-05 23:28:49,655 INFO  ru.vladzag.web.user.UserRestController.getRestaurant:55 - User getRestaurant with id: 100002
2019-09-05 23:29:09,042 INFO  ru.vladzag.web.user.UserRestController.getRestaurant:55 - User getRestaurant with id: 100002
2019-09-05 23:29:21,046 INFO  ru.vladzag.web.user.UserRestController.getRestaurant:55 - User getRestaurant with id: 100003
2019-09-05 23:29:24,348 INFO  ru.vladzag.web.user.UserRestController.getRestaurant:55 - User getRestaurant with id: 100004
2019-09-05 23:29:26,765 INFO  ru.vladzag.web.user.UserRestController.getRestaurant:55 - User getRestaurant with id: 100005
2019-09-05 23:30:14,190 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions:137 - SQL Error: -104, SQLState: 23505
2019-09-05 23:30:14,191 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions:142 - integrity constraint violation: unique constraint or index violation; SYS_CT_10123 table: RES_DISHES
2019-09-05 23:30:29,569 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions:137 - SQL Error: -104, SQLState: 23505
2019-09-05 23:30:29,570 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions:142 - integrity constraint violation: unique constraint or index violation; SYS_CT_10123 table: RES_DISHES
2019-09-05 23:30:48,953 INFO  ru.vladzag.web.admin.AdminRestController.createDish:115 - Admin createDish with id: 100014
2019-09-05 23:30:59,500 INFO  ru.vladzag.web.user.UserRestController.getRestaurant:55 - User getRestaurant with id: 100002
2019-09-05 23:32:38,944 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:198 - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'int'; nested exception is java.lang.NumberFormatException: For input string: "voter"]
2019-09-05 23:34:27,952 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100005
2019-09-05 23:34:43,790 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-05 23:50:09,725 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-05 23:50:10,146 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-05 23:50:10,153 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-05 23:50:10,209 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-05 23:50:10,210 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-05 23:50:10,240 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-05 23:50:10,477 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-05 23:50:10,727 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 219ms. Found 4 repository interfaces.
2019-09-05 23:50:12,726 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-05 23:50:12,732 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-05 23:50:12,737 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-05 23:50:12,741 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-05 23:50:12,806 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-05 23:50:12,811 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-05 23:50:12,812 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-05 23:50:12,813 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-05 23:50:12,861 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-05 23:50:12,864 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-05 23:50:12,866 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-05 23:50:12,867 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-05 23:50:13,057 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-05 23:50:13,255 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-05 23:50:13,572 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-05 23:50:14,364 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-05 23:50:15,179 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-05 23:50:16,855 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-05 23:50:16,860 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-05 23:50:16,926 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-05 23:50:16,930 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-05 23:50:18,520 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@433dd84, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4882d11e, org.springframework.security.web.header.HeaderWriterFilter@284ad9d2, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7b9b235f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4ce9775d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4b5ecebc, org.springframework.security.web.access.ExceptionTranslationFilter@69e84193, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6da074a3]
2019-09-05 23:50:19,726 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 9994 ms
2019-09-05 23:50:19,786 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-05 23:50:21,385 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-05 23:50:21,432 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-05 23:50:21,613 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1826 ms
2019-09-05 23:52:32,557 INFO  ru.vladzag.web.admin.AdminRestController.createDish:118 - Admin createDish with id: 100010
2019-09-05 23:59:14,964 INFO  ru.vladzag.web.admin.AdminRestController.get:63 - Admin getRestaurant(id: 100005) in date: 2015-05-29
2019-09-05 23:59:26,180 INFO  ru.vladzag.web.admin.AdminRestController.get:63 - Admin getRestaurant(id: 100002) in date: 2015-05-29
2019-09-06 00:00:14,674 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100005
2019-09-06 00:00:25,772 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-06 00:00:44,769 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-06 00:01:02,127 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 12:37:42,618 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-07 12:37:42,649 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@62e20a76, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2cc44ad, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@44b3606b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1477089c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@663411de, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@63dd899]
2019-09-07 12:37:43,333 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-07 12:37:43,342 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 12:37:43,414 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 12:37:43,416 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 12:37:43,462 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 12:37:43,731 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 12:37:43,901 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 145ms. Found 4 repository interfaces.
2019-09-07 12:37:45,197 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-07 12:37:45,203 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-07 12:37:45,209 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-07 12:37:45,216 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-07 12:37:45,270 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 12:37:45,273 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 12:37:45,274 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 12:37:45,276 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 12:37:45,315 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 12:37:45,318 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 12:37:45,319 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 12:37:45,320 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 12:37:45,492 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 12:37:45,643 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-07 12:37:45,940 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-07 12:37:46,572 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 12:37:47,110 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-07 12:37:48,205 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 12:37:48,210 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 12:37:48,293 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 12:37:48,297 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 12:37:49,269 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@13cc31df, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5977bdea, org.springframework.security.web.header.HeaderWriterFilter@50d05167, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@15549dd7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4a29a1e6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3efb863c, org.springframework.security.web.access.ExceptionTranslationFilter@478cebdb, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3dad8bde]
2019-09-07 12:37:50,674 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-07 12:37:50,675 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4645a575, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@b332eda, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@6bf70600, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3ca5da54, org.springframework.test.context.transaction.TransactionalTestExecutionListener@57a0aeb8, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@45f70f68]
2019-09-07 12:37:50,804 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 12:37:50,861 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-07 12:37:50,862 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-07 12:37:50,863 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 12:37:51,128 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 12:37:51,384 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 12:37:51,417 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-07 12:37:51,419 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-07 12:37:51,423 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-07 12:37:51,429 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-07 12:38:04,851 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-07 12:38:04,924 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@16ecee1, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3b220bcb, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@2b95e48b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4a3329b9, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3dddefd8, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@160ac7fb]
2019-09-07 12:38:05,608 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-07 12:38:05,615 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 12:38:05,667 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 12:38:05,668 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 12:38:05,697 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 12:38:05,875 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 12:38:06,151 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 249ms. Found 4 repository interfaces.
2019-09-07 12:38:07,294 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-07 12:38:07,298 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-07 12:38:07,302 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-07 12:38:07,306 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-07 12:38:07,348 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 12:38:07,350 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 12:38:07,353 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 12:38:07,354 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 12:38:07,380 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 12:38:07,381 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 12:38:07,382 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 12:38:07,383 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 12:38:07,466 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 12:38:07,565 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-07 12:38:07,800 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-07 12:38:08,466 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 12:38:08,946 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-07 12:38:09,866 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 12:38:09,870 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 12:38:09,925 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 12:38:09,931 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 12:38:10,739 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@58486deb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3d01ea33, org.springframework.security.web.header.HeaderWriterFilter@62f6185a, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7a2fd94c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@69f24965, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5c20505f, org.springframework.security.web.access.ExceptionTranslationFilter@aca594d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@43201f84]
2019-09-07 12:38:11,972 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-07 12:38:11,973 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@341141ab, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1773faf8, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@3ef4a8fb, org.springframework.test.context.support.DirtiesContextTestExecutionListener@30f99ca1, org.springframework.test.context.transaction.TransactionalTestExecutionListener@edb8f0c, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6f70015]
2019-09-07 12:38:12,099 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 12:38:12,102 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 12:38:12,103 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 12:38:12,104 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 12:38:12,295 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 12:38:12,321 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 25ms. Found 4 repository interfaces.
2019-09-07 12:38:12,441 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 12:38:12,442 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 12:38:12,443 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 12:38:12,444 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 12:38:12,503 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 12:38:12,520 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 12:38:12,617 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 12:38:12,618 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 12:38:12,629 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 12:38:12,633 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 12:38:12,799 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@98a0842, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@525c0f74, org.springframework.security.web.header.HeaderWriterFilter@4b517357, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@22decfa2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@19a799cb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2e93f91d, org.springframework.security.web.access.ExceptionTranslationFilter@41623694, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1798c749]
2019-09-07 12:38:13,556 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 12:38:13,600 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 12:38:13,766 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 12:38:13,768 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 12:38:13,785 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 16 ms
2019-09-07 12:38:13,797 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@79e3f444 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@205d6f84, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@14ea3ecf testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@674b9b85]; rollback [true]
2019-09-07 12:38:13,882 INFO  ru.vladzag.web.user.UserRestController.getRestaurant:55 - User getRestaurant with id: 100005
2019-09-07 12:38:14,050 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@79e3f444 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@205d6f84, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@14ea3ecf testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 12:38:14,054 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 12:38:14,057 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 12:38:14,061 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-07 12:38:14,064 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@79e3f444 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@52d625bd, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@14ea3ecf testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@674b9b85]; rollback [true]
2019-09-07 12:38:14,071 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 12:38:14,118 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@79e3f444 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@52d625bd, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@14ea3ecf testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 12:38:14,125 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 12:38:14,126 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 12:38:14,129 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 2 ms
2019-09-07 12:38:14,133 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@79e3f444 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@72499396, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@14ea3ecf testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@674b9b85]; rollback [true]
2019-09-07 12:38:14,140 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-07 12:38:14,148 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@79e3f444 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@72499396, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@14ea3ecf testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 12:38:14,150 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 12:38:14,151 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 12:38:14,175 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 23 ms
2019-09-07 12:38:14,179 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@79e3f444 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@556a5e70, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@14ea3ecf testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@674b9b85]; rollback [true]
2019-09-07 12:38:14,191 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:198 - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
2019-09-07 12:38:14,193 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:198 - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
2019-09-07 12:38:14,199 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-07 12:38:14,200 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-07 12:38:14,201 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@79e3f444 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@556a5e70, testMethod = createTwice@UserRestControllerTest, testException = java.lang.AssertionError: Status expected:<403> but was:<405>, mergedContextConfiguration = [WebMergedContextConfiguration@14ea3ecf testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 12:38:14,212 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 12:38:14,214 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 12:38:14,219 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-07 12:38:14,224 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@79e3f444 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@240a717d, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@14ea3ecf testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@674b9b85]; rollback [true]
2019-09-07 12:38:14,238 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:198 - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
2019-09-07 12:38:14,240 WARN  org.springframework.web.servlet.PageNotFound.noHandlerFound:1249 - No mapping for PUT /rest/user/restaurants/100003/100010
2019-09-07 12:38:14,242 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-07 12:38:14,243 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-07 12:38:14,244 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@79e3f444 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@240a717d, testMethod = updateVote@UserRestControllerTest, testException = java.lang.AssertionError: Status expected:<403> but was:<404>, mergedContextConfiguration = [WebMergedContextConfiguration@14ea3ecf testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 12:38:14,258 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 12:38:14,260 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 12:38:14,267 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-07 12:38:14,272 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@79e3f444 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@238cac6, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@14ea3ecf testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@674b9b85]; rollback [true]
2019-09-07 12:38:14,284 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:198 - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
2019-09-07 12:38:14,291 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@79e3f444 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@238cac6, testMethod = createVote@UserRestControllerTest, testException = ru.vladzag.util.exception.NotFoundException: Not found entity with id=100010, mergedContextConfiguration = [WebMergedContextConfiguration@14ea3ecf testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 12:38:14,312 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 12:38:14,315 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 12:38:14,321 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-07 12:38:14,325 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@79e3f444 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@57e9cd2, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@14ea3ecf testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@674b9b85]; rollback [true]
2019-09-07 12:38:14,342 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:198 - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
2019-09-07 12:38:14,344 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-07 12:38:14,353 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@79e3f444 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@57e9cd2, testMethod = getScore@UserRestControllerTest, testException = java.lang.AssertionError: Status expected:<200> but was:<403>, mergedContextConfiguration = [WebMergedContextConfiguration@14ea3ecf testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 12:38:14,369 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-07 12:38:14,370 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@482034fb, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@41bd8ec9, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@1d306d27, org.springframework.test.context.support.DirtiesContextTestExecutionListener@557abb68, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1cb4cad0, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3152d449]
2019-09-07 12:38:14,393 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-07 12:38:14,394 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-07 12:38:14,471 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 12:38:14,496 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-07 12:38:14,498 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-07 12:38:14,503 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 12:38:14,704 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 12:38:14,888 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-07 12:38:14,888 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1b914e36, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@29f3ea39, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@18eb6ea3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@19740583, org.springframework.test.context.transaction.TransactionalTestExecutionListener@8850865, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3e11996e]
2019-09-07 12:38:14,891 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 12:38:14,892 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 12:38:14,895 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 2 ms
2019-09-07 12:38:14,899 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@64cbc28e testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5623fd90, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4842a683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@674b9b85]; rollback [true]
2019-09-07 12:38:14,902 INFO  ru.vladzag.web.admin.AdminRestController.delete:80 - Admin deleteRestaurant with id: 100002
2019-09-07 12:38:14,908 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 12:38:14,915 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@64cbc28e testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5623fd90, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4842a683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 12:38:14,917 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 12:38:14,918 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 12:38:14,926 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-07 12:38:14,933 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@64cbc28e testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@4c954b79, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4842a683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@674b9b85]; rollback [true]
2019-09-07 12:38:14,939 INFO  ru.vladzag.web.admin.AdminRestController.getAll:39 - Admin getAll
2019-09-07 12:38:14,940 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 12:38:14,952 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@64cbc28e testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@4c954b79, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4842a683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 12:38:14,954 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 12:38:14,955 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 12:38:14,963 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 8 ms
2019-09-07 12:38:14,968 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@64cbc28e testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5e81b406, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4842a683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@674b9b85]; rollback [true]
2019-09-07 12:38:14,977 INFO  ru.vladzag.web.admin.AdminRestController.update:88 - Admin updateRestaurant with id: 100002
2019-09-07 12:38:14,986 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 12:38:15,001 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@64cbc28e testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5e81b406, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4842a683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 12:38:15,003 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 12:38:15,004 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 12:38:15,009 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-07 12:38:15,012 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@64cbc28e testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@efe75a2, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4842a683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@674b9b85]; rollback [true]
2019-09-07 12:38:15,045 INFO  ru.vladzag.web.admin.AdminRestController.updateDish:128 - Admin updateDish with id: 100007
2019-09-07 12:38:15,055 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@64cbc28e testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@efe75a2, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4842a683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 12:38:15,058 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 12:38:15,059 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 12:38:15,068 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 8 ms
2019-09-07 12:38:15,073 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@64cbc28e testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@79864d6, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4842a683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@674b9b85]; rollback [true]
2019-09-07 12:38:15,079 INFO  ru.vladzag.web.admin.AdminRestController.get:63 - Admin getRestaurant(id: 100005) in date: 2015-05-30
2019-09-07 12:38:15,096 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@64cbc28e testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@79864d6, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4842a683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 12:38:15,099 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 12:38:15,100 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 12:38:15,104 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-07 12:38:15,107 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@64cbc28e testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@4ca6f587, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4842a683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@674b9b85]; rollback [true]
2019-09-07 12:38:15,114 INFO  ru.vladzag.web.admin.AdminRestController.createDish:118 - Admin createDish with id: 100010
2019-09-07 12:38:15,122 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@64cbc28e testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@4ca6f587, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4842a683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 12:38:15,125 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 12:38:15,126 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 12:38:15,129 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 2 ms
2019-09-07 12:38:15,138 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@64cbc28e testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@227ae4e4, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4842a683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@674b9b85]; rollback [true]
2019-09-07 12:38:15,142 INFO  ru.vladzag.web.admin.AdminRestController.delete:80 - Admin deleteRestaurant with id: 100002
2019-09-07 12:38:15,148 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 12:38:15,152 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@64cbc28e testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@227ae4e4, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4842a683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 12:38:15,154 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 12:38:15,155 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 12:38:15,168 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 12 ms
2019-09-07 12:38:15,171 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@64cbc28e testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@117bfeb8, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4842a683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@674b9b85]; rollback [true]
2019-09-07 12:38:15,175 INFO  ru.vladzag.web.admin.AdminRestController.getAllHistory:47 - Admin getHistory
2019-09-07 12:38:15,202 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@64cbc28e testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@117bfeb8, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4842a683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 12:38:15,212 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 12:38:15,213 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 12:38:15,218 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-07 12:38:15,224 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@64cbc28e testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@1495f70, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4842a683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@674b9b85]; rollback [true]
2019-09-07 12:38:15,232 INFO  ru.vladzag.web.admin.AdminRestController.createWithLocation:103 - Admin createRestaurant with id: 100011
2019-09-07 12:38:15,235 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 12:38:15,240 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@64cbc28e testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@1495f70, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4842a683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 12:38:15,256 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 12:38:15,264 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 12:38:15,279 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-07 12:38:15,281 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-07 12:38:15,284 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-07 12:38:15,285 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-07 12:45:43,239 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-07 12:45:43,274 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@62ea3440, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@27953a83, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@556d0826, org.springframework.test.context.support.DirtiesContextTestExecutionListener@66ce957f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@55b5f5d2, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5bfa8cc5]
2019-09-07 12:45:43,931 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-07 12:45:43,936 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 12:45:43,981 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 12:45:43,985 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 12:45:44,020 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 12:45:44,251 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 12:45:44,449 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 171ms. Found 4 repository interfaces.
2019-09-07 12:45:45,813 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-07 12:45:45,818 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-07 12:45:45,824 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-07 12:45:45,828 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-07 12:45:45,883 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 12:45:45,887 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 12:45:45,888 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 12:45:45,890 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 12:45:45,921 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 12:45:45,925 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 12:45:45,927 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 12:45:45,929 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 12:45:46,056 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 12:45:46,157 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-07 12:45:46,387 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-07 12:45:47,004 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 12:45:47,478 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-07 12:45:48,483 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 12:45:48,486 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 12:45:48,544 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 12:45:48,549 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 12:45:49,358 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@566cc6af, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@31b289da, org.springframework.security.web.header.HeaderWriterFilter@19677add, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1be12e05, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@52d01430, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@322eb1a, org.springframework.security.web.access.ExceptionTranslationFilter@4853f592, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@72c175f1]
2019-09-07 12:45:50,743 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-07 12:45:50,744 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@14764fdd, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@402fdef1, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@69e8f7a5, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1013aa94, org.springframework.test.context.transaction.TransactionalTestExecutionListener@36bd07ec, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@85b9f9c]
2019-09-07 12:45:50,908 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 12:45:50,921 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 12:45:50,923 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 12:45:50,927 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 12:45:51,142 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 12:45:51,179 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 36ms. Found 4 repository interfaces.
2019-09-07 12:45:51,297 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 12:45:51,299 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 12:45:51,301 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 12:45:51,302 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 12:45:51,378 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 12:45:51,396 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 12:45:51,499 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 12:45:51,500 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 12:45:51,511 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 12:45:51,514 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 12:45:51,735 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@7fd3197b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6a087c72, org.springframework.security.web.header.HeaderWriterFilter@1b949de4, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5dabe7c8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@14b0b7f9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@22decfa2, org.springframework.security.web.access.ExceptionTranslationFilter@5ad13be4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1267adbe]
2019-09-07 12:45:52,461 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 12:45:52,510 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 12:45:52,669 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 12:45:52,671 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 12:45:52,687 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 14 ms
2019-09-07 12:45:52,702 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@157ff8f8, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@50165a6d]; rollback [true]
2019-09-07 12:45:52,805 INFO  ru.vladzag.web.user.UserRestController.getRestaurant:55 - User getRestaurant with id: 100005
2019-09-07 12:45:52,961 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@157ff8f8, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 12:45:52,966 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 12:45:52,971 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 12:45:52,996 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 21 ms
2019-09-07 12:45:53,010 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@5d9639bb, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@50165a6d]; rollback [true]
2019-09-07 12:45:53,040 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 12:45:53,116 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@5d9639bb, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 12:45:53,122 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 12:45:53,125 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 12:45:53,133 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-07 12:45:53,139 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@6d810e94, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@50165a6d]; rollback [true]
2019-09-07 12:45:53,149 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-07 12:45:53,158 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@6d810e94, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 12:45:53,166 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 12:45:53,170 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 12:45:53,179 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-07 12:45:53,184 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@65145fb7, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@50165a6d]; rollback [true]
2019-09-07 12:45:53,205 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-07 12:45:53,215 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100003
2019-09-07 12:45:53,226 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@65145fb7, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 12:45:53,228 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 12:45:53,235 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 12:45:53,247 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-07 12:45:53,260 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@5ea50a98, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@50165a6d]; rollback [true]
2019-09-07 12:45:53,271 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-07 12:45:53,277 INFO  ru.vladzag.web.user.UserRestController.updateVote:67 - User updateVote(id: 100010) for restaurant with id: 100003
2019-09-07 12:45:53,284 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@5ea50a98, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 12:45:53,286 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 12:45:53,295 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 12:45:53,303 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 7 ms
2019-09-07 12:45:53,320 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@1f612968, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@50165a6d]; rollback [true]
2019-09-07 12:45:53,329 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-07 12:45:53,345 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@1f612968, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 12:45:53,350 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 12:45:53,356 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 12:45:53,361 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 2 ms
2019-09-07 12:45:53,378 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@557abb68, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@50165a6d]; rollback [true]
2019-09-07 12:45:53,388 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-07 12:45:53,394 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-07 12:45:53,431 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@557abb68, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 12:45:53,455 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-07 12:45:53,456 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6da14f7f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@c53c04e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@18f493d7, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2d036335, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4a3e1b5d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@587df3e4]
2019-09-07 12:45:53,475 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-07 12:45:53,476 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-07 12:45:53,584 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 12:45:53,640 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-07 12:45:53,642 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-07 12:45:53,644 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 12:45:53,907 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 12:45:54,212 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-07 12:45:54,215 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@36e8fefe, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5e8633da, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@70c3c5d7, org.springframework.test.context.support.DirtiesContextTestExecutionListener@236e6563, org.springframework.test.context.transaction.TransactionalTestExecutionListener@528070fe, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3df79197]
2019-09-07 12:45:54,223 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 12:45:54,224 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 12:45:54,228 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-07 12:45:54,236 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@52b7a3e1 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@53cdfb09, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@207e3ffd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@50165a6d]; rollback [true]
2019-09-07 12:45:54,245 INFO  ru.vladzag.web.admin.AdminRestController.delete:80 - Admin deleteRestaurant with id: 100002
2019-09-07 12:45:54,250 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 12:45:54,263 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@52b7a3e1 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@53cdfb09, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@207e3ffd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 12:45:54,273 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 12:45:54,278 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 12:45:54,282 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-07 12:45:54,289 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@52b7a3e1 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@3e1c566d, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@207e3ffd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@50165a6d]; rollback [true]
2019-09-07 12:45:54,308 INFO  ru.vladzag.web.admin.AdminRestController.getAll:39 - Admin getAll
2019-09-07 12:45:54,313 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 12:45:54,323 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@52b7a3e1 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@3e1c566d, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@207e3ffd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 12:45:54,325 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 12:45:54,328 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 12:45:54,341 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 12 ms
2019-09-07 12:45:54,349 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@52b7a3e1 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7f794b0f, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@207e3ffd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@50165a6d]; rollback [true]
2019-09-07 12:45:54,364 INFO  ru.vladzag.web.admin.AdminRestController.update:88 - Admin updateRestaurant with id: 100002
2019-09-07 12:45:54,373 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 12:45:54,383 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@52b7a3e1 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7f794b0f, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@207e3ffd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 12:45:54,385 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 12:45:54,388 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 12:45:54,398 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 7 ms
2019-09-07 12:45:54,413 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@52b7a3e1 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@3edb09b9, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@207e3ffd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@50165a6d]; rollback [true]
2019-09-07 12:45:54,440 INFO  ru.vladzag.web.admin.AdminRestController.updateDish:128 - Admin updateDish with id: 100007
2019-09-07 12:45:54,447 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@52b7a3e1 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@3edb09b9, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@207e3ffd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 12:45:54,449 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 12:45:54,452 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 12:45:54,472 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 17 ms
2019-09-07 12:45:54,482 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@52b7a3e1 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5d8cbb32, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@207e3ffd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@50165a6d]; rollback [true]
2019-09-07 12:45:54,490 INFO  ru.vladzag.web.admin.AdminRestController.get:63 - Admin getRestaurant(id: 100005) in date: 2015-05-30
2019-09-07 12:45:54,505 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@52b7a3e1 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5d8cbb32, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@207e3ffd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 12:45:54,506 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 12:45:54,509 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 12:45:54,517 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-07 12:45:54,526 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@52b7a3e1 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@3fc92211, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@207e3ffd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@50165a6d]; rollback [true]
2019-09-07 12:45:54,539 INFO  ru.vladzag.web.admin.AdminRestController.createDish:118 - Admin createDish with id: 100010
2019-09-07 12:45:54,546 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@52b7a3e1 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@3fc92211, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@207e3ffd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 12:45:54,552 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 12:45:54,555 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 12:45:54,561 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-07 12:45:54,566 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@52b7a3e1 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@1227ea21, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@207e3ffd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@50165a6d]; rollback [true]
2019-09-07 12:45:54,573 INFO  ru.vladzag.web.admin.AdminRestController.delete:80 - Admin deleteRestaurant with id: 100002
2019-09-07 12:45:54,577 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 12:45:54,580 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@52b7a3e1 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@1227ea21, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@207e3ffd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 12:45:54,582 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 12:45:54,590 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 12:45:54,596 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-07 12:45:54,610 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@52b7a3e1 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@4973dacf, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@207e3ffd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@50165a6d]; rollback [true]
2019-09-07 12:45:54,612 INFO  ru.vladzag.web.admin.AdminRestController.getAllHistory:47 - Admin getHistory
2019-09-07 12:45:54,633 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@52b7a3e1 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@4973dacf, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@207e3ffd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 12:45:54,635 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 12:45:54,638 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 12:45:54,650 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 9 ms
2019-09-07 12:45:54,656 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@52b7a3e1 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@3c84c32f, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@207e3ffd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@50165a6d]; rollback [true]
2019-09-07 12:45:54,671 INFO  ru.vladzag.web.admin.AdminRestController.createWithLocation:103 - Admin createRestaurant with id: 100011
2019-09-07 12:45:54,674 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 12:45:54,679 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@52b7a3e1 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@3c84c32f, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@207e3ffd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 12:45:54,700 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 12:45:54,706 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 12:45:54,723 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-07 12:45:54,725 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-07 12:45:54,726 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-07 12:45:54,727 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-07 12:46:19,765 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-07 12:46:20,235 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-07 12:46:20,246 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 12:46:20,321 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 12:46:20,323 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 12:46:20,354 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 12:46:20,606 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 12:46:20,855 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 207ms. Found 4 repository interfaces.
2019-09-07 12:46:22,760 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-07 12:46:22,766 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-07 12:46:22,771 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-07 12:46:22,775 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-07 12:46:22,843 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-07 12:46:22,846 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 12:46:22,848 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 12:46:22,849 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-07 12:46:22,916 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-07 12:46:22,918 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 12:46:22,919 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 12:46:22,921 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-07 12:46:23,094 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 12:46:23,313 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-07 12:46:23,725 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-07 12:46:24,586 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 12:46:25,430 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-07 12:46:26,982 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 12:46:26,987 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 12:46:27,058 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 12:46:27,063 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 12:46:28,251 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@23dd959e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@55fb9657, org.springframework.security.web.header.HeaderWriterFilter@9bfff24, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@45e4c6b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@bb58b18, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4e0c75a6, org.springframework.security.web.access.ExceptionTranslationFilter@4f214bb6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@35103ff7]
2019-09-07 12:46:29,152 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 9380 ms
2019-09-07 12:46:29,217 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-07 12:46:30,539 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 12:46:30,591 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 12:46:30,684 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1466 ms
2019-09-07 12:47:23,941 INFO  ru.vladzag.web.admin.AdminRestController.getAll:39 - Admin getAll
2019-09-07 12:47:23,988 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 12:47:53,890 INFO  ru.vladzag.web.admin.AdminRestController.getAll:39 - Admin getAll
2019-09-07 12:48:07,506 INFO  ru.vladzag.web.admin.AdminRestController.getAll:39 - Admin getAll
2019-09-07 12:48:08,241 INFO  ru.vladzag.web.admin.AdminRestController.getAll:39 - Admin getAll
2019-09-07 12:48:12,832 INFO  ru.vladzag.web.admin.AdminRestController.getAll:39 - Admin getAll
2019-09-07 12:48:26,765 INFO  ru.vladzag.web.admin.AdminRestController.getAll:39 - Admin getAll
2019-09-07 12:48:34,351 INFO  ru.vladzag.web.admin.AdminRestController.getAll:39 - Admin getAll
2019-09-07 12:48:48,781 INFO  ru.vladzag.web.admin.AdminRestController.createWithLocation:103 - Admin createRestaurant with id: 100010
2019-09-07 12:48:52,661 INFO  ru.vladzag.web.admin.AdminRestController.getAll:39 - Admin getAll
2019-09-07 12:48:52,662 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 12:49:14,620 INFO  ru.vladzag.web.admin.AdminRestController.getAllHistory:47 - Admin getHistory
2019-09-07 12:53:29,800 INFO  ru.vladzag.web.admin.AdminRestController.getAllHistory:51 - Admin getHistory in date:2015-05-30
2019-09-07 12:53:35,400 INFO  ru.vladzag.web.admin.AdminRestController.getAllHistory:51 - Admin getHistory in date:2015-05-29
2019-09-07 12:53:39,079 INFO  ru.vladzag.web.admin.AdminRestController.getAllHistory:51 - Admin getHistory in date:2015-05-30
2019-09-07 12:59:03,778 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100005
2019-09-07 12:59:13,333 INFO  ru.vladzag.web.admin.AdminRestController.getAllHistory:47 - Admin getHistory
2019-09-07 12:59:18,790 INFO  ru.vladzag.web.admin.AdminRestController.getAllHistory:47 - Admin getHistory
2019-09-07 12:59:19,716 INFO  ru.vladzag.web.admin.AdminRestController.getAllHistory:47 - Admin getHistory
2019-09-07 12:59:20,289 INFO  ru.vladzag.web.admin.AdminRestController.getAllHistory:47 - Admin getHistory
2019-09-07 13:03:22,807 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-07 13:03:23,370 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-07 13:03:23,378 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 13:03:23,446 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 13:03:23,448 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 13:03:23,487 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 13:03:23,769 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 13:03:24,003 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 196ms. Found 4 repository interfaces.
2019-09-07 13:03:26,001 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-07 13:03:26,007 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-07 13:03:26,013 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-07 13:03:26,017 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-07 13:03:26,106 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-07 13:03:26,114 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 13:03:26,118 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 13:03:26,120 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-07 13:03:26,176 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-07 13:03:26,180 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 13:03:26,182 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 13:03:26,183 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-07 13:03:26,410 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 13:03:26,604 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-07 13:03:27,018 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-07 13:03:28,479 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 13:03:29,525 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-07 13:03:31,542 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 13:03:31,547 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 13:03:31,612 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 13:03:31,615 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 13:03:32,912 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@4e13b766, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@52aa8cde, org.springframework.security.web.header.HeaderWriterFilter@c9bf2b0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@44e6cdb6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2507d8ba, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3fa9051f, org.springframework.security.web.access.ExceptionTranslationFilter@7b2b6b1a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@568442cd]
2019-09-07 13:03:33,896 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 11081 ms
2019-09-07 13:03:33,949 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-07 13:03:35,272 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 13:03:35,321 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 13:03:35,413 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1463 ms
2019-09-07 13:04:03,998 INFO  ru.vladzag.web.admin.AdminRestController.getAllHistory:47 - Admin getHistory
2019-09-07 13:04:05,299 INFO  ru.vladzag.web.admin.AdminRestController.getAllHistory:47 - Admin getHistory
2019-09-07 13:04:06,151 INFO  ru.vladzag.web.admin.AdminRestController.getAllHistory:47 - Admin getHistory
2019-09-07 13:04:10,520 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100005
2019-09-07 13:04:12,715 INFO  ru.vladzag.web.admin.AdminRestController.getAllHistory:47 - Admin getHistory
2019-09-07 13:04:13,934 INFO  ru.vladzag.web.admin.AdminRestController.getAllHistory:47 - Admin getHistory
2019-09-07 13:04:16,864 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100005
2019-09-07 13:07:15,123 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-07 13:07:15,669 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-07 13:07:15,678 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 13:07:15,748 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 13:07:15,750 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 13:07:15,788 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 13:07:16,084 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 13:07:16,335 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 214ms. Found 4 repository interfaces.
2019-09-07 13:07:18,448 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-07 13:07:18,457 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-07 13:07:18,462 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-07 13:07:18,468 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-07 13:07:18,559 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-07 13:07:18,564 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 13:07:18,566 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 13:07:18,591 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-07 13:07:18,659 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-07 13:07:18,665 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 13:07:18,675 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 13:07:18,677 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-07 13:07:18,893 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 13:07:19,114 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-07 13:07:19,431 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-07 13:07:20,218 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 13:07:21,026 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-07 13:07:22,693 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 13:07:22,701 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 13:07:22,791 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 13:07:22,797 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 13:07:24,245 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@54332470, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@49f39e80, org.springframework.security.web.header.HeaderWriterFilter@68c452e4, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@369d52f6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@38bb315e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@20180bdc, org.springframework.security.web.access.ExceptionTranslationFilter@671d5359, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@653148e9]
2019-09-07 13:07:25,112 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 9982 ms
2019-09-07 13:07:25,183 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-07 13:07:27,225 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 13:07:27,283 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 13:07:27,378 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 2194 ms
2019-09-07 13:10:58,381 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-07 13:10:58,946 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-07 13:10:58,955 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 13:10:59,025 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 13:10:59,027 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 13:10:59,066 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 13:10:59,438 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 13:10:59,707 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 232ms. Found 4 repository interfaces.
2019-09-07 13:11:03,244 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-07 13:11:03,249 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-07 13:11:03,254 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-07 13:11:03,265 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-07 13:11:03,367 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-07 13:11:03,370 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 13:11:03,371 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 13:11:03,372 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-07 13:11:03,432 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-07 13:11:03,436 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 13:11:03,439 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 13:11:03,440 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-07 13:11:03,651 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 13:11:03,861 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-07 13:11:04,328 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-07 13:11:05,244 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 13:11:06,010 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-07 13:11:07,642 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 13:11:07,647 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 13:11:07,731 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 13:11:07,734 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 13:11:08,978 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@648ad644, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a3e737b, org.springframework.security.web.header.HeaderWriterFilter@44aeb160, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1ac92a3b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5d11fd17, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7f50a155, org.springframework.security.web.access.ExceptionTranslationFilter@5cb8da47, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@498f771f]
2019-09-07 13:11:09,909 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 11521 ms
2019-09-07 13:11:09,977 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-07 13:11:11,368 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 13:11:11,420 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 13:11:11,506 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1528 ms
2019-09-07 13:11:35,654 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-07 13:13:06,453 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-07 13:13:06,946 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-07 13:13:06,954 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 13:13:07,023 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 13:13:07,025 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 13:13:07,064 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 13:13:07,368 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 13:13:07,639 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 235ms. Found 4 repository interfaces.
2019-09-07 13:13:09,643 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-07 13:13:09,648 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-07 13:13:09,652 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-07 13:13:09,657 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-07 13:13:09,718 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-07 13:13:09,722 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 13:13:09,723 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 13:13:09,724 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-07 13:13:09,770 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-07 13:13:09,772 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 13:13:09,774 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 13:13:09,775 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-07 13:13:09,963 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 13:13:10,173 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-07 13:13:10,584 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-07 13:13:11,417 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 13:13:12,182 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-07 13:13:13,574 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 13:13:13,579 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 13:13:13,643 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 13:13:13,646 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 13:13:14,949 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@4919e4ca, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@71306d56, org.springframework.security.web.header.HeaderWriterFilter@ebbdf13, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4a069bc0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@51f0d038, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@39b4d1ef, org.springframework.security.web.access.ExceptionTranslationFilter@61327f5e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@44719f42]
2019-09-07 13:13:15,874 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 9413 ms
2019-09-07 13:13:15,931 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-07 13:13:17,293 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 13:13:17,341 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 13:13:17,431 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1499 ms
2019-09-07 13:13:28,416 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-07 13:14:08,468 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100005
2019-09-07 13:14:17,197 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100005
2019-09-07 13:14:24,779 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-07 13:14:53,034 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-07 13:15:13,579 WARN  org.springframework.web.servlet.PageNotFound.noHandlerFound:1249 - No mapping for POST /restaraunt/restaurants/voter
2019-09-07 13:16:01,696 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-07 13:17:09,781 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-07 13:21:23,205 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-07 13:21:23,695 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-07 13:21:23,704 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 13:21:23,773 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 13:21:23,775 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 13:21:23,815 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 13:21:24,109 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 13:21:24,377 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 234ms. Found 4 repository interfaces.
2019-09-07 13:21:26,440 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-07 13:21:26,445 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-07 13:21:26,448 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-07 13:21:26,453 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-07 13:21:26,518 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-07 13:21:26,523 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 13:21:26,524 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 13:21:26,524 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-07 13:21:26,569 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-07 13:21:26,572 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 13:21:26,574 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 13:21:26,576 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-07 13:21:26,826 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 13:21:27,054 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-07 13:21:27,524 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-07 13:21:28,398 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 13:21:29,224 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-07 13:21:30,701 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 13:21:30,706 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 13:21:30,772 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 13:21:30,775 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 13:21:31,791 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@709b8cd5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@55515d08, org.springframework.security.web.header.HeaderWriterFilter@597edcdc, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7814dad6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@588d649f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@20a751ca, org.springframework.security.web.access.ExceptionTranslationFilter@2a8a6331, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5d53741b]
2019-09-07 13:21:32,602 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 9390 ms
2019-09-07 13:21:32,645 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-07 13:21:33,694 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 13:21:33,746 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 13:21:33,831 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1185 ms
2019-09-07 13:21:46,254 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-07 13:21:55,668 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 13:22:07,550 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-07 13:22:11,705 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-07 13:22:34,867 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100005
2019-09-07 13:22:41,124 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-07 13:22:45,318 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-07 13:22:47,681 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-07 13:26:45,728 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-07 13:26:45,844 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4b672daa, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@ea9b7c6, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@e077866, org.springframework.test.context.support.DirtiesContextTestExecutionListener@ed3068a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7c2b6087, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3fffff43]
2019-09-07 13:26:47,257 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-07 13:26:47,266 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 13:26:47,336 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 13:26:47,338 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 13:26:47,421 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 13:26:48,231 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 13:26:49,080 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 742ms. Found 4 repository interfaces.
2019-09-07 13:26:51,868 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-07 13:26:51,882 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-07 13:26:51,919 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-07 13:26:51,935 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-07 13:26:51,987 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 13:26:51,998 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 13:26:52,003 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 13:26:52,004 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 13:26:52,083 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 13:26:52,094 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 13:26:52,095 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 13:26:52,098 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 13:26:52,257 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 13:26:52,422 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-07 13:26:52,748 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-07 13:26:53,535 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 13:26:53,986 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-07 13:26:55,015 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 13:26:55,019 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 13:26:55,072 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 13:26:55,076 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 13:26:55,866 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@1041ebba, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@34cfdd84, org.springframework.security.web.header.HeaderWriterFilter@f9cd1e6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2fc0ad21, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e965426, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7d7c05fa, org.springframework.security.web.access.ExceptionTranslationFilter@125a8ab6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@222eda8a]
2019-09-07 13:26:57,195 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-07 13:26:57,197 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@362e6fe, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1259b2a5, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@6779af40, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7cf166db, org.springframework.test.context.transaction.TransactionalTestExecutionListener@68303aad, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@37a36194]
2019-09-07 13:26:57,335 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 13:26:57,337 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 13:26:57,338 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 13:26:57,340 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 13:26:57,524 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 13:26:57,547 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 21ms. Found 4 repository interfaces.
2019-09-07 13:26:57,659 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 13:26:57,660 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 13:26:57,661 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 13:26:57,663 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 13:26:57,714 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 13:26:57,730 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 13:26:57,843 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 13:26:57,844 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 13:26:57,853 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 13:26:57,857 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 13:26:58,045 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@58c93be3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6e669b5c, org.springframework.security.web.header.HeaderWriterFilter@5be8a92c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@79e33802, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@247877f3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@72ae1007, org.springframework.security.web.access.ExceptionTranslationFilter@5edce7da, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@44d36b56]
2019-09-07 13:26:58,770 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 13:26:58,810 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 13:26:59,005 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:26:59,006 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:26:59,017 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 10 ms
2019-09-07 13:26:59,028 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@475753dd testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@9203db8, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@64d0b8e3 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4dd28982]; rollback [true]
2019-09-07 13:26:59,119 INFO  ru.vladzag.web.user.UserRestController.getRestaurant:55 - User getRestaurant with id: 100005
2019-09-07 13:26:59,274 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@475753dd testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@9203db8, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@64d0b8e3 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:26:59,277 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:26:59,277 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:26:59,281 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-07 13:26:59,294 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@475753dd testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@49620576, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@64d0b8e3 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4dd28982]; rollback [true]
2019-09-07 13:26:59,323 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 13:26:59,393 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@475753dd testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@49620576, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@64d0b8e3 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:26:59,395 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:26:59,402 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:26:59,410 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-07 13:26:59,419 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@475753dd testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@79ef8115, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@64d0b8e3 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4dd28982]; rollback [true]
2019-09-07 13:26:59,427 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-07 13:26:59,437 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-07 13:26:59,437 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-07 13:26:59,439 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@475753dd testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@79ef8115, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = org.springframework.web.util.NestedServletException: Request processing failed; nested exception is java.lang.NullPointerException: No authorized user found, mergedContextConfiguration = [WebMergedContextConfiguration@64d0b8e3 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:26:59,451 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:26:59,453 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:26:59,471 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 15 ms
2019-09-07 13:26:59,483 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@475753dd testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@7e729046, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@64d0b8e3 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4dd28982]; rollback [true]
2019-09-07 13:26:59,506 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-07 13:26:59,509 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-07 13:26:59,510 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-07 13:26:59,511 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@475753dd testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@7e729046, testMethod = createTwice@UserRestControllerTest, testException = org.springframework.web.util.NestedServletException: Request processing failed; nested exception is java.lang.NullPointerException: No authorized user found, mergedContextConfiguration = [WebMergedContextConfiguration@64d0b8e3 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:26:59,518 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:26:59,522 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:26:59,542 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 16 ms
2019-09-07 13:26:59,550 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@475753dd testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@27f6854b, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@64d0b8e3 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4dd28982]; rollback [true]
2019-09-07 13:26:59,561 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-07 13:26:59,564 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-07 13:26:59,564 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-07 13:26:59,565 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@475753dd testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@27f6854b, testMethod = updateVote@UserRestControllerTest, testException = org.springframework.web.util.NestedServletException: Request processing failed; nested exception is java.lang.NullPointerException: No authorized user found, mergedContextConfiguration = [WebMergedContextConfiguration@64d0b8e3 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:26:59,571 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:26:59,575 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:26:59,589 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 8 ms
2019-09-07 13:26:59,596 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@475753dd testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@76d4e1af, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@64d0b8e3 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4dd28982]; rollback [true]
2019-09-07 13:26:59,611 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-07 13:26:59,613 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-07 13:26:59,614 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-07 13:26:59,617 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@475753dd testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@76d4e1af, testMethod = createVote@UserRestControllerTest, testException = org.springframework.web.util.NestedServletException: Request processing failed; nested exception is java.lang.NullPointerException: No authorized user found, mergedContextConfiguration = [WebMergedContextConfiguration@64d0b8e3 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:26:59,630 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:26:59,635 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:26:59,651 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 8 ms
2019-09-07 13:26:59,660 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@475753dd testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@537fb7bf, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@64d0b8e3 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4dd28982]; rollback [true]
2019-09-07 13:26:59,671 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-07 13:26:59,674 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-07 13:26:59,675 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-07 13:26:59,676 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@475753dd testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@537fb7bf, testMethod = getScore@UserRestControllerTest, testException = org.springframework.web.util.NestedServletException: Request processing failed; nested exception is java.lang.NullPointerException: No authorized user found, mergedContextConfiguration = [WebMergedContextConfiguration@64d0b8e3 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:26:59,706 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-07 13:26:59,707 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4b55652a, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@8c54f48, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@119f02d2, org.springframework.test.context.support.DirtiesContextTestExecutionListener@48c584c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@641001c2, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@468dbd07]
2019-09-07 13:26:59,729 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-07 13:26:59,731 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-07 13:26:59,831 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 13:26:59,862 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-07 13:26:59,863 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-07 13:26:59,870 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 13:27:00,145 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 13:27:00,437 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-07 13:27:00,439 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@7e3b101b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@62284954, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@4ca50bb9, org.springframework.test.context.support.DirtiesContextTestExecutionListener@16817bad, org.springframework.test.context.transaction.TransactionalTestExecutionListener@301c0aae, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@105e8710]
2019-09-07 13:27:00,447 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:27:00,448 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:27:00,454 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-07 13:27:00,458 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@399ac1a3 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5d18a787, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3c48bbf3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4dd28982]; rollback [true]
2019-09-07 13:27:00,470 INFO  ru.vladzag.web.admin.AdminRestController.delete:80 - Admin deleteRestaurant with id: 100002
2019-09-07 13:27:00,478 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 13:27:00,482 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@399ac1a3 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5d18a787, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3c48bbf3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:27:00,486 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:27:00,490 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:27:00,519 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 26 ms
2019-09-07 13:27:00,534 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@399ac1a3 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@381ed137, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3c48bbf3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4dd28982]; rollback [true]
2019-09-07 13:27:00,555 INFO  ru.vladzag.web.admin.AdminRestController.getAll:39 - Admin getAll
2019-09-07 13:27:00,557 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 13:27:00,564 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@399ac1a3 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@381ed137, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3c48bbf3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:27:00,567 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:27:00,568 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:27:00,589 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 20 ms
2019-09-07 13:27:00,605 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@399ac1a3 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@69a14512, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3c48bbf3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4dd28982]; rollback [true]
2019-09-07 13:27:00,610 INFO  ru.vladzag.web.admin.AdminRestController.update:88 - Admin updateRestaurant with id: 100002
2019-09-07 13:27:00,614 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 13:27:00,631 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@399ac1a3 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@69a14512, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3c48bbf3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:27:00,633 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:27:00,638 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:27:00,648 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 7 ms
2019-09-07 13:27:00,663 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@399ac1a3 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@537e52de, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3c48bbf3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4dd28982]; rollback [true]
2019-09-07 13:27:00,688 INFO  ru.vladzag.web.admin.AdminRestController.updateDish:128 - Admin updateDish with id: 100007
2019-09-07 13:27:00,694 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@399ac1a3 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@537e52de, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3c48bbf3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:27:00,697 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:27:00,698 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:27:00,704 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-07 13:27:00,721 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@399ac1a3 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5e2abb58, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3c48bbf3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4dd28982]; rollback [true]
2019-09-07 13:27:00,732 INFO  ru.vladzag.web.admin.AdminRestController.get:63 - Admin getRestaurant(id: 100005) in date: 2015-05-30
2019-09-07 13:27:00,751 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@399ac1a3 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5e2abb58, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3c48bbf3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:27:00,754 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:27:00,756 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:27:00,763 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-07 13:27:00,775 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@399ac1a3 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7789719e, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3c48bbf3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4dd28982]; rollback [true]
2019-09-07 13:27:00,791 INFO  ru.vladzag.web.admin.AdminRestController.createDish:118 - Admin createDish with id: 100010
2019-09-07 13:27:00,799 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@399ac1a3 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7789719e, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3c48bbf3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:27:00,805 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:27:00,810 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:27:00,813 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 2 ms
2019-09-07 13:27:00,822 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@399ac1a3 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7a8316fa, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3c48bbf3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4dd28982]; rollback [true]
2019-09-07 13:27:00,826 INFO  ru.vladzag.web.admin.AdminRestController.delete:80 - Admin deleteRestaurant with id: 100002
2019-09-07 13:27:00,837 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 13:27:00,845 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@399ac1a3 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7a8316fa, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3c48bbf3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:27:00,847 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:27:00,855 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:27:00,862 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-07 13:27:00,876 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@399ac1a3 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@6ed78a5e, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3c48bbf3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4dd28982]; rollback [true]
2019-09-07 13:27:00,882 INFO  ru.vladzag.web.admin.AdminRestController.getAllHistory:47 - Admin getHistory
2019-09-07 13:27:00,904 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@399ac1a3 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@6ed78a5e, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3c48bbf3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:27:00,907 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:27:00,910 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:27:00,927 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 7 ms
2019-09-07 13:27:00,938 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@399ac1a3 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@2898cd46, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3c48bbf3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4dd28982]; rollback [true]
2019-09-07 13:27:00,955 INFO  ru.vladzag.web.admin.AdminRestController.createWithLocation:103 - Admin createRestaurant with id: 100011
2019-09-07 13:27:00,960 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 13:27:00,972 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@399ac1a3 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@2898cd46, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3c48bbf3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:27:01,008 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 13:27:01,011 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 13:27:01,021 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-07 13:27:01,023 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-07 13:27:01,024 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-07 13:27:01,025 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-07 13:35:26,737 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 13:35:26,793 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@16ecee1, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3b220bcb, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@2b95e48b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4a3329b9, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3dddefd8, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@160ac7fb, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@12bfd80d, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@41925502]
2019-09-07 13:35:27,454 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-07 13:35:27,460 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 13:35:27,511 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 13:35:27,513 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 13:35:27,554 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 13:35:27,878 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 13:35:28,266 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 295ms. Found 4 repository interfaces.
2019-09-07 13:35:29,668 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-07 13:35:29,675 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-07 13:35:29,681 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-07 13:35:29,685 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-07 13:35:29,737 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 13:35:29,740 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 13:35:29,742 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 13:35:29,744 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 13:35:29,788 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 13:35:29,792 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 13:35:29,794 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 13:35:29,796 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 13:35:29,996 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 13:35:30,115 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-07 13:35:30,554 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-07 13:35:31,218 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 13:35:31,871 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-07 13:35:32,794 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 13:35:32,797 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 13:35:32,841 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 13:35:32,845 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 13:35:33,644 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@34d11c92, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4c7f2fdb, org.springframework.security.web.header.HeaderWriterFilter@5b0575d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@13f7c165, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4ed19540, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@57ac236a, org.springframework.security.web.access.ExceptionTranslationFilter@573f2e67, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3d213a2b]
2019-09-07 13:35:34,893 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 13:35:34,894 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@d8751de, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@6e21c6ed, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@75c30a4f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@360e4235, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1b0fc8b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@61c644fe, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@cbaabfb, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@48614fb3]
2019-09-07 13:35:35,004 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 13:35:35,007 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 13:35:35,008 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 13:35:35,010 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 13:35:35,238 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 13:35:35,267 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 28ms. Found 4 repository interfaces.
2019-09-07 13:35:35,378 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 13:35:35,380 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 13:35:35,382 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 13:35:35,383 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 13:35:35,452 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 13:35:35,477 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 13:35:35,591 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 13:35:35,592 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 13:35:35,603 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 13:35:35,606 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 13:35:35,784 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@41bc501b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@321302bc, org.springframework.security.web.header.HeaderWriterFilter@4924ad09, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4778c085, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1a13b5c1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@69c7eafd, org.springframework.security.web.access.ExceptionTranslationFilter@66011fbc, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5ff12345]
2019-09-07 13:35:36,498 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 13:35:36,537 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 13:35:36,694 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:35:36,695 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:35:36,706 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 11 ms
2019-09-07 13:35:36,726 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@67263db7 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4a2bc71f, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@20f94e9a testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@174e5929]; rollback [true]
2019-09-07 13:35:36,819 INFO  ru.vladzag.web.user.UserRestController.getRestaurant:55 - User getRestaurant with id: 100005
2019-09-07 13:35:36,965 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@67263db7 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4a2bc71f, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@20f94e9a testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:35:36,967 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:35:36,968 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:35:36,981 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 13 ms
2019-09-07 13:35:36,996 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@67263db7 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@17c3e33, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@20f94e9a testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@174e5929]; rollback [true]
2019-09-07 13:35:37,019 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 13:35:37,089 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@67263db7 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@17c3e33, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@20f94e9a testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:35:37,092 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:35:37,095 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:35:37,106 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 8 ms
2019-09-07 13:35:37,114 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@67263db7 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4824d077, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@20f94e9a testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@174e5929]; rollback [true]
2019-09-07 13:35:37,124 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-07 13:35:37,132 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-07 13:35:37,132 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-07 13:35:37,133 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@67263db7 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4824d077, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = org.springframework.web.util.NestedServletException: Request processing failed; nested exception is java.lang.NullPointerException: No authorized user found, mergedContextConfiguration = [WebMergedContextConfiguration@20f94e9a testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:35:37,154 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:35:37,160 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:35:37,183 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 13 ms
2019-09-07 13:35:37,190 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@67263db7 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@e10809f, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@20f94e9a testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@174e5929]; rollback [true]
2019-09-07 13:35:37,205 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-07 13:35:37,209 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-07 13:35:37,210 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-07 13:35:37,211 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@67263db7 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@e10809f, testMethod = createTwice@UserRestControllerTest, testException = org.springframework.web.util.NestedServletException: Request processing failed; nested exception is java.lang.NullPointerException: No authorized user found, mergedContextConfiguration = [WebMergedContextConfiguration@20f94e9a testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:35:37,219 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:35:37,226 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:35:37,238 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 9 ms
2019-09-07 13:35:37,253 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@67263db7 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@2298d741, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@20f94e9a testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@174e5929]; rollback [true]
2019-09-07 13:35:37,263 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-07 13:35:37,266 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-07 13:35:37,266 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-07 13:35:37,267 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@67263db7 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@2298d741, testMethod = updateVote@UserRestControllerTest, testException = org.springframework.web.util.NestedServletException: Request processing failed; nested exception is java.lang.NullPointerException: No authorized user found, mergedContextConfiguration = [WebMergedContextConfiguration@20f94e9a testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:35:37,281 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:35:37,286 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:35:37,298 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 9 ms
2019-09-07 13:35:37,315 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@67263db7 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4548bfc7, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@20f94e9a testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@174e5929]; rollback [true]
2019-09-07 13:35:37,323 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-07 13:35:37,329 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-07 13:35:37,329 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-07 13:35:37,331 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@67263db7 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4548bfc7, testMethod = createVote@UserRestControllerTest, testException = org.springframework.web.util.NestedServletException: Request processing failed; nested exception is java.lang.NullPointerException: No authorized user found, mergedContextConfiguration = [WebMergedContextConfiguration@20f94e9a testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:35:37,340 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:35:37,344 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:35:37,357 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 9 ms
2019-09-07 13:35:37,371 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@67263db7 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@672ba9cc, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@20f94e9a testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@174e5929]; rollback [true]
2019-09-07 13:35:37,380 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-07 13:35:37,382 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-07 13:35:37,383 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-07 13:35:37,384 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@67263db7 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@672ba9cc, testMethod = getScore@UserRestControllerTest, testException = org.springframework.web.util.NestedServletException: Request processing failed; nested exception is java.lang.NullPointerException: No authorized user found, mergedContextConfiguration = [WebMergedContextConfiguration@20f94e9a testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:35:37,422 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 13:35:37,430 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@15ec3c0c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@323b5264, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@335ff774, org.springframework.test.context.support.DirtiesContextTestExecutionListener@386b4f7e, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4c131823, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2453cbb7, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@68fb6c1e, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@a89dec0]
2019-09-07 13:35:37,447 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-07 13:35:37,449 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-07 13:35:37,557 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 13:35:37,613 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-07 13:35:37,614 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-07 13:35:37,616 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 13:35:37,949 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 13:35:38,263 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 13:35:38,265 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4842a683, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@65a03c19, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5f455d91, org.springframework.test.context.support.DirtiesContextTestExecutionListener@16c3e494, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4b682e71, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2f4c83f1, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@5a90ea5c, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@537e52de]
2019-09-07 13:35:38,268 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:35:38,269 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:35:38,281 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 11 ms
2019-09-07 13:35:38,288 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@4fe87cb9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@6e212f38, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4843b35f testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@174e5929]; rollback [true]
2019-09-07 13:35:38,297 INFO  ru.vladzag.web.admin.AdminRestController.delete:80 - Admin deleteRestaurant with id: 100002
2019-09-07 13:35:38,302 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 13:35:38,306 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@4fe87cb9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@6e212f38, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4843b35f testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:35:38,315 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:35:38,320 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:35:38,346 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 17 ms
2019-09-07 13:35:38,355 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@4fe87cb9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@42c3b02e, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4843b35f testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@174e5929]; rollback [true]
2019-09-07 13:35:38,370 INFO  ru.vladzag.web.admin.AdminRestController.getAll:39 - Admin getAll
2019-09-07 13:35:38,378 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 13:35:38,405 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@4fe87cb9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@42c3b02e, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4843b35f testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:35:38,412 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:35:38,414 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:35:38,439 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 24 ms
2019-09-07 13:35:38,451 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@4fe87cb9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@53741683, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4843b35f testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@174e5929]; rollback [true]
2019-09-07 13:35:38,463 INFO  ru.vladzag.web.admin.AdminRestController.update:88 - Admin updateRestaurant with id: 100002
2019-09-07 13:35:38,468 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 13:35:38,481 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@4fe87cb9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@53741683, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4843b35f testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:35:38,483 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:35:38,486 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:35:38,513 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 16 ms
2019-09-07 13:35:38,517 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@4fe87cb9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@258e5601, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4843b35f testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@174e5929]; rollback [true]
2019-09-07 13:35:38,558 INFO  ru.vladzag.web.admin.AdminRestController.updateDish:128 - Admin updateDish with id: 100007
2019-09-07 13:35:38,565 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@4fe87cb9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@258e5601, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4843b35f testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:35:38,568 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:35:38,569 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:35:38,593 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 23 ms
2019-09-07 13:35:38,603 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@4fe87cb9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@295e989, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4843b35f testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@174e5929]; rollback [true]
2019-09-07 13:35:38,609 INFO  ru.vladzag.web.admin.AdminRestController.get:63 - Admin getRestaurant(id: 100005) in date: 2015-05-30
2019-09-07 13:35:38,627 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@4fe87cb9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@295e989, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4843b35f testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:35:38,633 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:35:38,638 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:35:38,650 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 7 ms
2019-09-07 13:35:38,668 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@4fe87cb9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5d8de4bd, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4843b35f testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@174e5929]; rollback [true]
2019-09-07 13:35:38,688 INFO  ru.vladzag.web.admin.AdminRestController.createDish:118 - Admin createDish with id: 100010
2019-09-07 13:35:38,701 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@4fe87cb9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5d8de4bd, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4843b35f testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:35:38,703 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:35:38,704 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:35:38,721 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 14 ms
2019-09-07 13:35:38,735 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@4fe87cb9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7c144349, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4843b35f testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@174e5929]; rollback [true]
2019-09-07 13:35:38,744 INFO  ru.vladzag.web.admin.AdminRestController.delete:80 - Admin deleteRestaurant with id: 100002
2019-09-07 13:35:38,751 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 13:35:38,755 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@4fe87cb9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7c144349, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4843b35f testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:35:38,758 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:35:38,767 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:35:38,775 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-07 13:35:38,778 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@4fe87cb9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@109fff4a, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4843b35f testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@174e5929]; rollback [true]
2019-09-07 13:35:38,790 INFO  ru.vladzag.web.admin.AdminRestController.getAllHistory:47 - Admin getHistory
2019-09-07 13:35:38,829 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@4fe87cb9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@109fff4a, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4843b35f testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:35:38,834 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:35:38,853 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:35:38,864 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 9 ms
2019-09-07 13:35:38,872 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@4fe87cb9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@348d1a5e, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4843b35f testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@174e5929]; rollback [true]
2019-09-07 13:35:38,881 INFO  ru.vladzag.web.admin.AdminRestController.createWithLocation:103 - Admin createRestaurant with id: 100011
2019-09-07 13:35:38,883 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 13:35:38,889 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@4fe87cb9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@348d1a5e, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4843b35f testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:35:38,950 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 13:35:38,967 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 13:35:38,973 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-07 13:35:38,975 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-07 13:35:38,976 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-07 13:35:38,977 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-07 13:46:27,383 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 13:46:27,442 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5bfa8cc5, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@666b83a4, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@749c877b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@efde75f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@16ecee1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3b220bcb, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@2b95e48b, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4a3329b9]
2019-09-07 13:46:28,031 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-07 13:46:28,037 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 13:46:28,087 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 13:46:28,089 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 13:46:28,118 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 13:46:28,325 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 13:46:28,511 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 153ms. Found 4 repository interfaces.
2019-09-07 13:46:29,836 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-07 13:46:29,843 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-07 13:46:29,848 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-07 13:46:29,854 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-07 13:46:29,906 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 13:46:29,911 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 13:46:29,913 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 13:46:29,915 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 13:46:29,956 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 13:46:29,959 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 13:46:29,960 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 13:46:29,961 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 13:46:30,081 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 13:46:30,207 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-07 13:46:30,466 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-07 13:46:31,129 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 13:46:31,666 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-07 13:46:32,659 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 13:46:32,663 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 13:46:32,725 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 13:46:32,729 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 13:46:33,532 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@d70dbeb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58486deb, org.springframework.security.web.header.HeaderWriterFilter@b548f51, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1be12e05, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@52d01430, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@322eb1a, org.springframework.security.web.access.ExceptionTranslationFilter@4853f592, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@72c175f1]
2019-09-07 13:46:34,901 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 13:46:34,902 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@30f99ca1, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@edb8f0c, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@6f70015, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1d5fc340, org.springframework.test.context.transaction.TransactionalTestExecutionListener@613f48de, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@33ce081a, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@d8751de, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@6e21c6ed]
2019-09-07 13:46:35,035 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 13:46:35,038 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 13:46:35,039 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 13:46:35,041 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 13:46:35,208 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 13:46:35,236 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 26ms. Found 4 repository interfaces.
2019-09-07 13:46:35,345 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 13:46:35,346 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 13:46:35,348 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 13:46:35,349 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 13:46:35,406 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 13:46:35,430 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 13:46:35,541 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 13:46:35,542 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 13:46:35,553 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 13:46:35,556 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 13:46:35,724 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@321302bc, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2b826482, org.springframework.security.web.header.HeaderWriterFilter@3a1540be, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5ad13be4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@14a5d7ee, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@41623694, org.springframework.security.web.access.ExceptionTranslationFilter@642b2176, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@78ca8258]
2019-09-07 13:46:36,496 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 13:46:36,536 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 13:46:36,674 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:46:36,675 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:46:36,687 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 11 ms
2019-09-07 13:46:36,700 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@1c61f9bf testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@42365c82, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@46c47690 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5b6637f3]; rollback [true]
2019-09-07 13:46:36,799 INFO  ru.vladzag.web.user.UserRestController.getRestaurant:55 - User getRestaurant with id: 100005
2019-09-07 13:46:36,955 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@1c61f9bf testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@42365c82, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@46c47690 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:46:36,969 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:46:36,971 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:46:36,983 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 11 ms
2019-09-07 13:46:36,988 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@1c61f9bf testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@17c3e33, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@46c47690 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5b6637f3]; rollback [true]
2019-09-07 13:46:37,001 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 13:46:37,068 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@1c61f9bf testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@17c3e33, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@46c47690 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:46:37,079 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:46:37,081 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:46:37,085 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-07 13:46:37,095 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@1c61f9bf testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4824d077, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@46c47690 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5b6637f3]; rollback [true]
2019-09-07 13:46:37,103 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-07 13:46:37,117 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-07 13:46:37,118 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-07 13:46:37,119 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@1c61f9bf testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4824d077, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = org.springframework.web.util.NestedServletException: Request processing failed; nested exception is java.lang.NullPointerException: No authorized user found, mergedContextConfiguration = [WebMergedContextConfiguration@46c47690 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:46:37,133 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:46:37,139 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:46:37,161 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 20 ms
2019-09-07 13:46:37,167 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@1c61f9bf testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@e10809f, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@46c47690 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5b6637f3]; rollback [true]
2019-09-07 13:46:37,188 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-07 13:46:37,192 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-07 13:46:37,193 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-07 13:46:37,194 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@1c61f9bf testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@e10809f, testMethod = createTwice@UserRestControllerTest, testException = org.springframework.web.util.NestedServletException: Request processing failed; nested exception is java.lang.NullPointerException: No authorized user found, mergedContextConfiguration = [WebMergedContextConfiguration@46c47690 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:46:37,200 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:46:37,201 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:46:37,212 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 11 ms
2019-09-07 13:46:37,219 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@1c61f9bf testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@2298d741, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@46c47690 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5b6637f3]; rollback [true]
2019-09-07 13:46:37,236 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-07 13:46:37,243 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-07 13:46:37,245 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-07 13:46:37,247 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@1c61f9bf testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@2298d741, testMethod = updateVote@UserRestControllerTest, testException = org.springframework.web.util.NestedServletException: Request processing failed; nested exception is java.lang.NullPointerException: No authorized user found, mergedContextConfiguration = [WebMergedContextConfiguration@46c47690 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:46:37,268 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:46:37,274 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:46:37,288 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 11 ms
2019-09-07 13:46:37,291 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@1c61f9bf testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4548bfc7, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@46c47690 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5b6637f3]; rollback [true]
2019-09-07 13:46:37,301 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-07 13:46:37,304 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-07 13:46:37,305 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-07 13:46:37,306 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@1c61f9bf testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4548bfc7, testMethod = createVote@UserRestControllerTest, testException = org.springframework.web.util.NestedServletException: Request processing failed; nested exception is java.lang.NullPointerException: No authorized user found, mergedContextConfiguration = [WebMergedContextConfiguration@46c47690 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:46:37,315 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:46:37,316 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:46:37,327 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 8 ms
2019-09-07 13:46:37,335 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@1c61f9bf testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@672ba9cc, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@46c47690 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5b6637f3]; rollback [true]
2019-09-07 13:46:37,348 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-07 13:46:37,353 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-07 13:46:37,353 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-07 13:46:37,354 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@1c61f9bf testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@672ba9cc, testMethod = getScore@UserRestControllerTest, testException = org.springframework.web.util.NestedServletException: Request processing failed; nested exception is java.lang.NullPointerException: No authorized user found, mergedContextConfiguration = [WebMergedContextConfiguration@46c47690 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:46:37,388 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 13:46:37,389 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@15ec3c0c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@323b5264, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@335ff774, org.springframework.test.context.support.DirtiesContextTestExecutionListener@386b4f7e, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4c131823, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2453cbb7, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@68fb6c1e, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@a89dec0]
2019-09-07 13:46:37,402 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-07 13:46:37,404 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-07 13:46:37,505 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 13:46:37,536 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-07 13:46:37,537 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-07 13:46:37,549 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 13:46:37,822 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 13:46:38,079 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 13:46:38,081 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5623fd90, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4842a683, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@65a03c19, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5f455d91, org.springframework.test.context.transaction.TransactionalTestExecutionListener@16c3e494, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4b682e71, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@2f4c83f1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@5a90ea5c]
2019-09-07 13:46:38,084 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:46:38,085 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:46:38,088 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 2 ms
2019-09-07 13:46:38,091 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@1277a6a1 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@4fe87cb9, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6e212f38 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5b6637f3]; rollback [true]
2019-09-07 13:46:38,102 INFO  ru.vladzag.web.admin.AdminRestController.delete:80 - Admin deleteRestaurant with id: 100002
2019-09-07 13:46:38,107 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 13:46:38,112 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@1277a6a1 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@4fe87cb9, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6e212f38 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:46:38,124 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:46:38,125 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:46:38,138 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 10 ms
2019-09-07 13:46:38,145 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@1277a6a1 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@267a0b6a, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6e212f38 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5b6637f3]; rollback [true]
2019-09-07 13:46:38,148 INFO  ru.vladzag.web.admin.AdminRestController.getAll:39 - Admin getAll
2019-09-07 13:46:38,152 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 13:46:38,189 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@1277a6a1 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@267a0b6a, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6e212f38 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:46:38,201 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:46:38,203 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:46:38,210 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-07 13:46:38,220 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@1277a6a1 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@3df79197, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6e212f38 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5b6637f3]; rollback [true]
2019-09-07 13:46:38,228 INFO  ru.vladzag.web.admin.AdminRestController.update:88 - Admin updateRestaurant with id: 100002
2019-09-07 13:46:38,235 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 13:46:38,250 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@1277a6a1 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@3df79197, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6e212f38 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:46:38,252 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:46:38,253 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:46:38,263 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 7 ms
2019-09-07 13:46:38,269 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@1277a6a1 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@109a462e, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6e212f38 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5b6637f3]; rollback [true]
2019-09-07 13:46:38,305 INFO  ru.vladzag.web.admin.AdminRestController.updateDish:128 - Admin updateDish with id: 100007
2019-09-07 13:46:38,313 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@1277a6a1 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@109a462e, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6e212f38 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:46:38,324 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:46:38,326 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:46:38,336 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 8 ms
2019-09-07 13:46:38,352 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@1277a6a1 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@361a1e86, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6e212f38 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5b6637f3]; rollback [true]
2019-09-07 13:46:38,357 INFO  ru.vladzag.web.admin.AdminRestController.get:63 - Admin getRestaurant(id: 100005) in date: 2015-05-30
2019-09-07 13:46:38,376 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@1277a6a1 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@361a1e86, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6e212f38 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:46:38,383 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:46:38,386 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:46:38,389 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 2 ms
2019-09-07 13:46:38,394 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@1277a6a1 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7244b40e, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6e212f38 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5b6637f3]; rollback [true]
2019-09-07 13:46:38,412 INFO  ru.vladzag.web.admin.AdminRestController.createDish:118 - Admin createDish with id: 100010
2019-09-07 13:46:38,422 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@1277a6a1 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7244b40e, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6e212f38 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:46:38,429 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:46:38,431 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:46:38,435 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 2 ms
2019-09-07 13:46:38,457 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@1277a6a1 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7cc966a9, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6e212f38 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5b6637f3]; rollback [true]
2019-09-07 13:46:38,461 INFO  ru.vladzag.web.admin.AdminRestController.delete:80 - Admin deleteRestaurant with id: 100002
2019-09-07 13:46:38,465 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 13:46:38,469 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@1277a6a1 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7cc966a9, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6e212f38 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:46:38,470 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:46:38,474 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:46:38,483 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-07 13:46:38,486 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@1277a6a1 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@4781bb01, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6e212f38 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5b6637f3]; rollback [true]
2019-09-07 13:46:38,495 INFO  ru.vladzag.web.admin.AdminRestController.getAllHistory:47 - Admin getHistory
2019-09-07 13:46:38,513 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@1277a6a1 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@4781bb01, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6e212f38 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:46:38,516 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:46:38,516 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:46:38,542 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 22 ms
2019-09-07 13:46:38,558 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@1277a6a1 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@2aa85cc4, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6e212f38 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5b6637f3]; rollback [true]
2019-09-07 13:46:38,580 INFO  ru.vladzag.web.admin.AdminRestController.createWithLocation:103 - Admin createRestaurant with id: 100011
2019-09-07 13:46:38,585 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 13:46:38,592 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@1277a6a1 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@2aa85cc4, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6e212f38 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:46:38,634 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 13:46:38,641 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 13:46:38,647 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-07 13:46:38,649 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-07 13:46:38,650 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-07 13:46:38,651 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-07 13:53:49,816 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 13:53:49,848 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@614df0a4, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1fdf1c5, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@2d96543c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@73a2e526, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7d64e326, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@13f95696, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@cd1d761, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@68be8808]
2019-09-07 13:53:50,771 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-07 13:53:50,776 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 13:53:50,825 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 13:53:50,827 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 13:53:50,861 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 13:53:51,298 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 13:53:51,537 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 207ms. Found 4 repository interfaces.
2019-09-07 13:53:52,679 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-07 13:53:52,684 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-07 13:53:52,688 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-07 13:53:52,693 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-07 13:53:52,743 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 13:53:52,747 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 13:53:52,749 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 13:53:52,751 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 13:53:52,782 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 13:53:52,784 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 13:53:52,786 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 13:53:52,787 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 13:53:53,083 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 13:53:53,186 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-07 13:53:53,400 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-07 13:53:53,948 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 13:53:54,388 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-07 13:53:55,463 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 13:53:55,474 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 13:53:55,564 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 13:53:55,569 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 13:53:56,933 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@6a7fc4c1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@314c6f89, org.springframework.security.web.header.HeaderWriterFilter@8f374de, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@166d576b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7e366c6f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@70f8d217, org.springframework.security.web.access.ExceptionTranslationFilter@498f5728, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7804a783]
2019-09-07 13:53:58,487 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 13:53:58,537 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 13:53:58,804 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:53:58,805 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:53:58,819 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 13 ms
2019-09-07 13:53:58,845 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@5643052d testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@5e0b7f58, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1e9e4468 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5cdf61d]; rollback [true]
2019-09-07 13:53:59,215 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-07 13:53:59,432 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-07 13:53:59,647 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@5643052d testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@5e0b7f58, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1e9e4468 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:53:59,709 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 13:53:59,743 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-07 13:53:59,744 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-07 13:53:59,746 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-07 13:53:59,747 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-07 13:54:17,027 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 13:54:17,071 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@666b83a4, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@749c877b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@efde75f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@16ecee1, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3b220bcb, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2b95e48b, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@4a3329b9, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@3dddefd8]
2019-09-07 13:54:17,594 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-07 13:54:17,599 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 13:54:17,648 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 13:54:17,649 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 13:54:17,691 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 13:54:17,877 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 13:54:18,031 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 129ms. Found 4 repository interfaces.
2019-09-07 13:54:19,168 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-07 13:54:19,173 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-07 13:54:19,178 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-07 13:54:19,182 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-07 13:54:19,225 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 13:54:19,228 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 13:54:19,229 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 13:54:19,230 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 13:54:19,256 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 13:54:19,260 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 13:54:19,261 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 13:54:19,263 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 13:54:19,352 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 13:54:19,447 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-07 13:54:19,644 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-07 13:54:20,305 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 13:54:20,820 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-07 13:54:22,215 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 13:54:22,217 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 13:54:22,314 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 13:54:22,321 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 13:54:23,208 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@7f8f5d37, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4e933cf1, org.springframework.security.web.header.HeaderWriterFilter@71f4aeb6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@66ab088c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3fdede3a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2b4ba2d9, org.springframework.security.web.access.ExceptionTranslationFilter@52d434c1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@9fd3b61]
2019-09-07 13:54:24,511 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 13:54:24,516 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6e21c6ed, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@75c30a4f, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@360e4235, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1b0fc8b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@61c644fe, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@cbaabfb, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@48614fb3, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4eb3b690]
2019-09-07 13:54:24,655 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 13:54:24,658 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 13:54:24,659 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 13:54:24,661 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 13:54:24,846 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 13:54:24,872 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 25ms. Found 4 repository interfaces.
2019-09-07 13:54:24,988 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 13:54:24,990 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 13:54:24,991 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 13:54:24,993 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 13:54:25,047 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 13:54:25,075 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 13:54:25,176 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 13:54:25,177 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 13:54:25,187 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 13:54:25,190 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 13:54:25,356 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@60ae950f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@89dd102, org.springframework.security.web.header.HeaderWriterFilter@7e9d171c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2e93f91d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4778c085, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@46d83ec4, org.springframework.security.web.access.ExceptionTranslationFilter@3985175e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4628f386]
2019-09-07 13:54:25,996 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 13:54:26,041 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 13:54:26,215 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:54:26,216 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:54:26,230 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 13 ms
2019-09-07 13:54:26,243 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@e9c5db9 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@393aac93, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@71dac63f testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5dc218e2]; rollback [true]
2019-09-07 13:54:26,496 INFO  ru.vladzag.web.user.UserRestController.getRestaurant:55 - User getRestaurant with id: 100005
2019-09-07 13:54:26,656 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@e9c5db9 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@393aac93, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@71dac63f testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:54:26,659 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:54:26,664 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:54:26,675 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 9 ms
2019-09-07 13:54:26,682 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@e9c5db9 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@57573880, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@71dac63f testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5dc218e2]; rollback [true]
2019-09-07 13:54:26,696 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 13:54:26,774 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@e9c5db9 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@57573880, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@71dac63f testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:54:26,776 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:54:26,780 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:54:26,786 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-07 13:54:26,794 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@e9c5db9 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@5852605c, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@71dac63f testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5dc218e2]; rollback [true]
2019-09-07 13:54:26,814 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-07 13:54:26,821 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@e9c5db9 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@5852605c, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@71dac63f testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:54:26,823 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:54:26,827 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:54:26,833 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-07 13:54:26,840 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@e9c5db9 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4ec78008, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@71dac63f testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5dc218e2]; rollback [true]
2019-09-07 13:54:26,863 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-07 13:54:26,886 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100003
2019-09-07 13:54:26,902 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@e9c5db9 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4ec78008, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@71dac63f testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:54:26,908 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:54:26,910 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:54:26,918 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-07 13:54:26,928 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@e9c5db9 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@3a2b1f24, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@71dac63f testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5dc218e2]; rollback [true]
2019-09-07 13:54:26,948 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-07 13:54:26,963 INFO  ru.vladzag.web.user.UserRestController.updateVote:67 - User updateVote(id: 100010) for restaurant with id: 100003
2019-09-07 13:54:26,966 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@e9c5db9 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@3a2b1f24, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@71dac63f testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:54:26,970 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:54:26,973 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:54:26,987 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 8 ms
2019-09-07 13:54:26,995 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@e9c5db9 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@3533b614, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@71dac63f testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5dc218e2]; rollback [true]
2019-09-07 13:54:27,010 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-07 13:54:27,019 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@e9c5db9 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@3533b614, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@71dac63f testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:54:27,021 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:54:27,022 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:54:27,031 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-07 13:54:27,035 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@e9c5db9 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@26fee641, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@71dac63f testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5dc218e2]; rollback [true]
2019-09-07 13:54:27,059 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-07 13:54:27,076 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-07 13:54:27,103 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@e9c5db9 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@26fee641, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@71dac63f testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:54:27,125 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 13:54:27,126 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5f65a6d7, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@67726dd1, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@45c270f9, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4b7704ec, org.springframework.test.context.transaction.TransactionalTestExecutionListener@39d6504b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4dbeae45, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@1bad5ab3, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@688e6d4e]
2019-09-07 13:54:27,137 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-07 13:54:27,138 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-07 13:54:27,208 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 13:54:27,237 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-07 13:54:27,241 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-07 13:54:27,250 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 13:54:27,483 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 13:54:27,683 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 13:54:27,685 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6b5fdbd0, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@c32908c, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@588b02a0, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2100b770, org.springframework.test.context.transaction.TransactionalTestExecutionListener@349469db, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2c3a2935, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@2ca4b010, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@83b39c3]
2019-09-07 13:54:27,687 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:54:27,688 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:54:27,693 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-07 13:54:27,702 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6bd5aa8b testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@3af17313, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1737acc0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5dc218e2]; rollback [true]
2019-09-07 13:54:27,714 INFO  ru.vladzag.web.admin.AdminRestController.delete:80 - Admin deleteRestaurant with id: 100002
2019-09-07 13:54:27,727 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 13:54:27,735 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6bd5aa8b testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@3af17313, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1737acc0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:54:27,742 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:54:27,744 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:54:27,768 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 13 ms
2019-09-07 13:54:27,779 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6bd5aa8b testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@12581426, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1737acc0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5dc218e2]; rollback [true]
2019-09-07 13:54:27,791 INFO  ru.vladzag.web.admin.AdminRestController.getAll:39 - Admin getAll
2019-09-07 13:54:27,793 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 13:54:27,819 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6bd5aa8b testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@12581426, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1737acc0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:54:27,827 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:54:27,836 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:54:27,869 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 16 ms
2019-09-07 13:54:27,873 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6bd5aa8b testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@597f2d3f, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1737acc0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5dc218e2]; rollback [true]
2019-09-07 13:54:27,882 INFO  ru.vladzag.web.admin.AdminRestController.update:88 - Admin updateRestaurant with id: 100002
2019-09-07 13:54:27,893 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 13:54:27,909 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6bd5aa8b testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@597f2d3f, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1737acc0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:54:27,912 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:54:27,913 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:54:27,924 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 9 ms
2019-09-07 13:54:27,928 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6bd5aa8b testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@296ddfc7, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1737acc0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5dc218e2]; rollback [true]
2019-09-07 13:54:27,962 INFO  ru.vladzag.web.admin.AdminRestController.updateDish:128 - Admin updateDish with id: 100007
2019-09-07 13:54:27,969 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6bd5aa8b testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@296ddfc7, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1737acc0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:54:27,971 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:54:27,971 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:54:27,981 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 8 ms
2019-09-07 13:54:27,985 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6bd5aa8b testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@718198db, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1737acc0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5dc218e2]; rollback [true]
2019-09-07 13:54:28,001 INFO  ru.vladzag.web.admin.AdminRestController.get:63 - Admin getRestaurant(id: 100005) in date: 2015-05-30
2019-09-07 13:54:28,025 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6bd5aa8b testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@718198db, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1737acc0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:54:28,030 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:54:28,032 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:54:28,038 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-07 13:54:28,052 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6bd5aa8b testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@75452b01, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1737acc0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5dc218e2]; rollback [true]
2019-09-07 13:54:28,062 INFO  ru.vladzag.web.admin.AdminRestController.createDish:118 - Admin createDish with id: 100010
2019-09-07 13:54:28,071 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6bd5aa8b testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@75452b01, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1737acc0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:54:28,073 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:54:28,075 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:54:28,084 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-07 13:54:28,089 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6bd5aa8b testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7d96618, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1737acc0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5dc218e2]; rollback [true]
2019-09-07 13:54:28,097 INFO  ru.vladzag.web.admin.AdminRestController.delete:80 - Admin deleteRestaurant with id: 100002
2019-09-07 13:54:28,112 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 13:54:28,116 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6bd5aa8b testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7d96618, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1737acc0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:54:28,121 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:54:28,125 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:54:28,133 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-07 13:54:28,145 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6bd5aa8b testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@498102a4, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1737acc0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5dc218e2]; rollback [true]
2019-09-07 13:54:28,150 INFO  ru.vladzag.web.admin.AdminRestController.getAllHistory:47 - Admin getHistory
2019-09-07 13:54:28,163 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6bd5aa8b testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@498102a4, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1737acc0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:54:28,166 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 13:54:28,167 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 13:54:28,180 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 11 ms
2019-09-07 13:54:28,185 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6bd5aa8b testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@1da2219c, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1737acc0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5dc218e2]; rollback [true]
2019-09-07 13:54:28,200 INFO  ru.vladzag.web.admin.AdminRestController.createWithLocation:103 - Admin createRestaurant with id: 100011
2019-09-07 13:54:28,205 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 13:54:28,213 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6bd5aa8b testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@1da2219c, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1737acc0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 13:54:28,232 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 13:54:28,251 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 13:54:28,261 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-07 13:54:28,263 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-07 13:54:28,265 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-07 13:54:28,266 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-07 13:55:54,038 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-07 13:55:54,497 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-07 13:55:54,505 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 13:55:54,570 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 13:55:54,572 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 13:55:54,606 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 13:55:54,853 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 13:55:55,054 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 174ms. Found 4 repository interfaces.
2019-09-07 13:55:57,068 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-07 13:55:57,074 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-07 13:55:57,079 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-07 13:55:57,084 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-07 13:55:57,149 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-07 13:55:57,153 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 13:55:57,154 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 13:55:57,155 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-07 13:55:57,207 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-07 13:55:57,210 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 13:55:57,211 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 13:55:57,211 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-07 13:55:57,419 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 13:55:57,601 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-07 13:55:57,940 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-07 13:55:58,750 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 13:55:59,574 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-07 13:56:01,292 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 13:56:01,297 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 13:56:01,420 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 13:56:01,423 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 13:56:02,754 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@d33646b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4cc8fbc, org.springframework.security.web.header.HeaderWriterFilter@6501f7c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@329f3a32, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4295f614, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@68220426, org.springframework.security.web.access.ExceptionTranslationFilter@4745893e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@421634eb]
2019-09-07 13:56:03,853 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 9810 ms
2019-09-07 13:56:03,904 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-07 13:56:07,057 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 13:56:07,422 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 13:56:07,694 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 3789 ms
2019-09-07 14:02:59,498 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100005
2019-09-07 14:03:29,651 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-07 14:26:53,477 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-07 14:26:53,983 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-07 14:26:53,992 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 14:26:54,062 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 14:26:54,067 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 14:26:54,104 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 14:26:54,369 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 14:26:54,622 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 219ms. Found 4 repository interfaces.
2019-09-07 14:26:56,493 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-07 14:26:56,499 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-07 14:26:56,504 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-07 14:26:56,510 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-07 14:26:56,578 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-07 14:26:56,583 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 14:26:56,585 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 14:26:56,587 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-07 14:26:56,641 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-07 14:26:56,645 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 14:26:56,647 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 14:26:56,648 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-07 14:26:56,799 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 14:26:57,009 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-07 14:26:57,434 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-07 14:26:58,306 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 14:26:59,018 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-07 14:27:00,696 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 14:27:00,701 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 14:27:00,784 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 14:27:00,789 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 14:27:02,004 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@68841960, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@fc00501, org.springframework.security.web.header.HeaderWriterFilter@49da6127, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7918c1f2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@671189b9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@52d1806f, org.springframework.security.web.access.ExceptionTranslationFilter@3cde51e4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@364a4449]
2019-09-07 14:27:02,924 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 9440 ms
2019-09-07 14:27:02,975 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-07 14:27:04,259 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 14:27:04,319 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 14:27:04,401 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1425 ms
2019-09-07 14:29:11,298 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100005
2019-09-07 14:29:48,255 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-07 14:30:27,332 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-07 14:40:24,160 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 14:40:24,224 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@354fc8f0, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@41813449, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@4678a2eb, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5b43fbf6, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1080b026, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@58ebfd03, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@5b07730f, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@1fdfafd2]
2019-09-07 14:40:24,755 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-07 14:40:24,762 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 14:40:24,804 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 14:40:24,805 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 14:40:24,831 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 14:40:25,020 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 14:40:25,194 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 148ms. Found 4 repository interfaces.
2019-09-07 14:40:26,392 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-07 14:40:26,397 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-07 14:40:26,402 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-07 14:40:26,408 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-07 14:40:26,453 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 14:40:26,457 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 14:40:26,459 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 14:40:26,460 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 14:40:26,494 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 14:40:26,496 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 14:40:26,498 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 14:40:26,500 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 14:40:26,612 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 14:40:26,734 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-07 14:40:26,979 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-07 14:40:27,589 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 14:40:28,045 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-07 14:40:29,024 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 14:40:29,028 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 14:40:29,079 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 14:40:29,083 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 14:40:29,866 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@d1d85d0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3ef396c9, org.springframework.security.web.header.HeaderWriterFilter@3023f157, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4b7c0f39, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@58e4aa67, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@43312512, org.springframework.security.web.access.ExceptionTranslationFilter@1a712f12, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5d373794]
2019-09-07 14:40:31,066 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 14:40:31,068 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@dc24732, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@44a1ae4e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@377d55, org.springframework.test.context.support.DirtiesContextTestExecutionListener@193c810, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1ef7e4c7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@57edfa89, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@6c0bf8f4, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@73476e2d]
2019-09-07 14:40:31,177 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 14:40:31,180 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 14:40:31,182 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 14:40:31,183 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 14:40:31,348 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 14:40:31,375 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 26ms. Found 4 repository interfaces.
2019-09-07 14:40:31,477 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 14:40:31,479 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 14:40:31,480 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 14:40:31,482 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 14:40:31,536 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 14:40:31,548 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 14:40:31,642 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 14:40:31,643 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 14:40:31,654 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 14:40:31,658 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 14:40:31,798 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@bbf361a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@505a48a2, org.springframework.security.web.header.HeaderWriterFilter@62b2bc2e, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3c83e9ca, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2226fd2b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3420547, org.springframework.security.web.access.ExceptionTranslationFilter@301c622d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1e387974]
2019-09-07 14:40:32,464 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 14:40:32,510 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 14:40:32,683 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 14:40:32,684 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 14:40:32,695 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 10 ms
2019-09-07 14:40:32,710 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@4d0b8b8b testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@6f18445b, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@69bdcfbc testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7c070e78]; rollback [true]
2019-09-07 14:40:32,957 INFO  ru.vladzag.web.user.UserRestController.getRestaurant:55 - User getRestaurant with id: 100005
2019-09-07 14:40:33,099 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@4d0b8b8b testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@6f18445b, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@69bdcfbc testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 14:40:33,103 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 14:40:33,105 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 14:40:33,111 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-07 14:40:33,119 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@4d0b8b8b testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@557abb68, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@69bdcfbc testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7c070e78]; rollback [true]
2019-09-07 14:40:33,141 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 14:40:33,192 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@4d0b8b8b testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@557abb68, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@69bdcfbc testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 14:40:33,199 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 14:40:33,201 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 14:40:33,208 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-07 14:40:33,213 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@4d0b8b8b testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@1aa7d66e, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@69bdcfbc testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7c070e78]; rollback [true]
2019-09-07 14:40:33,229 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-07 14:40:33,238 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@4d0b8b8b testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@1aa7d66e, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@69bdcfbc testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 14:40:33,241 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 14:40:33,244 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 14:40:33,251 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-07 14:40:33,259 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@4d0b8b8b testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4c541b00, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@69bdcfbc testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7c070e78]; rollback [true]
2019-09-07 14:40:33,282 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-07 14:40:33,304 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100003
2019-09-07 14:40:33,316 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@4d0b8b8b testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4c541b00, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@69bdcfbc testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 14:40:33,324 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 14:40:33,325 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 14:40:33,330 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-07 14:40:33,340 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@4d0b8b8b testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@7701b695, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@69bdcfbc testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7c070e78]; rollback [true]
2019-09-07 14:40:33,352 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-07 14:40:33,363 INFO  ru.vladzag.web.user.UserRestController.updateVote:67 - User updateVote(id: 100010) for restaurant with id: 100003
2019-09-07 14:40:33,367 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@4d0b8b8b testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@7701b695, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@69bdcfbc testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 14:40:33,369 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 14:40:33,373 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 14:40:33,377 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-07 14:40:33,388 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@4d0b8b8b testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@5545137d, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@69bdcfbc testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7c070e78]; rollback [true]
2019-09-07 14:40:33,404 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-07 14:40:33,418 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@4d0b8b8b testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@5545137d, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@69bdcfbc testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 14:40:33,420 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 14:40:33,421 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 14:40:33,427 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-07 14:40:33,433 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@4d0b8b8b testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@43851574, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@69bdcfbc testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7c070e78]; rollback [true]
2019-09-07 14:40:33,450 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-07 14:40:33,459 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-07 14:40:33,500 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@4d0b8b8b testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@43851574, testMethod = getScore@UserRestControllerTest, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <[RestaurantTo{id=100003, name=R2, votes=0},
    RestaurantTo{id=100004, name=R3, votes=0},
    RestaurantTo{id=100005, name=RWM, votes=0},
    RestaurantTo{id=100002, name=R1, votes=1}]>
to be equal to:
 <[RestaurantTo{id=100002, name=R1, votes=1},
    RestaurantTo{id=100003, name=R2, votes=0},
    RestaurantTo{id=100004, name=R3, votes=0},
    RestaurantTo{id=100005, name=RWM, votes=0}]>
when comparing elements using field/property by field/property comparator on all fields/properties except ["votes", "dishes"]
Comparators used:
- for elements fields (by type): {Double -> DoubleComparator[precision=1.0E-15], Float -> FloatComparator[precision=1.0E-6]}
- for elements (by type): {Double -> DoubleComparator[precision=1.0E-15], Float -> FloatComparator[precision=1.0E-6]}
but was not., mergedContextConfiguration = [WebMergedContextConfiguration@69bdcfbc testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 14:40:33,527 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 14:40:33,529 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2ff4d61b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@dfe2875, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@402fcf14, org.springframework.test.context.support.DirtiesContextTestExecutionListener@517d68b8, org.springframework.test.context.transaction.TransactionalTestExecutionListener@58b03882, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@24710e61, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@1a983294, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@209ab1d7]
2019-09-07 14:40:33,544 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-07 14:40:33,545 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-07 14:40:33,622 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 14:40:33,658 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-07 14:40:33,659 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-07 14:40:33,661 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 14:40:33,846 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 14:40:34,035 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 14:40:34,036 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@42014a, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5e78dd7f, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@cf315f1, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7d440378, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6d1c15cb, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7597ae32, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@615f61ec, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@3c5de17c]
2019-09-07 14:40:34,041 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 14:40:34,042 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 14:40:34,044 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 2 ms
2019-09-07 14:40:34,049 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@63069995 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@3003d288, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@110b6c78 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7c070e78]; rollback [true]
2019-09-07 14:40:34,057 INFO  ru.vladzag.web.admin.AdminRestController.delete:80 - Admin deleteRestaurant with id: 100002
2019-09-07 14:40:34,064 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 14:40:34,067 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@63069995 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@3003d288, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@110b6c78 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 14:40:34,070 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 14:40:34,075 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 14:40:34,078 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-07 14:40:34,084 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@63069995 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5927473a, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@110b6c78 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7c070e78]; rollback [true]
2019-09-07 14:40:34,095 INFO  ru.vladzag.web.admin.AdminRestController.getAll:39 - Admin getAll
2019-09-07 14:40:34,096 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 14:40:34,102 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@63069995 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5927473a, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@110b6c78 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 14:40:34,111 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 14:40:34,115 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 14:40:34,118 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 2 ms
2019-09-07 14:40:34,124 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@63069995 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@33c5cc0, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@110b6c78 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7c070e78]; rollback [true]
2019-09-07 14:40:34,132 INFO  ru.vladzag.web.admin.AdminRestController.update:88 - Admin updateRestaurant with id: 100002
2019-09-07 14:40:34,139 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 14:40:34,148 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@63069995 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@33c5cc0, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@110b6c78 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 14:40:34,151 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 14:40:34,154 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 14:40:34,158 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 2 ms
2019-09-07 14:40:34,166 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@63069995 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@168ffb0, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@110b6c78 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7c070e78]; rollback [true]
2019-09-07 14:40:34,191 INFO  ru.vladzag.web.admin.AdminRestController.updateDish:128 - Admin updateDish with id: 100007
2019-09-07 14:40:34,198 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@63069995 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@168ffb0, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@110b6c78 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 14:40:34,200 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 14:40:34,202 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 14:40:34,210 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-07 14:40:34,218 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@63069995 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@53115ee0, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@110b6c78 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7c070e78]; rollback [true]
2019-09-07 14:40:34,226 INFO  ru.vladzag.web.admin.AdminRestController.get:63 - Admin getRestaurant(id: 100005) in date: 2015-05-30
2019-09-07 14:40:34,240 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@63069995 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@53115ee0, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@110b6c78 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 14:40:34,242 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 14:40:34,246 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 14:40:34,251 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-07 14:40:34,254 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@63069995 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@327af731, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@110b6c78 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7c070e78]; rollback [true]
2019-09-07 14:40:34,266 INFO  ru.vladzag.web.admin.AdminRestController.createDish:118 - Admin createDish with id: 100010
2019-09-07 14:40:34,274 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@63069995 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@327af731, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@110b6c78 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 14:40:34,276 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 14:40:34,277 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 14:40:34,282 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 2 ms
2019-09-07 14:40:34,285 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@63069995 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@46977829, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@110b6c78 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7c070e78]; rollback [true]
2019-09-07 14:40:34,294 INFO  ru.vladzag.web.admin.AdminRestController.delete:80 - Admin deleteRestaurant with id: 100002
2019-09-07 14:40:34,299 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 14:40:34,303 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@63069995 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@46977829, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@110b6c78 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 14:40:34,305 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 14:40:34,306 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 14:40:34,312 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-07 14:40:34,319 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@63069995 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@55bf08a5, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@110b6c78 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7c070e78]; rollback [true]
2019-09-07 14:40:34,324 INFO  ru.vladzag.web.admin.AdminRestController.getAllHistory:47 - Admin getHistory
2019-09-07 14:40:34,340 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@63069995 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@55bf08a5, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@110b6c78 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 14:40:34,342 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 14:40:34,342 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 14:40:34,350 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 7 ms
2019-09-07 14:40:34,359 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@63069995 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@475454ae, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@110b6c78 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7c070e78]; rollback [true]
2019-09-07 14:40:34,365 INFO  ru.vladzag.web.admin.AdminRestController.createWithLocation:103 - Admin createRestaurant with id: 100011
2019-09-07 14:40:34,367 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-07 14:40:34,376 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@63069995 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@475454ae, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@110b6c78 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 14:40:34,392 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 14:40:34,400 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 14:40:34,411 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-07 14:40:34,413 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-07 14:40:34,414 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-07 14:40:34,416 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-07 14:41:56,692 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-07 14:41:57,148 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-07 14:41:57,157 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 14:41:57,229 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 14:41:57,231 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 14:41:57,269 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 14:41:57,548 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 14:41:57,777 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 195ms. Found 4 repository interfaces.
2019-09-07 14:41:59,534 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-07 14:41:59,540 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-07 14:41:59,545 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-07 14:41:59,550 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-07 14:41:59,617 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-07 14:41:59,621 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 14:41:59,622 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 14:41:59,623 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-07 14:41:59,671 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-07 14:41:59,674 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 14:41:59,676 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 14:41:59,678 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-07 14:41:59,831 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 14:42:00,023 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-07 14:42:00,357 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-07 14:42:01,168 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 14:42:01,893 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-07 14:42:03,565 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 14:42:03,570 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 14:42:03,635 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 14:42:03,638 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 14:42:04,775 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@73183826, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4f4de9e5, org.springframework.security.web.header.HeaderWriterFilter@6d3b6b87, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1018486b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@d2b25cd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@44b728d9, org.springframework.security.web.access.ExceptionTranslationFilter@3b833e79, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@71461f2]
2019-09-07 14:42:05,940 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 9243 ms
2019-09-07 14:42:06,015 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-07 14:42:08,551 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 14:42:08,638 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 14:42:08,809 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 2792 ms
2019-09-07 14:42:37,969 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100005
2019-09-07 14:42:40,913 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-07 14:42:48,433 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-07 14:58:13,000 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-07 14:58:13,499 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-07 14:58:13,508 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 14:58:13,574 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 14:58:13,576 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 14:58:13,614 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 14:58:13,869 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 14:58:14,107 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 201ms. Found 4 repository interfaces.
2019-09-07 14:58:16,046 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-07 14:58:16,052 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-07 14:58:16,056 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-07 14:58:16,061 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-07 14:58:16,128 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-07 14:58:16,132 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 14:58:16,133 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 14:58:16,134 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-07 14:58:16,195 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-07 14:58:16,198 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 14:58:16,200 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 14:58:16,202 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-07 14:58:16,353 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 14:58:16,586 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-07 14:58:17,001 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-07 14:58:17,811 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 14:58:18,614 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-07 14:58:20,239 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 14:58:20,245 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 14:58:20,311 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 14:58:20,315 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 14:58:21,438 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@40e8f5e1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@e1e569e, org.springframework.security.web.header.HeaderWriterFilter@54443bc8, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1f845ad9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39a7ef21, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@77442c42, org.springframework.security.web.access.ExceptionTranslationFilter@3cd0146d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@32dc4ea6]
2019-09-07 14:58:22,336 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 9328 ms
2019-09-07 14:58:22,388 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-07 14:58:23,700 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 14:58:23,746 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 14:58:23,839 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1450 ms
2019-09-07 15:28:46,505 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:28:56,076 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:30:53,343 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100005
2019-09-07 15:31:02,753 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:31:03,614 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:31:09,785 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:33:06,100 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:33:06,831 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:33:07,406 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:33:07,838 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:33:08,197 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:33:08,541 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:33:08,855 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:33:09,172 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:33:09,793 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:34:39,630 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:34:40,259 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:34:40,778 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:34:41,254 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:34:41,480 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:35:04,003 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:35:04,741 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:35:05,248 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:35:05,672 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:35:10,235 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:35:30,483 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100005
2019-09-07 15:35:37,930 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:35:52,868 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:35:53,376 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:35:53,712 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:36:29,543 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100005
2019-09-07 15:36:34,010 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:38:56,402 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-07 15:38:56,901 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-07 15:38:56,909 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 15:38:56,977 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 15:38:56,979 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 15:38:57,024 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 15:38:57,319 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 15:38:57,569 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 214ms. Found 4 repository interfaces.
2019-09-07 15:38:59,387 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-07 15:38:59,392 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-07 15:38:59,396 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-07 15:38:59,401 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-07 15:38:59,468 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-07 15:38:59,471 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 15:38:59,472 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 15:38:59,473 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-07 15:38:59,522 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-07 15:38:59,525 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 15:38:59,527 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 15:38:59,529 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-07 15:38:59,723 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 15:38:59,914 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-07 15:39:00,287 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-07 15:39:01,118 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 15:39:01,833 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-07 15:39:03,508 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 15:39:03,513 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 15:39:03,612 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 15:39:03,620 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 15:39:04,719 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@33b76b5b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@75943afe, org.springframework.security.web.header.HeaderWriterFilter@36805dde, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1fdfff94, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@29b7a3d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6bfb6ac9, org.springframework.security.web.access.ExceptionTranslationFilter@17412d4c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6c6d5c3e]
2019-09-07 15:39:05,756 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 9347 ms
2019-09-07 15:39:05,871 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-07 15:39:08,550 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 15:39:08,604 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 15:39:08,780 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 2908 ms
2019-09-07 15:39:23,847 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:39:29,448 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100005
2019-09-07 15:39:36,019 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:39:36,546 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:43:23,168 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:43:27,112 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:44:40,561 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:47:29,737 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-07 15:47:30,222 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-07 15:47:30,230 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 15:47:30,300 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 15:47:30,302 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 15:47:30,343 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 15:47:30,618 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 15:47:30,858 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 206ms. Found 4 repository interfaces.
2019-09-07 15:47:32,744 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-07 15:47:32,750 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-07 15:47:32,754 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-07 15:47:32,760 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-07 15:47:32,821 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-07 15:47:32,824 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 15:47:32,825 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 15:47:32,827 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-07 15:47:32,872 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-07 15:47:32,875 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 15:47:32,876 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 15:47:32,877 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-07 15:47:33,075 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 15:47:33,268 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-07 15:47:33,590 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-07 15:47:34,382 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 15:47:35,097 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-07 15:47:36,786 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 15:47:36,791 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 15:47:36,860 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 15:47:36,863 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 15:47:38,042 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@53f6b30a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7a9165a8, org.springframework.security.web.header.HeaderWriterFilter@6fe59231, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3ab289ab, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3c4dd7c4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@173b2f71, org.springframework.security.web.access.ExceptionTranslationFilter@6718414c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@619bb05f]
2019-09-07 15:47:38,996 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 9253 ms
2019-09-07 15:47:39,058 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-07 15:47:40,832 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 15:47:40,883 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 15:47:40,961 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1903 ms
2019-09-07 15:48:48,251 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:48:52,477 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100005
2019-09-07 15:48:56,639 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:49:00,231 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:51:35,723 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:51:47,780 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:51:50,072 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:53:18,669 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-07 15:53:19,211 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-07 15:53:19,220 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 15:53:19,319 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 15:53:19,321 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 15:53:19,356 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 15:53:19,634 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 15:53:19,889 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 212ms. Found 4 repository interfaces.
2019-09-07 15:53:23,377 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-07 15:53:23,386 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-07 15:53:23,393 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-07 15:53:23,400 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-07 15:53:23,527 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-07 15:53:23,537 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 15:53:23,538 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 15:53:23,539 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-07 15:53:23,632 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-07 15:53:23,637 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 15:53:23,639 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 15:53:23,640 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-07 15:53:23,839 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 15:53:24,151 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-07 15:53:24,647 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-07 15:53:25,689 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 15:53:26,509 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-07 15:53:28,239 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 15:53:28,244 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 15:53:28,309 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 15:53:28,312 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 15:53:29,583 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@39b90e2a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3c936764, org.springframework.security.web.header.HeaderWriterFilter@2a1670f0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@12a098f9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@42c25001, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65d84da5, org.springframework.security.web.access.ExceptionTranslationFilter@69bfbc06, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5bd1b9bd]
2019-09-07 15:53:30,691 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 12011 ms
2019-09-07 15:53:30,903 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-07 15:53:32,293 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 15:53:32,345 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 15:53:32,442 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1538 ms
2019-09-07 15:53:33,998 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:53:39,293 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:53:41,602 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:53:45,152 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:53:48,260 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:53:50,906 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:53:53,324 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:54:47,156 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-07 15:54:48,055 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-07 15:54:48,066 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 15:54:48,149 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 15:54:48,151 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 15:54:48,215 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 15:54:48,516 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 15:54:48,786 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 230ms. Found 4 repository interfaces.
2019-09-07 15:54:51,520 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-07 15:54:51,525 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-07 15:54:51,529 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-07 15:54:51,534 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-07 15:54:51,595 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-07 15:54:51,600 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 15:54:51,601 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 15:54:51,602 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-07 15:54:51,751 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-07 15:54:51,755 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 15:54:51,760 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 15:54:51,762 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-07 15:54:52,182 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 15:54:52,465 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-07 15:54:52,999 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-07 15:54:54,275 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 15:54:55,133 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-07 15:54:56,818 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 15:54:56,823 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 15:54:56,918 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 15:54:56,923 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 15:54:58,276 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@3aa2c137, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f587296, org.springframework.security.web.header.HeaderWriterFilter@20caf3ec, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@48481406, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@71b271b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@71f226cd, org.springframework.security.web.access.ExceptionTranslationFilter@6c126a82, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3bb9d33b]
2019-09-07 15:54:59,255 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 11994 ms
2019-09-07 15:54:59,320 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-07 15:55:00,803 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 15:55:00,866 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 15:55:00,991 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1671 ms
2019-09-07 15:55:07,334 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:55:10,777 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100005
2019-09-07 15:55:14,286 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:55:44,244 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-07 15:55:44,725 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-07 15:55:44,733 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 15:55:44,798 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 15:55:44,800 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 15:55:44,835 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 15:55:45,143 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 15:55:45,406 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 226ms. Found 4 repository interfaces.
2019-09-07 15:55:47,489 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-07 15:55:47,495 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-07 15:55:47,499 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-07 15:55:47,504 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-07 15:55:47,563 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-07 15:55:47,566 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 15:55:47,567 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 15:55:47,569 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-07 15:55:47,619 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-07 15:55:47,622 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 15:55:47,624 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 15:55:47,626 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-07 15:55:47,884 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 15:55:48,132 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-07 15:55:48,567 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-07 15:55:49,413 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 15:55:50,211 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-07 15:55:51,692 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 15:55:51,696 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 15:55:51,766 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 15:55:51,769 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 15:55:52,826 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@696aa21a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@69e93478, org.springframework.security.web.header.HeaderWriterFilter@415eae0a, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6f56a166, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6f4a3fd2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b2dcb26, org.springframework.security.web.access.ExceptionTranslationFilter@6280b919, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6279cfa6]
2019-09-07 15:55:53,592 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 9340 ms
2019-09-07 15:55:53,635 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-07 15:55:54,775 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 15:55:54,839 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 15:55:54,968 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1332 ms
2019-09-07 15:56:26,046 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 15:56:29,169 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100005
2019-09-07 15:56:33,921 INFO  ru.vladzag.web.user.UserRestController.getMyVotes:49 - User getHistory
2019-09-07 17:38:45,166 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-07 17:38:45,680 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-07 17:38:45,689 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 17:38:45,759 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 17:38:45,760 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 17:38:45,801 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 17:38:46,141 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 17:38:46,420 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 244ms. Found 4 repository interfaces.
2019-09-07 17:38:48,464 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-07 17:38:48,471 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-07 17:38:48,476 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-07 17:38:48,481 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-07 17:38:48,545 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-07 17:38:48,549 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 17:38:48,550 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 17:38:48,551 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-07 17:38:48,600 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-07 17:38:48,603 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 17:38:48,605 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 17:38:48,606 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-07 17:38:48,856 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 17:38:49,042 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-07 17:38:49,371 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-07 17:38:50,199 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 17:38:51,045 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-07 17:38:52,589 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 17:38:52,594 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 17:38:52,659 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 17:38:52,662 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 17:38:53,872 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@13bb424d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2af6bfed, org.springframework.security.web.header.HeaderWriterFilter@382e3b83, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6c6138e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53cd0213, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@eeaae12, org.springframework.security.web.access.ExceptionTranslationFilter@4b227f38, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7c8fb12f]
2019-09-07 17:38:55,101 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 9928 ms
2019-09-07 17:38:55,160 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-07 17:38:57,118 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 17:38:57,171 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 17:38:57,273 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 2112 ms
2019-09-07 17:39:24,852 INFO  ru.vladzag.web.admin.AdminRestController.getAll:39 - Admin getAll
2019-09-07 17:39:24,902 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 17:41:05,769 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 17:41:05,806 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@55b5f5d2, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5bfa8cc5, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@666b83a4, org.springframework.test.context.support.DirtiesContextTestExecutionListener@749c877b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@efde75f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@16ecee1, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@3b220bcb, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@2b95e48b]
2019-09-07 17:41:06,189 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-07 17:41:06,193 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 17:41:06,234 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 17:41:06,235 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 17:41:06,261 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 17:41:06,446 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 17:41:06,614 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 144ms. Found 4 repository interfaces.
2019-09-07 17:41:07,933 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-07 17:41:07,939 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-07 17:41:07,946 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-07 17:41:07,951 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-07 17:41:08,015 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 17:41:08,018 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 17:41:08,020 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 17:41:08,021 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 17:41:08,051 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 17:41:08,054 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 17:41:08,056 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 17:41:08,057 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 17:41:08,203 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 17:41:08,358 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-07 17:41:08,629 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-07 17:41:09,281 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 17:41:09,821 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-07 17:41:11,004 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 17:41:11,008 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 17:41:11,116 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 17:41:11,124 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 17:41:12,066 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@63ed5dae, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7f8f5d37, org.springframework.security.web.header.HeaderWriterFilter@3bbc47c9, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@58e4aa67, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@cbc3bf3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2bc0603f, org.springframework.security.web.access.ExceptionTranslationFilter@37b5a51c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@30b97fcf]
2019-09-07 17:41:13,528 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 17:41:13,530 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@26a004ed, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2b6a4da7, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@75b6bd41, org.springframework.test.context.support.DirtiesContextTestExecutionListener@21457b14, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7e484bd, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7e1ae693, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@3e0600a4, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@341141ab]
2019-09-07 17:41:13,658 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 17:41:13,661 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 17:41:13,662 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 17:41:13,663 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 17:41:13,854 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 17:41:13,879 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 24ms. Found 4 repository interfaces.
2019-09-07 17:41:14,009 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 17:41:14,011 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 17:41:14,012 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 17:41:14,013 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 17:41:14,076 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 17:41:14,098 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 17:41:14,195 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 17:41:14,196 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 17:41:14,208 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 17:41:14,210 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 17:41:14,404 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@77331437, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@56f569e, org.springframework.security.web.header.HeaderWriterFilter@73cfafd8, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@69860811, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1737834, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3445341, org.springframework.security.web.access.ExceptionTranslationFilter@76929266, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1ab780fd]
2019-09-07 17:41:15,174 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 17:41:15,218 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 17:41:15,393 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 17:41:15,395 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 17:41:15,415 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 20 ms
2019-09-07 17:41:15,430 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@69bdcfbc testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4cb45048, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5d72dd86 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1a1d7832]; rollback [true]
2019-09-07 17:41:15,717 INFO  ru.vladzag.web.user.UserRestController.getRestaurant:53 - User getRestaurant with id: 100005
2019-09-07 17:41:15,888 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@69bdcfbc testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4cb45048, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5d72dd86 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 17:41:15,894 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 17:41:15,898 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 17:41:15,908 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 7 ms
2019-09-07 17:41:15,912 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@69bdcfbc testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@61799152, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5d72dd86 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1a1d7832]; rollback [true]
2019-09-07 17:41:15,965 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 17:41:16,023 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@69bdcfbc testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@61799152, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5d72dd86 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 17:41:16,030 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 17:41:16,039 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 17:41:16,043 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-07 17:41:16,048 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@69bdcfbc testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4c541b00, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5d72dd86 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1a1d7832]; rollback [true]
2019-09-07 17:41:16,067 INFO  ru.vladzag.web.user.UserRestController.getScore:41 - User getScore
2019-09-07 17:41:16,086 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@69bdcfbc testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4c541b00, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5d72dd86 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 17:41:16,093 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 17:41:16,101 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 17:41:16,119 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 8 ms
2019-09-07 17:41:16,131 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@69bdcfbc testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@3aa4d595, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5d72dd86 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1a1d7832]; rollback [true]
2019-09-07 17:41:16,151 INFO  ru.vladzag.web.user.UserRestController.createVote:59 - User vote for restaurant with id: 100002
2019-09-07 17:41:16,176 INFO  ru.vladzag.web.user.UserRestController.createVote:59 - User vote for restaurant with id: 100003
2019-09-07 17:41:16,207 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@69bdcfbc testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@3aa4d595, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5d72dd86 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 17:41:16,216 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 17:41:16,223 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 17:41:16,229 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-07 17:41:16,242 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@69bdcfbc testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@64a74723, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5d72dd86 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1a1d7832]; rollback [true]
2019-09-07 17:41:16,252 INFO  ru.vladzag.web.user.UserRestController.createVote:59 - User vote for restaurant with id: 100002
2019-09-07 17:41:16,262 INFO  ru.vladzag.web.user.UserRestController.updateVote:65 - User updateVote(id: 100010) for restaurant with id: 100003
2019-09-07 17:41:16,265 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@69bdcfbc testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@64a74723, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5d72dd86 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 17:41:16,267 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 17:41:16,270 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 17:41:16,278 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 2 ms
2019-09-07 17:41:16,289 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@69bdcfbc testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@500d4de8, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5d72dd86 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1a1d7832]; rollback [true]
2019-09-07 17:41:16,305 INFO  ru.vladzag.web.user.UserRestController.createVote:59 - User vote for restaurant with id: 100002
2019-09-07 17:41:16,314 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@69bdcfbc testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@500d4de8, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5d72dd86 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 17:41:16,316 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 17:41:16,317 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 17:41:16,328 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-07 17:41:16,352 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@69bdcfbc testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4b1ef6a, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5d72dd86 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1a1d7832]; rollback [true]
2019-09-07 17:41:16,362 INFO  ru.vladzag.web.user.UserRestController.createVote:59 - User vote for restaurant with id: 100002
2019-09-07 17:41:16,370 INFO  ru.vladzag.web.user.UserRestController.getScore:41 - User getScore
2019-09-07 17:41:16,423 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@69bdcfbc testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4b1ef6a, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5d72dd86 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 17:41:16,447 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 17:41:16,458 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2287bbd1, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@41a6cd9e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@6915b614, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2e0d6270, org.springframework.test.context.transaction.TransactionalTestExecutionListener@314b0d53, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4676fcd9, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@2975715, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@47ccbbd5]
2019-09-07 17:41:16,487 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-07 17:41:16,488 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-07 17:41:16,597 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 17:41:16,642 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-07 17:41:16,643 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-07 17:41:16,644 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 17:41:16,938 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 17:41:17,268 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 17:41:17,271 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5f160341, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@31f5580b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@56a8b19f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5927473a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@36c45b54, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2d6a6887, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@3e5d10fc, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@5da08e9a]
2019-09-07 17:41:17,273 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 17:41:17,274 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 17:41:17,276 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 2 ms
2019-09-07 17:41:17,279 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@61f62b80 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@387bbd7a, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@22cf6c9c testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1a1d7832]; rollback [true]
2019-09-07 17:41:17,295 INFO  ru.vladzag.web.admin.AdminRestController.delete:80 - Admin deleteRestaurant with id: 100002
2019-09-07 17:41:17,300 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 17:41:17,304 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@61f62b80 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@387bbd7a, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@22cf6c9c testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 17:41:17,310 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 17:41:17,311 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 17:41:17,321 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 7 ms
2019-09-07 17:41:17,343 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@61f62b80 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@14ce13fa, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@22cf6c9c testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1a1d7832]; rollback [true]
2019-09-07 17:41:17,345 INFO  ru.vladzag.web.admin.AdminRestController.getAll:39 - Admin getAll
2019-09-07 17:41:17,346 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 17:41:17,355 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@61f62b80 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@14ce13fa, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@22cf6c9c testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 17:41:17,357 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 17:41:17,358 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 17:41:17,370 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-07 17:41:17,373 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@61f62b80 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@213a2fe3, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@22cf6c9c testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1a1d7832]; rollback [true]
2019-09-07 17:41:17,383 INFO  ru.vladzag.web.admin.AdminRestController.update:88 - Admin updateRestaurant with id: 100002
2019-09-07 17:41:17,394 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 17:41:17,406 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@61f62b80 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@213a2fe3, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@22cf6c9c testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 17:41:17,408 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 17:41:17,409 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 17:41:17,422 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 10 ms
2019-09-07 17:41:17,439 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@61f62b80 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@49de2cc4, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@22cf6c9c testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1a1d7832]; rollback [true]
2019-09-07 17:41:17,476 INFO  ru.vladzag.web.admin.AdminRestController.updateDish:128 - Admin updateDish with id: 100007
2019-09-07 17:41:17,483 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@61f62b80 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@49de2cc4, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@22cf6c9c testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 17:41:17,484 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 17:41:17,486 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 17:41:17,497 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 7 ms
2019-09-07 17:41:17,513 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@61f62b80 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5acc6ca1, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@22cf6c9c testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1a1d7832]; rollback [true]
2019-09-07 17:41:17,523 INFO  ru.vladzag.web.admin.AdminRestController.get:63 - Admin getRestaurant(id: 100005) in date: 2015-05-30
2019-09-07 17:41:17,535 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@61f62b80 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5acc6ca1, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@22cf6c9c testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 17:41:17,562 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 17:41:17,565 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 17:41:17,579 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 11 ms
2019-09-07 17:41:17,588 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@61f62b80 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@24eb71f6, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@22cf6c9c testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1a1d7832]; rollback [true]
2019-09-07 17:41:17,598 INFO  ru.vladzag.web.admin.AdminRestController.createDish:118 - Admin createDish with id: 100010
2019-09-07 17:41:17,611 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@61f62b80 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@24eb71f6, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@22cf6c9c testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 17:41:17,613 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 17:41:17,614 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 17:41:17,625 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 7 ms
2019-09-07 17:41:17,631 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@61f62b80 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@27ae6f9e, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@22cf6c9c testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1a1d7832]; rollback [true]
2019-09-07 17:41:17,638 INFO  ru.vladzag.web.admin.AdminRestController.delete:80 - Admin deleteRestaurant with id: 100002
2019-09-07 17:41:17,645 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 17:41:17,648 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@61f62b80 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@27ae6f9e, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@22cf6c9c testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 17:41:17,656 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 17:41:17,658 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 17:41:17,665 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-07 17:41:17,670 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@61f62b80 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@4a57ad67, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@22cf6c9c testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1a1d7832]; rollback [true]
2019-09-07 17:41:17,676 INFO  ru.vladzag.web.admin.AdminRestController.getAllHistory:47 - Admin getHistory
2019-09-07 17:41:17,696 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@61f62b80 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@4a57ad67, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@22cf6c9c testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 17:41:17,698 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 17:41:17,705 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 17:41:17,715 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 7 ms
2019-09-07 17:41:17,726 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@61f62b80 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@674b2703, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@22cf6c9c testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1a1d7832]; rollback [true]
2019-09-07 17:41:17,739 INFO  ru.vladzag.web.admin.AdminRestController.createWithLocation:103 - Admin createRestaurant with id: 100011
2019-09-07 17:41:17,742 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 17:41:17,748 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@61f62b80 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@674b2703, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@22cf6c9c testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 17:41:17,771 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 17:41:17,782 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 17:41:17,797 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-07 17:41:17,799 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-07 17:41:17,801 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-07 17:41:17,804 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-07 17:42:03,652 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 17:42:03,699 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@130dca52, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2654635, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@737a135b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@687ef2e0, org.springframework.test.context.transaction.TransactionalTestExecutionListener@15dcfae7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3da05287, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@1e636ea3, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@115667d]
2019-09-07 17:42:04,369 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-07 17:42:04,377 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 17:42:04,439 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 17:42:04,456 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 17:42:04,495 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 17:42:04,798 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 17:42:05,012 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 181ms. Found 4 repository interfaces.
2019-09-07 17:42:06,360 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-07 17:42:06,368 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-07 17:42:06,373 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-07 17:42:06,381 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-07 17:42:06,445 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 17:42:06,449 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 17:42:06,451 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 17:42:06,453 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 17:42:06,488 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 17:42:06,491 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 17:42:06,492 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 17:42:06,495 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 17:42:06,749 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 17:42:06,843 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-07 17:42:07,021 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-07 17:42:07,625 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 17:42:08,053 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-07 17:42:09,093 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 17:42:09,097 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 17:42:09,150 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 17:42:09,154 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 17:42:09,969 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@54f9326c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@998fbd4, org.springframework.security.web.header.HeaderWriterFilter@361b3ca6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@59aba3c3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@162e29a1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2a2b3aff, org.springframework.security.web.access.ExceptionTranslationFilter@5f877009, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@22617270]
2019-09-07 17:42:11,150 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 17:42:11,160 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-07 17:42:11,162 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-07 17:42:11,164 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-07 17:42:11,165 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-07 17:42:38,556 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 17:42:38,603 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@160ac7fb, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@12bfd80d, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@41925502, org.springframework.test.context.support.DirtiesContextTestExecutionListener@13e3c1c7, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5316e95f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3f053c80, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@6c6c5427, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@618c5d94]
2019-09-07 17:42:39,085 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-07 17:42:39,090 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 17:42:39,136 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 17:42:39,137 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 17:42:39,175 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 17:42:39,385 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 17:42:39,570 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 156ms. Found 4 repository interfaces.
2019-09-07 17:42:40,854 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-07 17:42:40,868 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-07 17:42:40,877 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-07 17:42:40,881 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-07 17:42:40,922 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 17:42:40,925 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 17:42:40,928 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 17:42:40,930 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 17:42:40,966 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 17:42:40,968 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 17:42:40,970 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 17:42:40,971 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 17:42:41,084 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 17:42:41,241 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-07 17:42:41,441 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-07 17:42:42,036 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 17:42:42,522 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-07 17:42:43,471 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 17:42:43,476 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 17:42:43,551 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 17:42:43,556 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 17:42:44,392 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@4e933cf1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@73b3ce31, org.springframework.security.web.header.HeaderWriterFilter@34b462e0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@13f7c165, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4ed19540, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@57ac236a, org.springframework.security.web.access.ExceptionTranslationFilter@573f2e67, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3d213a2b]
2019-09-07 17:42:45,771 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 17:42:45,773 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@30f99ca1, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@edb8f0c, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@6f70015, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1d5fc340, org.springframework.test.context.transaction.TransactionalTestExecutionListener@613f48de, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@33ce081a, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@d8751de, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@6e21c6ed]
2019-09-07 17:42:45,959 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 17:42:45,962 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 17:42:45,963 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 17:42:45,965 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 17:42:46,151 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 17:42:46,175 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 22ms. Found 4 repository interfaces.
2019-09-07 17:42:46,289 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 17:42:46,290 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 17:42:46,292 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 17:42:46,294 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 17:42:46,354 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 17:42:46,378 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 17:42:46,471 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 17:42:46,472 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 17:42:46,495 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 17:42:46,499 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 17:42:46,685 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@525c0f74, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@64b0ec4a, org.springframework.security.web.header.HeaderWriterFilter@62d5617, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2086f336, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3445341, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@14a5d7ee, org.springframework.security.web.access.ExceptionTranslationFilter@2ccb8db3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4a83d61c]
2019-09-07 17:42:47,439 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 17:42:47,482 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 17:42:47,684 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 17:42:47,687 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 17:42:47,704 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 15 ms
2019-09-07 17:42:47,721 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@996293a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@6adc90e9, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@26247027 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@77eb0e47]; rollback [true]
2019-09-07 17:42:48,011 INFO  ru.vladzag.web.user.UserRestController.getRestaurant:53 - User getRestaurant with id: 100005
2019-09-07 17:42:48,171 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@996293a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@6adc90e9, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@26247027 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 17:42:48,177 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 17:42:48,182 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 17:42:48,189 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-07 17:42:48,194 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@996293a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@75c5ab79, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@26247027 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@77eb0e47]; rollback [true]
2019-09-07 17:42:48,212 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 17:42:48,294 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@996293a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@75c5ab79, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@26247027 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 17:42:48,300 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 17:42:48,307 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 17:42:48,314 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-07 17:42:48,328 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@996293a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@13c36d48, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@26247027 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@77eb0e47]; rollback [true]
2019-09-07 17:42:48,360 INFO  ru.vladzag.web.user.UserRestController.getScore:41 - User getScore
2019-09-07 17:42:48,370 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@996293a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@13c36d48, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@26247027 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 17:42:48,373 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 17:42:48,384 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 17:42:48,400 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 14 ms
2019-09-07 17:42:48,410 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@996293a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@21523e1b, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@26247027 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@77eb0e47]; rollback [true]
2019-09-07 17:42:48,430 INFO  ru.vladzag.web.user.UserRestController.createVote:59 - User vote for restaurant with id: 100002
2019-09-07 17:42:48,453 INFO  ru.vladzag.web.user.UserRestController.createVote:59 - User vote for restaurant with id: 100003
2019-09-07 17:42:48,479 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@996293a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@21523e1b, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@26247027 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 17:42:48,485 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 17:42:48,489 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 17:42:48,500 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 8 ms
2019-09-07 17:42:48,511 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@996293a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@ac6da02, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@26247027 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@77eb0e47]; rollback [true]
2019-09-07 17:42:48,527 INFO  ru.vladzag.web.user.UserRestController.createVote:59 - User vote for restaurant with id: 100002
2019-09-07 17:42:48,544 INFO  ru.vladzag.web.user.UserRestController.updateVote:65 - User updateVote(id: 100010) for restaurant with id: 100003
2019-09-07 17:42:48,548 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@996293a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@ac6da02, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@26247027 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 17:42:48,557 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 17:42:48,559 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 17:42:48,574 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 14 ms
2019-09-07 17:42:48,585 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@996293a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@253a8bdb, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@26247027 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@77eb0e47]; rollback [true]
2019-09-07 17:42:48,597 INFO  ru.vladzag.web.user.UserRestController.createVote:59 - User vote for restaurant with id: 100002
2019-09-07 17:42:48,610 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@996293a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@253a8bdb, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@26247027 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 17:42:48,619 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 17:42:48,623 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 17:42:48,633 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 7 ms
2019-09-07 17:42:48,643 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@996293a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@86abdbd, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@26247027 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@77eb0e47]; rollback [true]
2019-09-07 17:42:48,658 INFO  ru.vladzag.web.user.UserRestController.createVote:59 - User vote for restaurant with id: 100002
2019-09-07 17:42:48,667 INFO  ru.vladzag.web.user.UserRestController.getScore:41 - User getScore
2019-09-07 17:42:48,687 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@996293a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@86abdbd, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@26247027 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 17:42:48,712 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 17:42:48,715 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4676fcd9, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2975715, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@47ccbbd5, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2e8417ea, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5f65a6d7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@67726dd1, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@45c270f9, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4b7704ec]
2019-09-07 17:42:48,728 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-07 17:42:48,731 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-07 17:42:48,871 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 17:42:48,911 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-07 17:42:48,912 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-07 17:42:48,917 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 17:42:49,209 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 17:42:49,451 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 17:42:49,453 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@22cf6c9c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4569b6a9, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@15932faf, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7066c00a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2914f916, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2140de63, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@2da273b3, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@6b02909d]
2019-09-07 17:42:49,456 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 17:42:49,457 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 17:42:49,465 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 8 ms
2019-09-07 17:42:49,470 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@7cc5bdbd testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@33c5cc0, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@664c411d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@77eb0e47]; rollback [true]
2019-09-07 17:42:49,477 INFO  ru.vladzag.web.admin.AdminRestController.delete:80 - Admin deleteRestaurant with id: 100002
2019-09-07 17:42:49,486 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 17:42:49,491 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@7cc5bdbd testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@33c5cc0, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@664c411d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 17:42:49,493 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 17:42:49,495 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 17:42:49,512 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 11 ms
2019-09-07 17:42:49,526 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@7cc5bdbd testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@1c8d9ac9, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@664c411d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@77eb0e47]; rollback [true]
2019-09-07 17:42:49,530 INFO  ru.vladzag.web.admin.AdminRestController.getAll:39 - Admin getAll
2019-09-07 17:42:49,534 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 17:42:49,543 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@7cc5bdbd testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@1c8d9ac9, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@664c411d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 17:42:49,546 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 17:42:49,550 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 17:42:49,559 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-07 17:42:49,567 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@7cc5bdbd testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@4ee9daf5, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@664c411d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@77eb0e47]; rollback [true]
2019-09-07 17:42:49,579 INFO  ru.vladzag.web.admin.AdminRestController.update:88 - Admin updateRestaurant with id: 100002
2019-09-07 17:42:49,586 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 17:42:49,597 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@7cc5bdbd testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@4ee9daf5, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@664c411d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 17:42:49,599 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 17:42:49,601 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 17:42:49,609 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-07 17:42:49,621 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@7cc5bdbd testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@4c617143, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@664c411d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@77eb0e47]; rollback [true]
2019-09-07 17:42:49,649 INFO  ru.vladzag.web.admin.AdminRestController.updateDish:128 - Admin updateDish with id: 100007
2019-09-07 17:42:49,656 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@7cc5bdbd testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@4c617143, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@664c411d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 17:42:49,658 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 17:42:49,665 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 17:42:49,676 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 8 ms
2019-09-07 17:42:49,681 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@7cc5bdbd testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@8829ecd, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@664c411d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@77eb0e47]; rollback [true]
2019-09-07 17:42:49,707 INFO  ru.vladzag.web.admin.AdminRestController.get:63 - Admin getRestaurant(id: 100005) in date: 2015-05-30
2019-09-07 17:42:49,726 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@7cc5bdbd testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@8829ecd, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@664c411d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 17:42:49,727 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 17:42:49,730 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 17:42:49,741 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 8 ms
2019-09-07 17:42:49,754 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@7cc5bdbd testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@796d0b43, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@664c411d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@77eb0e47]; rollback [true]
2019-09-07 17:42:49,771 INFO  ru.vladzag.web.admin.AdminRestController.createDish:118 - Admin createDish with id: 100010
2019-09-07 17:42:49,780 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@7cc5bdbd testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@796d0b43, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@664c411d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 17:42:49,782 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 17:42:49,785 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 17:42:49,793 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-07 17:42:49,797 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@7cc5bdbd testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@76a13b12, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@664c411d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@77eb0e47]; rollback [true]
2019-09-07 17:42:49,827 INFO  ru.vladzag.web.admin.AdminRestController.delete:80 - Admin deleteRestaurant with id: 100002
2019-09-07 17:42:49,842 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 17:42:49,848 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@7cc5bdbd testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@76a13b12, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@664c411d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 17:42:49,862 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 17:42:49,863 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 17:42:49,871 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-07 17:42:49,892 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@7cc5bdbd testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@187c8f96, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@664c411d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@77eb0e47]; rollback [true]
2019-09-07 17:42:49,908 INFO  ru.vladzag.web.admin.AdminRestController.getAllHistory:47 - Admin getHistory
2019-09-07 17:42:49,961 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@7cc5bdbd testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@187c8f96, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@664c411d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 17:42:49,972 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 17:42:49,977 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 17:42:49,988 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 10 ms
2019-09-07 17:42:49,995 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@7cc5bdbd testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@56ed9270, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@664c411d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@77eb0e47]; rollback [true]
2019-09-07 17:42:50,003 INFO  ru.vladzag.web.admin.AdminRestController.createWithLocation:103 - Admin createRestaurant with id: 100011
2019-09-07 17:42:50,007 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 17:42:50,026 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@7cc5bdbd testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@56ed9270, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@664c411d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 17:42:50,077 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 17:42:50,103 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 17:42:50,125 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-07 17:42:50,127 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-07 17:42:50,134 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-07 17:42:50,137 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-07 17:43:45,654 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 17:43:45,689 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@130dca52, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2654635, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@737a135b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@687ef2e0, org.springframework.test.context.transaction.TransactionalTestExecutionListener@15dcfae7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3da05287, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@1e636ea3, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@115667d]
2019-09-07 17:43:46,509 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-07 17:43:46,515 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 17:43:46,573 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 17:43:46,577 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 17:43:46,614 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 17:43:46,855 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 17:43:47,053 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 169ms. Found 4 repository interfaces.
2019-09-07 17:43:48,265 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-07 17:43:48,270 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-07 17:43:48,276 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-07 17:43:48,281 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-07 17:43:48,332 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 17:43:48,336 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 17:43:48,338 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 17:43:48,340 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 17:43:48,385 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 17:43:48,392 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 17:43:48,394 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 17:43:48,395 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 17:43:48,524 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 17:43:48,649 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-07 17:43:48,859 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-07 17:43:49,373 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 17:43:49,824 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-07 17:43:50,783 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 17:43:50,788 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 17:43:50,849 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 17:43:50,855 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 17:43:51,728 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@54f9326c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@998fbd4, org.springframework.security.web.header.HeaderWriterFilter@361b3ca6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5cc87de4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@72a61e61, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2cc9a948, org.springframework.security.web.access.ExceptionTranslationFilter@72ce8a9b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@af96ac9]
2019-09-07 17:43:52,760 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 17:43:52,774 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-07 17:43:52,775 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-07 17:43:52,777 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-07 17:43:52,778 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-07 17:44:03,377 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 17:44:03,405 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@666b83a4, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@749c877b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@efde75f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@16ecee1, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3b220bcb, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2b95e48b, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@4a3329b9, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@3dddefd8]
2019-09-07 17:44:03,933 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-07 17:44:03,938 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 17:44:03,982 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 17:44:03,983 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 17:44:04,015 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 17:44:04,211 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 17:44:04,392 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 157ms. Found 4 repository interfaces.
2019-09-07 17:44:05,656 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-07 17:44:05,663 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-07 17:44:05,667 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-07 17:44:05,672 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-07 17:44:05,732 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 17:44:05,736 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 17:44:05,738 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 17:44:05,739 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 17:44:05,784 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 17:44:05,787 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 17:44:05,788 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 17:44:05,790 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 17:44:05,934 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 17:44:06,029 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-07 17:44:06,195 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-07 17:44:06,849 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 17:44:07,341 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-07 17:44:08,304 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 17:44:08,309 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 17:44:08,371 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 17:44:08,376 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 17:44:09,321 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@566cc6af, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@31b289da, org.springframework.security.web.header.HeaderWriterFilter@19677add, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5d01a2eb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@41948c13, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@69f24965, org.springframework.security.web.access.ExceptionTranslationFilter@5d035ab6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4a34de5e]
2019-09-07 17:44:10,771 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 17:44:10,774 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@7e1ae693, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3e0600a4, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@341141ab, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1773faf8, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3ef4a8fb, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@30f99ca1, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@edb8f0c, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@6f70015]
2019-09-07 17:44:10,912 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 17:44:10,915 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 17:44:10,916 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 17:44:10,918 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 17:44:11,107 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 17:44:11,136 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 27ms. Found 4 repository interfaces.
2019-09-07 17:44:11,245 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 17:44:11,247 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 17:44:11,248 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 17:44:11,250 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 17:44:11,330 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 17:44:11,346 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 17:44:11,458 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 17:44:11,459 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 17:44:11,470 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 17:44:11,474 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 17:44:11,663 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@156d7556, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2c8f7d6a, org.springframework.security.web.header.HeaderWriterFilter@2b826482, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1737834, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3aae9e8f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7baea18b, org.springframework.security.web.access.ExceptionTranslationFilter@1b6e32ee, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6e4ac3f5]
2019-09-07 17:44:12,389 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 17:44:12,426 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 17:44:12,582 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 17:44:12,583 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 17:44:12,596 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 12 ms
2019-09-07 17:44:12,623 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70e560ef testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@77228160, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@19faa9dc testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@12e8ea81]; rollback [true]
2019-09-07 17:44:12,928 INFO  ru.vladzag.web.user.UserRestController.getRestaurant:53 - User getRestaurant with id: 100005
2019-09-07 17:44:13,092 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70e560ef testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@77228160, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@19faa9dc testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 17:44:13,103 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 17:44:13,104 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 17:44:13,111 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-07 17:44:13,118 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70e560ef testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@5c39da9e, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@19faa9dc testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@12e8ea81]; rollback [true]
2019-09-07 17:44:13,139 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 17:44:13,214 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70e560ef testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@5c39da9e, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@19faa9dc testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 17:44:13,216 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 17:44:13,220 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 17:44:13,232 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-07 17:44:13,241 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70e560ef testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@61f18997, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@19faa9dc testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@12e8ea81]; rollback [true]
2019-09-07 17:44:13,255 INFO  ru.vladzag.web.user.UserRestController.getScore:41 - User getScore
2019-09-07 17:44:13,265 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70e560ef testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@61f18997, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@19faa9dc testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 17:44:13,268 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 17:44:13,274 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 17:44:13,286 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 9 ms
2019-09-07 17:44:13,295 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70e560ef testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@e50e308, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@19faa9dc testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@12e8ea81]; rollback [true]
2019-09-07 17:44:13,330 INFO  ru.vladzag.web.user.UserRestController.createVote:59 - User vote for restaurant with id: 100002
2019-09-07 17:44:13,359 INFO  ru.vladzag.web.user.UserRestController.createVote:59 - User vote for restaurant with id: 100003
2019-09-07 17:44:13,372 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70e560ef testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@e50e308, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@19faa9dc testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 17:44:13,376 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 17:44:13,380 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 17:44:13,390 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 7 ms
2019-09-07 17:44:13,403 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70e560ef testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@21a14c45, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@19faa9dc testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@12e8ea81]; rollback [true]
2019-09-07 17:44:13,420 INFO  ru.vladzag.web.user.UserRestController.createVote:59 - User vote for restaurant with id: 100002
2019-09-07 17:44:13,434 INFO  ru.vladzag.web.user.UserRestController.updateVote:65 - User updateVote(id: 100010) for restaurant with id: 100003
2019-09-07 17:44:13,438 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70e560ef testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@21a14c45, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@19faa9dc testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 17:44:13,440 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 17:44:13,444 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 17:44:13,458 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 8 ms
2019-09-07 17:44:13,468 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70e560ef testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@43851574, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@19faa9dc testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@12e8ea81]; rollback [true]
2019-09-07 17:44:13,483 INFO  ru.vladzag.web.user.UserRestController.createVote:59 - User vote for restaurant with id: 100002
2019-09-07 17:44:13,496 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70e560ef testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@43851574, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@19faa9dc testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 17:44:13,498 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 17:44:13,500 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 17:44:13,513 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 11 ms
2019-09-07 17:44:13,517 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70e560ef testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@57596d71, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@19faa9dc testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@12e8ea81]; rollback [true]
2019-09-07 17:44:13,540 INFO  ru.vladzag.web.user.UserRestController.createVote:59 - User vote for restaurant with id: 100002
2019-09-07 17:44:13,553 INFO  ru.vladzag.web.user.UserRestController.getScore:41 - User getScore
2019-09-07 17:44:13,590 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70e560ef testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@57596d71, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@19faa9dc testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 17:44:13,613 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 17:44:13,615 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2287bbd1, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@41a6cd9e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@6915b614, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2e0d6270, org.springframework.test.context.transaction.TransactionalTestExecutionListener@314b0d53, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4676fcd9, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@2975715, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@47ccbbd5]
2019-09-07 17:44:13,629 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-07 17:44:13,630 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-07 17:44:13,728 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 17:44:13,777 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-07 17:44:13,777 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-07 17:44:13,779 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 17:44:14,061 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 17:44:14,361 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 17:44:14,365 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@17524c36, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2f89b44e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@730a140b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2f29046b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2a1fce44, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@48d6248d, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@6b5fdbd0, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@c32908c]
2019-09-07 17:44:14,371 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 17:44:14,375 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 17:44:14,379 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-07 17:44:14,382 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@349469db testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@2c3a2935, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2ca4b010 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@12e8ea81]; rollback [true]
2019-09-07 17:44:14,393 INFO  ru.vladzag.web.admin.AdminRestController.delete:80 - Admin deleteRestaurant with id: 100002
2019-09-07 17:44:14,399 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 17:44:14,404 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@349469db testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@2c3a2935, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2ca4b010 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 17:44:14,406 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 17:44:14,407 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 17:44:14,419 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 11 ms
2019-09-07 17:44:14,432 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@349469db testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@311819e8, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2ca4b010 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@12e8ea81]; rollback [true]
2019-09-07 17:44:14,435 INFO  ru.vladzag.web.admin.AdminRestController.getAll:39 - Admin getAll
2019-09-07 17:44:14,436 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 17:44:14,447 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@349469db testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@311819e8, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2ca4b010 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 17:44:14,454 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 17:44:14,458 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 17:44:14,464 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-07 17:44:14,469 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@349469db testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@31620971, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2ca4b010 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@12e8ea81]; rollback [true]
2019-09-07 17:44:14,486 INFO  ru.vladzag.web.admin.AdminRestController.update:88 - Admin updateRestaurant with id: 100002
2019-09-07 17:44:14,499 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 17:44:14,513 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@349469db testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@31620971, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2ca4b010 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 17:44:14,515 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 17:44:14,519 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 17:44:14,536 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 12 ms
2019-09-07 17:44:14,550 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@349469db testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@664c411d, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2ca4b010 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@12e8ea81]; rollback [true]
2019-09-07 17:44:14,575 INFO  ru.vladzag.web.admin.AdminRestController.updateDish:128 - Admin updateDish with id: 100007
2019-09-07 17:44:14,584 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@349469db testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@664c411d, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2ca4b010 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 17:44:14,586 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 17:44:14,591 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 17:44:14,599 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-07 17:44:14,613 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@349469db testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5854e526, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2ca4b010 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@12e8ea81]; rollback [true]
2019-09-07 17:44:14,618 INFO  ru.vladzag.web.admin.AdminRestController.get:63 - Admin getRestaurant(id: 100005) in date: 2015-05-30
2019-09-07 17:44:14,643 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@349469db testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5854e526, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2ca4b010 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 17:44:14,646 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 17:44:14,648 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 17:44:14,662 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 9 ms
2019-09-07 17:44:14,675 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@349469db testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@4d7a4317, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2ca4b010 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@12e8ea81]; rollback [true]
2019-09-07 17:44:14,684 INFO  ru.vladzag.web.admin.AdminRestController.createDish:118 - Admin createDish with id: 100010
2019-09-07 17:44:14,693 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@349469db testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@4d7a4317, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2ca4b010 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 17:44:14,695 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 17:44:14,703 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 17:44:14,711 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-07 17:44:14,715 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@349469db testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@16750a5e, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2ca4b010 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@12e8ea81]; rollback [true]
2019-09-07 17:44:14,726 INFO  ru.vladzag.web.admin.AdminRestController.delete:80 - Admin deleteRestaurant with id: 100002
2019-09-07 17:44:14,735 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 17:44:14,744 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@349469db testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@16750a5e, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2ca4b010 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 17:44:14,751 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 17:44:14,753 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 17:44:14,764 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 9 ms
2019-09-07 17:44:14,776 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@349469db testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@327af731, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2ca4b010 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@12e8ea81]; rollback [true]
2019-09-07 17:44:14,782 INFO  ru.vladzag.web.admin.AdminRestController.getAllHistory:47 - Admin getHistory
2019-09-07 17:44:14,801 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@349469db testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@327af731, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2ca4b010 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 17:44:14,804 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 17:44:14,807 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 17:44:14,818 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 8 ms
2019-09-07 17:44:14,827 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@349469db testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@73136174, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2ca4b010 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@12e8ea81]; rollback [true]
2019-09-07 17:44:14,839 INFO  ru.vladzag.web.admin.AdminRestController.createWithLocation:103 - Admin createRestaurant with id: 100011
2019-09-07 17:44:14,842 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 17:44:14,849 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@349469db testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@73136174, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2ca4b010 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 17:44:14,872 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 17:44:14,882 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 17:44:14,893 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-07 17:44:14,897 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-07 17:44:14,899 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-07 17:44:14,901 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-07 17:46:22,489 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-07 17:46:23,011 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-07 17:46:23,019 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 17:46:23,084 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 17:46:23,085 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 17:46:23,122 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 17:46:23,423 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 17:46:23,684 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 225ms. Found 4 repository interfaces.
2019-09-07 17:46:25,670 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-07 17:46:25,678 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-07 17:46:25,685 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-07 17:46:25,691 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-07 17:46:25,758 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-07 17:46:25,762 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 17:46:25,764 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 17:46:25,765 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-07 17:46:25,813 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-07 17:46:25,816 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 17:46:25,817 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 17:46:25,818 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-07 17:46:26,044 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 17:46:26,220 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-07 17:46:26,541 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-07 17:46:27,335 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 17:46:28,156 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-07 17:46:29,601 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 17:46:29,606 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 17:46:29,668 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 17:46:29,671 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 17:46:31,000 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@6cbaf64, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@19299d7c, org.springframework.security.web.header.HeaderWriterFilter@ec99714, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3356d7f5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@37056b14, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6dbeeae9, org.springframework.security.web.access.ExceptionTranslationFilter@219e9c0e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6cb10ddf]
2019-09-07 17:46:32,047 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 9545 ms
2019-09-07 17:46:32,101 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-07 17:46:33,508 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 17:46:33,568 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 17:46:33,653 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1551 ms
2019-09-07 17:49:04,964 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-07 17:49:05,470 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-07 17:49:05,479 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 17:49:05,546 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 17:49:05,548 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 17:49:05,586 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 17:49:05,906 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 17:49:06,171 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 224ms. Found 4 repository interfaces.
2019-09-07 17:49:08,367 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-07 17:49:08,377 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-07 17:49:08,383 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-07 17:49:08,394 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-07 17:49:08,471 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-07 17:49:08,475 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 17:49:08,476 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 17:49:08,478 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-07 17:49:08,538 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-07 17:49:08,541 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 17:49:08,543 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 17:49:08,547 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-07 17:49:08,780 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 17:49:09,006 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-07 17:49:09,447 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-07 17:49:10,390 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 17:49:11,244 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-07 17:49:12,900 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 17:49:12,907 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 17:49:13,002 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 17:49:13,007 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 17:49:14,525 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@40d19865, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@17ab43d5, org.springframework.security.web.header.HeaderWriterFilter@318000c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5e0a2531, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6e044b58, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@908137, org.springframework.security.web.access.ExceptionTranslationFilter@3a3cb6e8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@596d488a]
2019-09-07 17:49:15,445 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 10474 ms
2019-09-07 17:49:15,499 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-07 17:49:16,895 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 17:49:16,962 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 17:49:17,052 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1552 ms
2019-09-07 17:50:21,510 INFO  ru.vladzag.web.admin.AdminRestController.getAll:39 - Admin getAll
2019-09-07 17:50:21,557 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 23:00:06,581 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-07 23:00:07,070 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-07 23:00:07,079 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 23:00:07,147 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 23:00:07,149 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 23:00:07,188 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 23:00:07,459 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 23:00:07,703 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 205ms. Found 4 repository interfaces.
2019-09-07 23:00:09,529 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-07 23:00:09,534 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-07 23:00:09,538 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-07 23:00:09,543 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-07 23:00:09,607 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-07 23:00:09,611 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 23:00:09,612 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 23:00:09,613 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-07 23:00:09,657 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-07 23:00:09,659 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 23:00:09,660 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 23:00:09,661 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/Downloads/GraduationProj-master/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-07 23:00:09,810 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 23:00:09,988 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-07 23:00:10,324 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-07 23:00:11,126 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 23:00:11,813 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-07 23:00:13,484 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 23:00:13,489 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 23:00:13,610 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 23:00:13,614 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 23:00:14,712 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@44e94433, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2022c07a, org.springframework.security.web.header.HeaderWriterFilter@65796999, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7e9e3988, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@56493bf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5bc44a71, org.springframework.security.web.access.ExceptionTranslationFilter@1685445e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2ceacdda]
2019-09-07 23:00:15,664 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 9077 ms
2019-09-07 23:00:15,716 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-07 23:00:16,980 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 23:00:17,032 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 23:00:17,123 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1406 ms
2019-09-07 23:02:33,675 INFO  ru.vladzag.web.admin.AdminRestController.getAll:39 - Admin getAll
2019-09-07 23:02:33,725 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 23:17:23,338 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 23:17:23,377 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@666b83a4, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@749c877b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@efde75f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@16ecee1, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3b220bcb, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2b95e48b, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@4a3329b9, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@3dddefd8]
2019-09-07 23:17:23,830 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-07 23:17:23,835 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 23:17:23,879 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 23:17:23,880 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 23:17:23,916 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 23:17:24,105 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 23:17:24,271 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 143ms. Found 4 repository interfaces.
2019-09-07 23:17:25,522 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-07 23:17:25,528 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-07 23:17:25,534 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-07 23:17:25,539 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-07 23:17:25,598 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 23:17:25,602 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 23:17:25,603 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 23:17:25,605 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 23:17:25,650 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 23:17:25,652 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 23:17:25,654 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 23:17:25,655 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 23:17:25,790 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 23:17:25,986 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-07 23:17:26,302 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-07 23:17:27,028 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 23:17:27,606 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-07 23:17:28,557 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 23:17:28,560 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 23:17:28,609 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 23:17:28,612 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 23:17:29,491 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@566cc6af, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@31b289da, org.springframework.security.web.header.HeaderWriterFilter@19677add, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1be12e05, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@52d01430, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@322eb1a, org.springframework.security.web.access.ExceptionTranslationFilter@4853f592, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@72c175f1]
2019-09-07 23:17:30,983 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 23:17:30,984 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@21457b14, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7e484bd, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7e1ae693, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3e0600a4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@341141ab, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1773faf8, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@3ef4a8fb, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@30f99ca1]
2019-09-07 23:17:31,125 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 23:17:31,128 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 23:17:31,129 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 23:17:31,132 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 23:17:31,370 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 23:17:31,396 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 25ms. Found 4 repository interfaces.
2019-09-07 23:17:31,537 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 23:17:31,540 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 23:17:31,541 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 23:17:31,543 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 23:17:31,623 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 23:17:31,640 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 23:17:31,758 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 23:17:31,759 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 23:17:31,769 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 23:17:31,772 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 23:17:31,959 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@3da12ba4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b949de4, org.springframework.security.web.header.HeaderWriterFilter@8929865, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2086f336, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3445341, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@14a5d7ee, org.springframework.security.web.access.ExceptionTranslationFilter@2ccb8db3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4a83d61c]
2019-09-07 23:17:32,658 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 23:17:32,699 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 23:17:32,896 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:17:32,897 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:17:32,910 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 12 ms
2019-09-07 23:17:32,924 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@996293a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@6adc90e9, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@26247027 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@77eb0e47]; rollback [true]
2019-09-07 23:17:33,202 INFO  ru.vladzag.web.user.UserRestController.getRestaurant:53 - User getRestaurant with id: 100005
2019-09-07 23:17:33,364 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@996293a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@6adc90e9, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@26247027 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:17:33,369 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:17:33,371 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:17:33,378 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-07 23:17:33,382 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@996293a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@61f2bf3a, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@26247027 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@77eb0e47]; rollback [true]
2019-09-07 23:17:33,398 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 23:17:33,478 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@996293a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@61f2bf3a, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@26247027 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:17:33,480 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:17:33,483 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:17:33,494 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-07 23:17:33,500 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@996293a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@7f39bcb5, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@26247027 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@77eb0e47]; rollback [true]
2019-09-07 23:17:33,514 INFO  ru.vladzag.web.user.UserRestController.getScore:41 - User getScore
2019-09-07 23:17:33,523 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@996293a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@7f39bcb5, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@26247027 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:17:33,525 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:17:33,528 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:17:33,538 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 8 ms
2019-09-07 23:17:33,550 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@996293a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@5232cec1, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@26247027 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@77eb0e47]; rollback [true]
2019-09-07 23:17:33,583 INFO  ru.vladzag.web.user.UserRestController.createVote:59 - User vote for restaurant with id: 100002
2019-09-07 23:17:33,617 INFO  ru.vladzag.web.user.UserRestController.createVote:59 - User vote for restaurant with id: 100003
2019-09-07 23:17:33,630 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@996293a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@5232cec1, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@26247027 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:17:33,640 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:17:33,642 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:17:33,649 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-07 23:17:33,664 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@996293a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@24032706, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@26247027 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@77eb0e47]; rollback [true]
2019-09-07 23:17:33,679 INFO  ru.vladzag.web.user.UserRestController.createVote:59 - User vote for restaurant with id: 100002
2019-09-07 23:17:33,695 INFO  ru.vladzag.web.user.UserRestController.updateVote:65 - User updateVote(id: 100010) for restaurant with id: 100003
2019-09-07 23:17:33,700 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@996293a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@24032706, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@26247027 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:17:33,705 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:17:33,711 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:17:33,725 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 10 ms
2019-09-07 23:17:33,731 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@996293a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@3ef2f84c, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@26247027 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@77eb0e47]; rollback [true]
2019-09-07 23:17:33,746 INFO  ru.vladzag.web.user.UserRestController.createVote:59 - User vote for restaurant with id: 100002
2019-09-07 23:17:33,755 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@996293a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@3ef2f84c, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@26247027 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:17:33,757 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:17:33,761 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:17:33,768 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-07 23:17:33,779 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@996293a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@755c29b0, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@26247027 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@77eb0e47]; rollback [true]
2019-09-07 23:17:33,798 INFO  ru.vladzag.web.user.UserRestController.createVote:59 - User vote for restaurant with id: 100002
2019-09-07 23:17:33,810 INFO  ru.vladzag.web.user.UserRestController.getScore:41 - User getScore
2019-09-07 23:17:33,846 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@996293a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@755c29b0, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@26247027 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:17:33,865 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 23:17:33,866 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2e8417ea, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5f65a6d7, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@67726dd1, org.springframework.test.context.support.DirtiesContextTestExecutionListener@45c270f9, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4b7704ec, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@39d6504b, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@4dbeae45, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@1bad5ab3]
2019-09-07 23:17:33,881 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-07 23:17:33,883 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-07 23:17:33,992 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 23:17:34,037 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-07 23:17:34,039 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-07 23:17:34,041 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 23:17:34,274 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 23:17:34,565 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 23:17:34,566 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@49aa6081, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@377a1763, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@61f62b80, org.springframework.test.context.support.DirtiesContextTestExecutionListener@387bbd7a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@22cf6c9c, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4569b6a9, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@15932faf, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@7066c00a]
2019-09-07 23:17:34,568 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:17:34,570 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:17:34,574 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 2 ms
2019-09-07 23:17:34,580 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2da273b3 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@6b02909d, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@655008a2 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@77eb0e47]; rollback [true]
2019-09-07 23:17:34,595 INFO  ru.vladzag.web.admin.AdminRestController.delete:80 - Admin deleteRestaurant with id: 100002
2019-09-07 23:17:34,600 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 23:17:34,607 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2da273b3 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@6b02909d, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@655008a2 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:17:34,609 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:17:34,615 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:17:34,630 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 9 ms
2019-09-07 23:17:34,647 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2da273b3 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@394e0104, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@655008a2 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@77eb0e47]; rollback [true]
2019-09-07 23:17:34,651 INFO  ru.vladzag.web.admin.AdminRestController.getAll:39 - Admin getAll
2019-09-07 23:17:34,658 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 23:17:34,672 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2da273b3 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@394e0104, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@655008a2 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:17:34,676 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:17:34,680 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:17:34,696 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 14 ms
2019-09-07 23:17:34,705 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2da273b3 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@16a4e4c9, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@655008a2 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@77eb0e47]; rollback [true]
2019-09-07 23:17:34,714 INFO  ru.vladzag.web.admin.AdminRestController.update:88 - Admin updateRestaurant with id: 100002
2019-09-07 23:17:34,722 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 23:17:34,732 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2da273b3 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@16a4e4c9, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@655008a2 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:17:34,734 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:17:34,737 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:17:34,743 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-07 23:17:34,751 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2da273b3 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@3435b6d8, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@655008a2 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@77eb0e47]; rollback [true]
2019-09-07 23:17:34,785 INFO  ru.vladzag.web.admin.AdminRestController.updateDish:128 - Admin updateDish with id: 100007
2019-09-07 23:17:34,792 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2da273b3 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@3435b6d8, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@655008a2 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:17:34,795 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:17:34,797 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:17:34,813 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 13 ms
2019-09-07 23:17:34,828 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2da273b3 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@10fa270e, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@655008a2 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@77eb0e47]; rollback [true]
2019-09-07 23:17:34,831 INFO  ru.vladzag.web.admin.AdminRestController.get:63 - Admin getRestaurant(id: 100005) in date: 2015-05-30
2019-09-07 23:17:34,848 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2da273b3 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@10fa270e, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@655008a2 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:17:34,857 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:17:34,859 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:17:34,861 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 2 ms
2019-09-07 23:17:34,869 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2da273b3 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7b99e726, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@655008a2 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@77eb0e47]; rollback [true]
2019-09-07 23:17:34,882 INFO  ru.vladzag.web.admin.AdminRestController.createDish:118 - Admin createDish with id: 100010
2019-09-07 23:17:34,893 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2da273b3 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7b99e726, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@655008a2 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:17:34,896 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:17:34,900 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:17:34,913 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 10 ms
2019-09-07 23:17:34,928 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2da273b3 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5915ab69, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@655008a2 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@77eb0e47]; rollback [true]
2019-09-07 23:17:34,931 INFO  ru.vladzag.web.admin.AdminRestController.delete:80 - Admin deleteRestaurant with id: 100002
2019-09-07 23:17:34,934 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 23:17:34,942 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2da273b3 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5915ab69, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@655008a2 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:17:34,944 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:17:34,946 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:17:34,957 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 8 ms
2019-09-07 23:17:34,961 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2da273b3 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@52b4da7c, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@655008a2 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@77eb0e47]; rollback [true]
2019-09-07 23:17:34,967 INFO  ru.vladzag.web.admin.AdminRestController.getAllHistory:47 - Admin getHistory
2019-09-07 23:17:34,995 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2da273b3 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@52b4da7c, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@655008a2 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:17:34,997 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:17:34,998 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:17:35,013 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 9 ms
2019-09-07 23:17:35,023 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2da273b3 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7cbcd27e, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@655008a2 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@77eb0e47]; rollback [true]
2019-09-07 23:17:35,035 INFO  ru.vladzag.web.admin.AdminRestController.createWithLocation:103 - Admin createRestaurant with id: 100011
2019-09-07 23:17:35,039 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 23:17:35,045 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2da273b3 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7cbcd27e, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@655008a2 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:17:35,067 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 23:17:35,082 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 23:17:35,089 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-07 23:17:35,091 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-07 23:17:35,093 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-07 23:17:35,094 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-07 23:19:20,172 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 23:19:20,214 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2b95e48b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4a3329b9, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@3dddefd8, org.springframework.test.context.support.DirtiesContextTestExecutionListener@160ac7fb, org.springframework.test.context.transaction.TransactionalTestExecutionListener@12bfd80d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@41925502, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@13e3c1c7, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@5316e95f]
2019-09-07 23:19:20,820 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-07 23:19:20,825 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 23:19:20,883 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 23:19:20,884 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 23:19:20,918 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 23:19:21,115 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 23:19:21,285 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 140ms. Found 4 repository interfaces.
2019-09-07 23:19:22,469 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-07 23:19:22,475 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-07 23:19:22,479 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-07 23:19:22,484 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-07 23:19:22,534 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 23:19:22,537 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 23:19:22,539 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 23:19:22,540 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 23:19:22,573 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 23:19:22,576 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 23:19:22,578 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 23:19:22,580 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 23:19:22,688 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 23:19:22,773 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-07 23:19:22,954 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-07 23:19:23,528 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 23:19:23,944 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-07 23:19:24,822 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 23:19:24,825 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 23:19:24,879 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 23:19:24,885 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 23:19:25,677 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@f9cd1e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@729a9c3d, org.springframework.security.web.header.HeaderWriterFilter@56976b8b, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5d01a2eb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@41948c13, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@69f24965, org.springframework.security.web.access.ExceptionTranslationFilter@5d035ab6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4a34de5e]
2019-09-07 23:19:27,020 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 23:19:27,021 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@7e1ae693, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3e0600a4, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@341141ab, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1773faf8, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3ef4a8fb, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@30f99ca1, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@edb8f0c, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@6f70015]
2019-09-07 23:19:27,169 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 23:19:27,172 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 23:19:27,173 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 23:19:27,175 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 23:19:27,343 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 23:19:27,378 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 33ms. Found 4 repository interfaces.
2019-09-07 23:19:27,483 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 23:19:27,487 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 23:19:27,488 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 23:19:27,489 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 23:19:27,549 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 23:19:27,572 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 23:19:27,679 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 23:19:27,679 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 23:19:27,692 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 23:19:27,695 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 23:19:27,860 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@156d7556, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2c8f7d6a, org.springframework.security.web.header.HeaderWriterFilter@2b826482, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1737834, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3aae9e8f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7baea18b, org.springframework.security.web.access.ExceptionTranslationFilter@1b6e32ee, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6e4ac3f5]
2019-09-07 23:19:28,593 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 23:19:28,639 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 23:19:28,838 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:19:28,838 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:19:28,849 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 10 ms
2019-09-07 23:19:28,866 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70e560ef testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@77228160, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@19faa9dc testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@12e8ea81]; rollback [true]
2019-09-07 23:19:29,147 INFO  ru.vladzag.web.user.UserRestController.getRestaurant:53 - User getRestaurant with id: 100005
2019-09-07 23:19:29,297 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70e560ef testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@77228160, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@19faa9dc testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:19:29,302 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:19:29,305 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:19:29,310 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-07 23:19:29,318 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70e560ef testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@5c39da9e, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@19faa9dc testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@12e8ea81]; rollback [true]
2019-09-07 23:19:29,342 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 23:19:29,413 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70e560ef testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@5c39da9e, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@19faa9dc testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:19:29,416 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:19:29,417 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:19:29,420 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-07 23:19:29,424 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70e560ef testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@1f26bd62, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@19faa9dc testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@12e8ea81]; rollback [true]
2019-09-07 23:19:29,444 INFO  ru.vladzag.web.user.UserRestController.getScore:41 - User getScore
2019-09-07 23:19:29,455 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70e560ef testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@1f26bd62, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@19faa9dc testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:19:29,458 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:19:29,461 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:19:29,475 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 9 ms
2019-09-07 23:19:29,481 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70e560ef testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@47a05ad8, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@19faa9dc testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@12e8ea81]; rollback [true]
2019-09-07 23:19:29,506 INFO  ru.vladzag.web.user.UserRestController.createVote:59 - User vote for restaurant with id: 100002
2019-09-07 23:19:29,528 INFO  ru.vladzag.web.user.UserRestController.createVote:59 - User vote for restaurant with id: 100003
2019-09-07 23:19:29,549 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70e560ef testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@47a05ad8, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@19faa9dc testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:19:29,553 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:19:29,554 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:19:29,563 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-07 23:19:29,576 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70e560ef testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@45c73e09, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@19faa9dc testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@12e8ea81]; rollback [true]
2019-09-07 23:19:29,591 INFO  ru.vladzag.web.user.UserRestController.createVote:59 - User vote for restaurant with id: 100002
2019-09-07 23:19:29,606 INFO  ru.vladzag.web.user.UserRestController.updateVote:65 - User updateVote(id: 100010) for restaurant with id: 100003
2019-09-07 23:19:29,610 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70e560ef testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@45c73e09, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@19faa9dc testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:19:29,612 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:19:29,618 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:19:29,631 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-07 23:19:29,642 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70e560ef testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@35d31e1c, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@19faa9dc testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@12e8ea81]; rollback [true]
2019-09-07 23:19:29,656 INFO  ru.vladzag.web.user.UserRestController.createVote:59 - User vote for restaurant with id: 100002
2019-09-07 23:19:29,665 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70e560ef testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@35d31e1c, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@19faa9dc testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:19:29,667 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:19:29,671 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:19:29,678 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-07 23:19:29,683 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70e560ef testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@149bdb4e, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@19faa9dc testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@12e8ea81]; rollback [true]
2019-09-07 23:19:29,709 INFO  ru.vladzag.web.user.UserRestController.createVote:59 - User vote for restaurant with id: 100002
2019-09-07 23:19:29,717 INFO  ru.vladzag.web.user.UserRestController.getScore:41 - User getScore
2019-09-07 23:19:29,754 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70e560ef testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@149bdb4e, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@19faa9dc testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:19:29,775 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 23:19:29,777 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@41a6cd9e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@6915b614, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@2e0d6270, org.springframework.test.context.support.DirtiesContextTestExecutionListener@314b0d53, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4676fcd9, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2975715, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@47ccbbd5, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@2e8417ea]
2019-09-07 23:19:29,789 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-07 23:19:29,790 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-07 23:19:29,889 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 23:19:29,929 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-07 23:19:29,929 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-07 23:19:29,934 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 23:19:30,228 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 23:19:30,499 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 23:19:30,501 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@17524c36, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2f89b44e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@730a140b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2f29046b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2a1fce44, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@48d6248d, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@6b5fdbd0, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@c32908c]
2019-09-07 23:19:30,507 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:19:30,510 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:19:30,524 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 10 ms
2019-09-07 23:19:30,537 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@349469db testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@2c3a2935, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2ca4b010 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@12e8ea81]; rollback [true]
2019-09-07 23:19:30,544 INFO  ru.vladzag.web.admin.AdminRestController.delete:80 - Admin deleteRestaurant with id: 100002
2019-09-07 23:19:30,559 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 23:19:30,569 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@349469db testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@2c3a2935, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2ca4b010 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:19:30,572 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:19:30,573 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:19:30,587 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 9 ms
2019-09-07 23:19:30,595 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@349469db testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@311819e8, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2ca4b010 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@12e8ea81]; rollback [true]
2019-09-07 23:19:30,619 INFO  ru.vladzag.web.admin.AdminRestController.getAll:39 - Admin getAll
2019-09-07 23:19:30,620 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 23:19:30,626 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@349469db testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@311819e8, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2ca4b010 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:19:30,632 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:19:30,636 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:19:30,641 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-07 23:19:30,651 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@349469db testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@31620971, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2ca4b010 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@12e8ea81]; rollback [true]
2019-09-07 23:19:30,661 INFO  ru.vladzag.web.admin.AdminRestController.update:88 - Admin updateRestaurant with id: 100002
2019-09-07 23:19:30,675 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 23:19:30,688 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@349469db testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@31620971, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2ca4b010 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:19:30,695 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:19:30,700 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:19:30,706 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-07 23:19:30,723 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@349469db testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@664c411d, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2ca4b010 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@12e8ea81]; rollback [true]
2019-09-07 23:19:30,752 INFO  ru.vladzag.web.admin.AdminRestController.updateDish:128 - Admin updateDish with id: 100007
2019-09-07 23:19:30,759 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@349469db testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@664c411d, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2ca4b010 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:19:30,761 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:19:30,762 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:19:30,772 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 7 ms
2019-09-07 23:19:30,778 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@349469db testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5854e526, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2ca4b010 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@12e8ea81]; rollback [true]
2019-09-07 23:19:30,789 INFO  ru.vladzag.web.admin.AdminRestController.get:63 - Admin getRestaurant(id: 100005) in date: 2015-05-30
2019-09-07 23:19:30,826 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@349469db testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5854e526, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2ca4b010 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:19:30,833 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:19:30,836 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:19:30,841 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 2 ms
2019-09-07 23:19:30,871 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@349469db testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@4d7a4317, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2ca4b010 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@12e8ea81]; rollback [true]
2019-09-07 23:19:30,879 INFO  ru.vladzag.web.admin.AdminRestController.createDish:118 - Admin createDish with id: 100010
2019-09-07 23:19:30,892 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@349469db testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@4d7a4317, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2ca4b010 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:19:30,893 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:19:30,895 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:19:30,907 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-07 23:19:30,911 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@349469db testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@16750a5e, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2ca4b010 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@12e8ea81]; rollback [true]
2019-09-07 23:19:30,925 INFO  ru.vladzag.web.admin.AdminRestController.delete:80 - Admin deleteRestaurant with id: 100002
2019-09-07 23:19:30,937 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 23:19:30,942 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@349469db testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@16750a5e, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2ca4b010 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:19:30,943 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:19:30,948 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:19:30,953 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-07 23:19:30,962 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@349469db testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@327af731, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2ca4b010 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@12e8ea81]; rollback [true]
2019-09-07 23:19:30,970 INFO  ru.vladzag.web.admin.AdminRestController.getAllHistory:47 - Admin getHistory
2019-09-07 23:19:30,991 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@349469db testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@327af731, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2ca4b010 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:19:30,993 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:19:30,996 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:19:31,008 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 9 ms
2019-09-07 23:19:31,020 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@349469db testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@73136174, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2ca4b010 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@12e8ea81]; rollback [true]
2019-09-07 23:19:31,026 INFO  ru.vladzag.web.admin.AdminRestController.createWithLocation:103 - Admin createRestaurant with id: 100011
2019-09-07 23:19:31,028 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 23:19:31,037 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@349469db testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@73136174, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2ca4b010 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:19:31,080 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 23:19:31,084 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 23:19:31,096 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-07 23:19:31,097 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-07 23:19:31,099 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-07 23:19:31,100 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-07 23:24:00,783 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 23:24:00,846 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@55b5f5d2, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5bfa8cc5, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@666b83a4, org.springframework.test.context.support.DirtiesContextTestExecutionListener@749c877b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@efde75f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@16ecee1, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@3b220bcb, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@2b95e48b]
2019-09-07 23:24:01,409 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-07 23:24:01,414 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 23:24:01,472 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 23:24:01,474 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 23:24:01,511 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 23:24:01,752 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 23:24:01,928 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 153ms. Found 4 repository interfaces.
2019-09-07 23:24:03,257 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-07 23:24:03,263 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-07 23:24:03,269 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-07 23:24:03,274 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-07 23:24:03,327 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 23:24:03,331 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 23:24:03,333 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 23:24:03,334 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 23:24:03,367 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 23:24:03,370 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 23:24:03,372 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 23:24:03,374 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 23:24:03,525 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 23:24:03,640 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-07 23:24:03,825 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-07 23:24:04,400 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 23:24:04,828 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-07 23:24:05,784 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 23:24:05,787 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 23:24:05,843 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 23:24:05,850 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 23:24:06,668 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@63ed5dae, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7f8f5d37, org.springframework.security.web.header.HeaderWriterFilter@3bbc47c9, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5543d800, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@125a8ab6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3085befb, org.springframework.security.web.access.ExceptionTranslationFilter@61f08aa9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5570dc21]
2019-09-07 23:24:08,049 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 23:24:08,051 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@26a004ed, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2b6a4da7, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@75b6bd41, org.springframework.test.context.support.DirtiesContextTestExecutionListener@21457b14, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7e484bd, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7e1ae693, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@3e0600a4, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@341141ab]
2019-09-07 23:24:08,173 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 23:24:08,176 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 23:24:08,177 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 23:24:08,179 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 23:24:08,347 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 23:24:08,377 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 28ms. Found 4 repository interfaces.
2019-09-07 23:24:08,491 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 23:24:08,493 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 23:24:08,495 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 23:24:08,499 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 23:24:08,559 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 23:24:08,575 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 23:24:08,701 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 23:24:08,702 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 23:24:08,715 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 23:24:08,718 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 23:24:08,909 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@5f6b1f19, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@cfe72b0, org.springframework.security.web.header.HeaderWriterFilter@41bc501b, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@301c622d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@69860811, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2086f336, org.springframework.security.web.access.ExceptionTranslationFilter@1a899fcd, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@63024843]
2019-09-07 23:24:09,719 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 23:24:09,766 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 23:24:09,957 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:24:09,958 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:24:09,973 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 13 ms
2019-09-07 23:24:09,983 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@7f9b46ed testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4d0b8b8b, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6f18445b testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5834298c]; rollback [true]
2019-09-07 23:24:10,270 INFO  ru.vladzag.web.user.UserRestController.getRestaurant:53 - User getRestaurant with id: 100005
2019-09-07 23:24:10,433 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@7f9b46ed testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4d0b8b8b, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6f18445b testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:24:10,435 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:24:10,439 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:24:10,446 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-07 23:24:10,450 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@7f9b46ed testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@466f7259, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6f18445b testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5834298c]; rollback [true]
2019-09-07 23:24:10,474 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 23:24:10,555 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@7f9b46ed testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@466f7259, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6f18445b testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:24:10,564 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:24:10,566 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:24:10,576 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 9 ms
2019-09-07 23:24:10,585 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@7f9b46ed testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@46d2be66, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6f18445b testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5834298c]; rollback [true]
2019-09-07 23:24:10,602 INFO  ru.vladzag.web.user.UserRestController.getScore:41 - User getScore
2019-09-07 23:24:10,615 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@7f9b46ed testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@46d2be66, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6f18445b testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:24:10,617 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:24:10,621 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:24:10,632 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 8 ms
2019-09-07 23:24:10,649 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@7f9b46ed testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@79c9a128, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6f18445b testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5834298c]; rollback [true]
2019-09-07 23:24:10,667 INFO  ru.vladzag.web.user.UserRestController.createVote:59 - User vote for restaurant with id: 100002
2019-09-07 23:24:10,694 INFO  ru.vladzag.web.user.UserRestController.createVote:59 - User vote for restaurant with id: 100003
2019-09-07 23:24:10,718 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@7f9b46ed testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@79c9a128, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6f18445b testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:24:10,721 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:24:10,727 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:24:10,733 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-07 23:24:10,748 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@7f9b46ed testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@52e2e426, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6f18445b testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5834298c]; rollback [true]
2019-09-07 23:24:10,760 INFO  ru.vladzag.web.user.UserRestController.createVote:59 - User vote for restaurant with id: 100002
2019-09-07 23:24:10,770 INFO  ru.vladzag.web.user.UserRestController.updateVote:65 - User updateVote(id: 100010) for restaurant with id: 100003
2019-09-07 23:24:10,775 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@7f9b46ed testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@52e2e426, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6f18445b testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:24:10,780 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:24:10,783 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:24:10,799 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 11 ms
2019-09-07 23:24:10,802 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@7f9b46ed testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@3c55e9d4, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6f18445b testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5834298c]; rollback [true]
2019-09-07 23:24:10,816 INFO  ru.vladzag.web.user.UserRestController.createVote:59 - User vote for restaurant with id: 100002
2019-09-07 23:24:10,830 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@7f9b46ed testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@3c55e9d4, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6f18445b testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:24:10,833 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:24:10,835 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:24:10,841 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-07 23:24:10,849 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@7f9b46ed testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@63f609a4, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6f18445b testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5834298c]; rollback [true]
2019-09-07 23:24:10,866 INFO  ru.vladzag.web.user.UserRestController.createVote:59 - User vote for restaurant with id: 100002
2019-09-07 23:24:10,879 INFO  ru.vladzag.web.user.UserRestController.getScore:41 - User getScore
2019-09-07 23:24:10,922 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@7f9b46ed testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@63f609a4, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6f18445b testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:24:10,940 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 23:24:10,941 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@7e7ee3b7, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5d87c8af, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@66d9c846, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2b6d9650, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2287bbd1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@41a6cd9e, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@6915b614, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@2e0d6270]
2019-09-07 23:24:10,951 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-07 23:24:10,955 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-07 23:24:11,016 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 23:24:11,063 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-07 23:24:11,067 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-07 23:24:11,072 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 23:24:11,298 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 23:24:11,615 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 23:24:11,616 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2aa85cc4, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@466fd19b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@348d1a5e, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7f746160, org.springframework.test.context.transaction.TransactionalTestExecutionListener@17524c36, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2f89b44e, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@730a140b, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@2f29046b]
2019-09-07 23:24:11,618 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:24:11,620 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:24:11,627 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-07 23:24:11,631 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6b5fdbd0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@c32908c, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@588b02a0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5834298c]; rollback [true]
2019-09-07 23:24:11,648 INFO  ru.vladzag.web.admin.AdminRestController.delete:80 - Admin deleteRestaurant with id: 100002
2019-09-07 23:24:11,654 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 23:24:11,665 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6b5fdbd0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@c32908c, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@588b02a0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:24:11,676 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:24:11,678 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:24:11,682 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-07 23:24:11,700 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6b5fdbd0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@56f8ab05, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@588b02a0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5834298c]; rollback [true]
2019-09-07 23:24:11,718 INFO  ru.vladzag.web.admin.AdminRestController.getAll:39 - Admin getAll
2019-09-07 23:24:11,721 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 23:24:11,735 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6b5fdbd0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@56f8ab05, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@588b02a0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:24:11,737 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:24:11,738 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:24:11,755 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 11 ms
2019-09-07 23:24:11,760 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6b5fdbd0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@6d1c15cb, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@588b02a0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5834298c]; rollback [true]
2019-09-07 23:24:11,773 INFO  ru.vladzag.web.admin.AdminRestController.update:88 - Admin updateRestaurant with id: 100002
2019-09-07 23:24:11,779 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 23:24:11,788 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6b5fdbd0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@6d1c15cb, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@588b02a0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:24:11,790 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:24:11,792 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:24:11,802 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-07 23:24:11,813 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6b5fdbd0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@655008a2, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@588b02a0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5834298c]; rollback [true]
2019-09-07 23:24:11,853 INFO  ru.vladzag.web.admin.AdminRestController.updateDish:128 - Admin updateDish with id: 100007
2019-09-07 23:24:11,872 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6b5fdbd0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@655008a2, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@588b02a0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:24:11,876 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:24:11,879 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:24:11,885 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-07 23:24:11,896 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6b5fdbd0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@2f341732, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@588b02a0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5834298c]; rollback [true]
2019-09-07 23:24:11,908 INFO  ru.vladzag.web.admin.AdminRestController.get:63 - Admin getRestaurant(id: 100005) in date: 2015-05-30
2019-09-07 23:24:11,927 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6b5fdbd0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@2f341732, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@588b02a0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:24:11,931 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:24:11,933 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:24:11,940 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-07 23:24:11,944 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6b5fdbd0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@34b4c82a, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@588b02a0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5834298c]; rollback [true]
2019-09-07 23:24:11,971 INFO  ru.vladzag.web.admin.AdminRestController.createDish:118 - Admin createDish with id: 100010
2019-09-07 23:24:11,987 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6b5fdbd0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@34b4c82a, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@588b02a0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:24:11,989 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:24:11,993 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:24:12,013 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 15 ms
2019-09-07 23:24:12,016 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6b5fdbd0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@38cbbd0b, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@588b02a0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5834298c]; rollback [true]
2019-09-07 23:24:12,028 INFO  ru.vladzag.web.admin.AdminRestController.delete:80 - Admin deleteRestaurant with id: 100002
2019-09-07 23:24:12,031 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 23:24:12,035 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6b5fdbd0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@38cbbd0b, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@588b02a0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:24:12,045 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:24:12,046 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:24:12,051 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-07 23:24:12,065 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6b5fdbd0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@a479c0c, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@588b02a0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5834298c]; rollback [true]
2019-09-07 23:24:12,080 INFO  ru.vladzag.web.admin.AdminRestController.getAllHistory:47 - Admin getHistory
2019-09-07 23:24:12,128 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6b5fdbd0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@a479c0c, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@588b02a0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:24:12,129 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:24:12,130 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:24:12,144 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 12 ms
2019-09-07 23:24:12,149 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6b5fdbd0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5a75bad4, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@588b02a0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5834298c]; rollback [true]
2019-09-07 23:24:12,164 INFO  ru.vladzag.web.admin.AdminRestController.createWithLocation:103 - Admin createRestaurant with id: 100010
2019-09-07 23:24:12,166 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 23:24:12,175 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6b5fdbd0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5a75bad4, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@588b02a0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:24:12,200 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 23:24:12,209 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 23:24:12,217 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-07 23:24:12,219 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-07 23:24:12,222 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-07 23:24:12,224 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-07 23:30:12,296 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 23:30:12,327 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6c6c5427, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@618c5d94, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5b40ceb, org.springframework.test.context.support.DirtiesContextTestExecutionListener@13c3c1e1, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1d8062d2, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e63ec0b, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@3b956878, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@36546a22]
2019-09-07 23:30:12,766 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-07 23:30:12,770 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 23:30:12,815 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 23:30:12,816 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 23:30:12,844 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 23:30:13,027 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 23:30:13,190 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 129ms. Found 4 repository interfaces.
2019-09-07 23:30:14,406 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-07 23:30:14,411 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-07 23:30:14,415 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-07 23:30:14,420 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-07 23:30:14,462 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 23:30:14,465 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 23:30:14,467 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 23:30:14,469 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 23:30:14,504 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 23:30:14,509 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 23:30:14,511 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 23:30:14,512 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 23:30:14,600 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 23:30:14,755 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-07 23:30:14,995 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-07 23:30:15,691 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 23:30:16,179 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-07 23:30:17,141 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 23:30:17,145 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 23:30:17,202 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 23:30:17,206 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 23:30:17,971 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@1b5cf611, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@65da1cbe, org.springframework.security.web.header.HeaderWriterFilter@96dfcbb, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@30e15628, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@57ac236a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1a712f12, org.springframework.security.web.access.ExceptionTranslationFilter@35d8ba22, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5ec3689b]
2019-09-07 23:30:19,307 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 23:30:19,308 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@360e4235, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1b0fc8b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@61c644fe, org.springframework.test.context.support.DirtiesContextTestExecutionListener@cbaabfb, org.springframework.test.context.transaction.TransactionalTestExecutionListener@48614fb3, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4eb3b690, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@1d01fa0c, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@44bd7f24]
2019-09-07 23:30:19,442 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 23:30:19,445 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 23:30:19,446 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 23:30:19,448 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 23:30:19,639 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 23:30:19,667 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 27ms. Found 4 repository interfaces.
2019-09-07 23:30:19,779 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 23:30:19,781 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 23:30:19,782 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 23:30:19,784 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 23:30:19,847 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 23:30:19,870 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 23:30:19,998 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 23:30:19,999 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 23:30:20,008 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 23:30:20,015 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 23:30:20,207 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@7ef8899d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@60ae950f, org.springframework.security.web.header.HeaderWriterFilter@19f9287a, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2e93f91d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4778c085, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@46d83ec4, org.springframework.security.web.access.ExceptionTranslationFilter@3985175e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4628f386]
2019-09-07 23:30:20,949 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 23:30:21,000 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 23:30:21,192 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:30:21,193 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:30:21,215 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 21 ms
2019-09-07 23:30:21,229 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@38a3c078 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4d6fa22c, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3a5663ef testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@50165a6d]; rollback [true]
2019-09-07 23:30:21,489 INFO  ru.vladzag.web.user.UserRestController.getRestaurant:53 - User getRestaurant with id: 100005
2019-09-07 23:30:21,644 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@38a3c078 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4d6fa22c, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3a5663ef testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:30:21,651 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:30:21,656 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:30:21,660 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-07 23:30:21,667 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@38a3c078 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@25a81f28, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3a5663ef testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@50165a6d]; rollback [true]
2019-09-07 23:30:21,680 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 23:30:21,746 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@38a3c078 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@25a81f28, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3a5663ef testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:30:21,750 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:30:21,754 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:30:21,762 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-07 23:30:21,774 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@38a3c078 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@76d654, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3a5663ef testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@50165a6d]; rollback [true]
2019-09-07 23:30:21,790 INFO  ru.vladzag.web.user.UserRestController.getScore:41 - User getScore
2019-09-07 23:30:21,799 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@38a3c078 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@76d654, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3a5663ef testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:30:21,801 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:30:21,810 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:30:21,813 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-07 23:30:21,826 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@38a3c078 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4ec78008, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3a5663ef testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@50165a6d]; rollback [true]
2019-09-07 23:30:21,853 INFO  ru.vladzag.web.user.UserRestController.createVote:59 - User vote for restaurant with id: 100002
2019-09-07 23:30:21,891 INFO  ru.vladzag.web.user.UserRestController.createVote:59 - User vote for restaurant with id: 100003
2019-09-07 23:30:21,903 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@38a3c078 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4ec78008, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3a5663ef testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:30:21,905 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:30:21,910 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:30:21,917 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-07 23:30:21,930 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@38a3c078 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@3a2b1f24, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3a5663ef testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@50165a6d]; rollback [true]
2019-09-07 23:30:21,944 INFO  ru.vladzag.web.user.UserRestController.createVote:59 - User vote for restaurant with id: 100002
2019-09-07 23:30:21,954 INFO  ru.vladzag.web.user.UserRestController.updateVote:65 - User updateVote(id: 100010) for restaurant with id: 100003
2019-09-07 23:30:21,959 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@38a3c078 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@3a2b1f24, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3a5663ef testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:30:21,961 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:30:21,963 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:30:21,988 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 22 ms
2019-09-07 23:30:21,995 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@38a3c078 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@3533b614, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3a5663ef testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@50165a6d]; rollback [true]
2019-09-07 23:30:22,015 INFO  ru.vladzag.web.user.UserRestController.createVote:59 - User vote for restaurant with id: 100002
2019-09-07 23:30:22,028 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@38a3c078 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@3533b614, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3a5663ef testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:30:22,032 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:30:22,035 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:30:22,041 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-07 23:30:22,062 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@38a3c078 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@26fee641, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3a5663ef testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@50165a6d]; rollback [true]
2019-09-07 23:30:22,076 INFO  ru.vladzag.web.user.UserRestController.createVote:59 - User vote for restaurant with id: 100002
2019-09-07 23:30:22,086 INFO  ru.vladzag.web.user.UserRestController.getScore:41 - User getScore
2019-09-07 23:30:22,123 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@38a3c078 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@26fee641, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3a5663ef testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:30:22,141 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 23:30:22,142 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4b7704ec, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@39d6504b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@4dbeae45, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1bad5ab3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@688e6d4e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@63513c1c, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@5b256ab5, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@2a2cdba0]
2019-09-07 23:30:22,156 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-07 23:30:22,157 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-07 23:30:22,236 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 23:30:22,289 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-07 23:30:22,290 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-07 23:30:22,292 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 23:30:22,538 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 23:30:22,791 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 23:30:22,792 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2c3a2935, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2ca4b010, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@83b39c3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1f7653ae, org.springframework.test.context.transaction.TransactionalTestExecutionListener@62f8b2f4, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6bd5aa8b, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@3af17313, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@1737acc0]
2019-09-07 23:30:22,794 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:30:22,795 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:30:22,798 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-07 23:30:22,805 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@47e02a89 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@6d9bcf19, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@23b4f0a9 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@50165a6d]; rollback [true]
2019-09-07 23:30:22,813 INFO  ru.vladzag.web.admin.AdminRestController.delete:80 - Admin deleteRestaurant with id: 100002
2019-09-07 23:30:22,824 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 23:30:22,828 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@47e02a89 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@6d9bcf19, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@23b4f0a9 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:30:22,833 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:30:22,838 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:30:22,849 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 9 ms
2019-09-07 23:30:22,858 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@47e02a89 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@36c8e1c6, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@23b4f0a9 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@50165a6d]; rollback [true]
2019-09-07 23:30:22,863 INFO  ru.vladzag.web.admin.AdminRestController.getAll:39 - Admin getAll
2019-09-07 23:30:22,864 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 23:30:22,874 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@47e02a89 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@36c8e1c6, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@23b4f0a9 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:30:22,876 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:30:22,879 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:30:22,889 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 7 ms
2019-09-07 23:30:22,894 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@47e02a89 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@438a2337, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@23b4f0a9 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@50165a6d]; rollback [true]
2019-09-07 23:30:22,909 INFO  ru.vladzag.web.admin.AdminRestController.update:88 - Admin updateRestaurant with id: 100002
2019-09-07 23:30:22,914 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 23:30:22,929 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@47e02a89 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@438a2337, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@23b4f0a9 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:30:22,934 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:30:22,939 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:30:22,964 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 19 ms
2019-09-07 23:30:22,976 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@47e02a89 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7108b12d, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@23b4f0a9 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@50165a6d]; rollback [true]
2019-09-07 23:30:23,011 INFO  ru.vladzag.web.admin.AdminRestController.updateDish:128 - Admin updateDish with id: 100007
2019-09-07 23:30:23,019 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@47e02a89 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7108b12d, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@23b4f0a9 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:30:23,021 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:30:23,026 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:30:23,036 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 9 ms
2019-09-07 23:30:23,046 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@47e02a89 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7720334e, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@23b4f0a9 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@50165a6d]; rollback [true]
2019-09-07 23:30:23,059 INFO  ru.vladzag.web.admin.AdminRestController.get:63 - Admin getRestaurant(id: 100005) in date: 2015-05-30
2019-09-07 23:30:23,076 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@47e02a89 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7720334e, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@23b4f0a9 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:30:23,081 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:30:23,085 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:30:23,098 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-07 23:30:23,113 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@47e02a89 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@48611ad4, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@23b4f0a9 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@50165a6d]; rollback [true]
2019-09-07 23:30:23,127 INFO  ru.vladzag.web.admin.AdminRestController.createDish:118 - Admin createDish with id: 100010
2019-09-07 23:30:23,134 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@47e02a89 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@48611ad4, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@23b4f0a9 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:30:23,140 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:30:23,142 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:30:23,150 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-07 23:30:23,156 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@47e02a89 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5acc6ca1, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@23b4f0a9 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@50165a6d]; rollback [true]
2019-09-07 23:30:23,178 INFO  ru.vladzag.web.admin.AdminRestController.delete:80 - Admin deleteRestaurant with id: 100002
2019-09-07 23:30:23,182 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 23:30:23,189 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@47e02a89 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5acc6ca1, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@23b4f0a9 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:30:23,191 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:30:23,194 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:30:23,206 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 7 ms
2019-09-07 23:30:23,218 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@47e02a89 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@106e816c, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@23b4f0a9 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@50165a6d]; rollback [true]
2019-09-07 23:30:23,232 INFO  ru.vladzag.web.admin.AdminRestController.getAllHistory:47 - Admin getHistory
2019-09-07 23:30:23,249 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@47e02a89 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@106e816c, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@23b4f0a9 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:30:23,251 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:30:23,256 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:30:23,276 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 18 ms
2019-09-07 23:30:23,282 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@47e02a89 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@1d63f6be, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@23b4f0a9 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@50165a6d]; rollback [true]
2019-09-07 23:30:23,295 INFO  ru.vladzag.web.admin.AdminRestController.createWithLocation:103 - Admin createRestaurant with id: 100010
2019-09-07 23:30:23,297 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:45 - RestaurantCrudRepo getAll() cache check
2019-09-07 23:30:23,303 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@47e02a89 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@1d63f6be, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@23b4f0a9 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:30:23,327 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 23:30:23,329 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 23:30:23,347 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-07 23:30:23,349 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-07 23:30:23,351 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-07 23:30:23,354 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-07 23:39:32,415 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-07 23:39:32,923 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-07 23:39:32,932 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 23:39:33,001 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 23:39:33,002 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 23:39:33,037 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 23:39:33,319 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 23:39:33,577 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 218ms. Found 4 repository interfaces.
2019-09-07 23:39:35,642 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-07 23:39:35,647 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-07 23:39:35,651 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-07 23:39:35,655 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-07 23:39:35,708 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-07 23:39:35,712 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 23:39:35,713 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 23:39:35,715 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-07 23:39:35,763 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-07 23:39:35,765 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 23:39:35,766 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 23:39:35,766 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-07 23:39:35,994 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 23:39:36,175 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-07 23:39:36,524 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-07 23:39:37,288 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 23:39:38,065 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-07 23:39:39,583 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 23:39:39,589 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 23:39:39,648 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 23:39:39,651 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 23:39:40,697 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@68f82d60, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@78a3ea52, org.springframework.security.web.header.HeaderWriterFilter@5671afc8, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2caa252f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7f2e14dc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6839483f, org.springframework.security.web.access.ExceptionTranslationFilter@5921afe4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4a056782]
2019-09-07 23:39:41,595 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 9174 ms
2019-09-07 23:39:41,645 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-07 23:39:43,002 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 23:39:43,046 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 23:39:43,129 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1484 ms
2019-09-07 23:40:13,980 INFO  ru.vladzag.web.admin.AdminRestController.createDish:118 - Admin createDish with id: 100010
2019-09-07 23:40:48,423 INFO  ru.vladzag.web.admin.AdminRestController.get:59 - Admin getRestaurant(id: 100002) with all dishes and votes
2019-09-07 23:43:56,229 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-07 23:43:56,685 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-07 23:43:56,694 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 23:43:56,761 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 23:43:56,764 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 23:43:56,798 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 23:43:57,081 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 23:43:57,311 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 202ms. Found 4 repository interfaces.
2019-09-07 23:43:59,884 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-07 23:43:59,891 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-07 23:43:59,896 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-07 23:43:59,901 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-07 23:44:00,043 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-07 23:44:00,055 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 23:44:00,057 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 23:44:00,059 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-07 23:44:00,135 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-07 23:44:00,141 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 23:44:00,146 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 23:44:00,155 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-07 23:44:00,511 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 23:44:00,730 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-07 23:44:01,216 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-07 23:44:02,287 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 23:44:03,502 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-07 23:44:06,159 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 23:44:06,164 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 23:44:06,291 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 23:44:06,296 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 23:44:07,803 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@8cfe31b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@60660007, org.springframework.security.web.header.HeaderWriterFilter@3ab5a00e, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2d129f1d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@564b0016, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1f08231f, org.springframework.security.web.access.ExceptionTranslationFilter@4b15c44, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2c3c03ad]
2019-09-07 23:44:09,034 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 12800 ms
2019-09-07 23:44:09,087 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-07 23:44:10,354 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 23:44:10,410 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 23:44:10,497 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1410 ms
2019-09-07 23:44:14,194 INFO  ru.vladzag.web.admin.AdminRestController.get:59 - Admin getRestaurant(id: 100002) with all dishes and votes
2019-09-07 23:44:18,565 INFO  ru.vladzag.web.admin.AdminRestController.createDish:118 - Admin createDish with id: 100010
2019-09-07 23:44:38,696 INFO  ru.vladzag.web.admin.AdminRestController.get:59 - Admin getRestaurant(id: 100002) with all dishes and votes
2019-09-07 23:45:24,382 INFO  ru.vladzag.web.admin.AdminRestController.createDish:118 - Admin createDish with id: 100011
2019-09-07 23:45:27,097 INFO  ru.vladzag.web.admin.AdminRestController.get:59 - Admin getRestaurant(id: 100002) with all dishes and votes
2019-09-07 23:49:49,451 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 23:49:49,502 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@55b5f5d2, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5bfa8cc5, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@666b83a4, org.springframework.test.context.support.DirtiesContextTestExecutionListener@749c877b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@efde75f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@16ecee1, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@3b220bcb, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@2b95e48b]
2019-09-07 23:49:50,059 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-07 23:49:50,063 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 23:49:50,110 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 23:49:50,111 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 23:49:50,150 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 23:49:50,370 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 23:49:50,598 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 199ms. Found 4 repository interfaces.
2019-09-07 23:49:51,937 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-07 23:49:51,941 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-07 23:49:51,946 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-07 23:49:51,950 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-07 23:49:52,000 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 23:49:52,004 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 23:49:52,006 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 23:49:52,008 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 23:49:52,051 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 23:49:52,054 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 23:49:52,055 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 23:49:52,056 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 23:49:52,184 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 23:49:52,355 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-07 23:49:52,562 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-07 23:49:53,200 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 23:49:53,667 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-07 23:49:54,581 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 23:49:54,585 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 23:49:54,632 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 23:49:54,637 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 23:49:55,464 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@63ed5dae, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7f8f5d37, org.springframework.security.web.header.HeaderWriterFilter@3bbc47c9, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5543d800, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@125a8ab6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3085befb, org.springframework.security.web.access.ExceptionTranslationFilter@61f08aa9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5570dc21]
2019-09-07 23:49:56,758 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 23:49:56,759 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@85b9f9c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@26a004ed, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@2b6a4da7, org.springframework.test.context.support.DirtiesContextTestExecutionListener@75b6bd41, org.springframework.test.context.transaction.TransactionalTestExecutionListener@21457b14, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7e484bd, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@7e1ae693, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@3e0600a4]
2019-09-07 23:49:56,921 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-07 23:49:56,924 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-07 23:49:56,925 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-07 23:49:56,927 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-07 23:49:57,113 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-07 23:49:57,139 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 25ms. Found 4 repository interfaces.
2019-09-07 23:49:57,252 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-07 23:49:57,255 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-07 23:49:57,257 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-07 23:49:57,258 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-07 23:49:57,326 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-07 23:49:57,344 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-07 23:49:57,466 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-07 23:49:57,467 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 23:49:57,478 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-07 23:49:57,482 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-07 23:49:57,661 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@3894d1b1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@253c7189, org.springframework.security.web.header.HeaderWriterFilter@7ef8899d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@301c622d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@69860811, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2086f336, org.springframework.security.web.access.ExceptionTranslationFilter@1a899fcd, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@63024843]
2019-09-07 23:49:58,477 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 23:49:58,534 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-07 23:49:58,711 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:49:58,711 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:49:58,722 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 10 ms
2019-09-07 23:49:58,733 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@7f9b46ed testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4d0b8b8b, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6f18445b testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5834298c]; rollback [true]
2019-09-07 23:49:59,000 INFO  ru.vladzag.web.user.UserRestController.getRestaurant:53 - User getRestaurant with id: 100005
2019-09-07 23:49:59,157 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@7f9b46ed testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4d0b8b8b, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6f18445b testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:49:59,163 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:49:59,165 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:49:59,170 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-07 23:49:59,180 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@7f9b46ed testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@ab5954d, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6f18445b testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5834298c]; rollback [true]
2019-09-07 23:49:59,198 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:46 - RestaurantCrudRepo getAll() cache check
2019-09-07 23:49:59,265 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@7f9b46ed testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@ab5954d, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6f18445b testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:49:59,267 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:49:59,274 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:49:59,281 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-07 23:49:59,291 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@7f9b46ed testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@1131fcfd, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6f18445b testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5834298c]; rollback [true]
2019-09-07 23:49:59,313 INFO  ru.vladzag.web.user.UserRestController.getScore:41 - User getScore
2019-09-07 23:49:59,320 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@7f9b46ed testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@1131fcfd, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6f18445b testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:49:59,325 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:49:59,326 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:49:59,335 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-07 23:49:59,347 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@7f9b46ed testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@7892635c, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6f18445b testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5834298c]; rollback [true]
2019-09-07 23:49:59,378 INFO  ru.vladzag.web.user.UserRestController.createVote:59 - User vote for restaurant with id: 100002
2019-09-07 23:49:59,413 INFO  ru.vladzag.web.user.UserRestController.createVote:59 - User vote for restaurant with id: 100003
2019-09-07 23:49:59,430 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@7f9b46ed testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@7892635c, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6f18445b testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:49:59,442 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:49:59,444 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:49:59,448 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 2 ms
2019-09-07 23:49:59,461 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@7f9b46ed testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@ca31ad7, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6f18445b testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5834298c]; rollback [true]
2019-09-07 23:49:59,472 INFO  ru.vladzag.web.user.UserRestController.createVote:59 - User vote for restaurant with id: 100002
2019-09-07 23:49:59,481 INFO  ru.vladzag.web.user.UserRestController.updateVote:65 - User updateVote(id: 100010) for restaurant with id: 100003
2019-09-07 23:49:59,486 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@7f9b46ed testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@ca31ad7, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6f18445b testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:49:59,488 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:49:59,494 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:49:59,501 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-07 23:49:59,520 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@7f9b46ed testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4194a77f, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6f18445b testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5834298c]; rollback [true]
2019-09-07 23:49:59,544 INFO  ru.vladzag.web.user.UserRestController.createVote:59 - User vote for restaurant with id: 100002
2019-09-07 23:49:59,554 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@7f9b46ed testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4194a77f, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6f18445b testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:49:59,556 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:49:59,559 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:49:59,569 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-07 23:49:59,583 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@7f9b46ed testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@594793d1, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6f18445b testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5834298c]; rollback [true]
2019-09-07 23:49:59,598 INFO  ru.vladzag.web.user.UserRestController.createVote:59 - User vote for restaurant with id: 100002
2019-09-07 23:49:59,606 INFO  ru.vladzag.web.user.UserRestController.getScore:41 - User getScore
2019-09-07 23:49:59,630 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@7f9b46ed testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@594793d1, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6f18445b testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:49:59,652 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 23:49:59,654 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5da20b76, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7e7ee3b7, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5d87c8af, org.springframework.test.context.support.DirtiesContextTestExecutionListener@66d9c846, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2b6d9650, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2287bbd1, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@41a6cd9e, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@6915b614]
2019-09-07 23:49:59,668 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-07 23:49:59,669 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-07 23:49:59,752 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:46 - RestaurantCrudRepo getAll() cache check
2019-09-07 23:49:59,785 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-07 23:49:59,786 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-07 23:49:59,787 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:46 - RestaurantCrudRepo getAll() cache check
2019-09-07 23:50:00,059 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:46 - RestaurantCrudRepo getAll() cache check
2019-09-07 23:50:00,278 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-07 23:50:00,281 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1495f70, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2aa85cc4, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@466fd19b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@348d1a5e, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7f746160, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@17524c36, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@2f89b44e, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@730a140b]
2019-09-07 23:50:00,289 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:50:00,291 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:50:00,293 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 1 ms
2019-09-07 23:50:00,300 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@48d6248d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@6b5fdbd0, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@c32908c testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5834298c]; rollback [true]
2019-09-07 23:50:00,314 INFO  ru.vladzag.web.admin.AdminRestController.delete:80 - Admin deleteRestaurant with id: 100002
2019-09-07 23:50:00,320 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:46 - RestaurantCrudRepo getAll() cache check
2019-09-07 23:50:00,325 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@48d6248d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@6b5fdbd0, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@c32908c testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:50:00,327 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:50:00,333 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:50:00,348 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 12 ms
2019-09-07 23:50:00,359 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@48d6248d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@108a7fff, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@c32908c testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5834298c]; rollback [true]
2019-09-07 23:50:00,385 INFO  ru.vladzag.web.admin.AdminRestController.getAll:39 - Admin getAll
2019-09-07 23:50:00,386 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:46 - RestaurantCrudRepo getAll() cache check
2019-09-07 23:50:00,398 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@48d6248d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@108a7fff, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@c32908c testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:50:00,400 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:50:00,403 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:50:00,418 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 8 ms
2019-09-07 23:50:00,435 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@48d6248d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7d440378, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@c32908c testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5834298c]; rollback [true]
2019-09-07 23:50:00,448 INFO  ru.vladzag.web.admin.AdminRestController.update:88 - Admin updateRestaurant with id: 100002
2019-09-07 23:50:00,452 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:46 - RestaurantCrudRepo getAll() cache check
2019-09-07 23:50:00,461 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@48d6248d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7d440378, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@c32908c testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:50:00,464 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:50:00,468 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:50:00,487 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 18 ms
2019-09-07 23:50:00,494 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@48d6248d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@6b02909d, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@c32908c testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5834298c]; rollback [true]
2019-09-07 23:50:00,533 INFO  ru.vladzag.web.admin.AdminRestController.updateDish:128 - Admin updateDish with id: 100007
2019-09-07 23:50:00,540 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@48d6248d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@6b02909d, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@c32908c testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:50:00,546 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:50:00,548 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:50:00,553 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-07 23:50:00,568 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@48d6248d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@1fcef7, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@c32908c testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5834298c]; rollback [true]
2019-09-07 23:50:00,580 INFO  ru.vladzag.web.admin.AdminRestController.get:63 - Admin getRestaurant(id: 100005) in date: 2015-05-30
2019-09-07 23:50:00,595 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@48d6248d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@1fcef7, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@c32908c testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:50:00,597 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:50:00,601 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:50:00,611 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 8 ms
2019-09-07 23:50:00,613 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@48d6248d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@63c07eaf, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@c32908c testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5834298c]; rollback [true]
2019-09-07 23:50:00,638 INFO  ru.vladzag.web.admin.AdminRestController.createDish:118 - Admin createDish with id: 100010
2019-09-07 23:50:00,651 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@48d6248d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@63c07eaf, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@c32908c testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:50:00,653 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:50:00,654 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:50:00,679 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 22 ms
2019-09-07 23:50:00,683 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@48d6248d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@4540aade, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@c32908c testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5834298c]; rollback [true]
2019-09-07 23:50:00,694 INFO  ru.vladzag.web.admin.AdminRestController.delete:80 - Admin deleteRestaurant with id: 100002
2019-09-07 23:50:00,700 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:46 - RestaurantCrudRepo getAll() cache check
2019-09-07 23:50:00,704 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@48d6248d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@4540aade, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@c32908c testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:50:00,715 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:50:00,716 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:50:00,719 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 2 ms
2019-09-07 23:50:00,724 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@48d6248d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@100235c7, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@c32908c testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5834298c]; rollback [true]
2019-09-07 23:50:00,734 INFO  ru.vladzag.web.admin.AdminRestController.getAllHistory:47 - Admin getHistory
2019-09-07 23:50:00,753 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@48d6248d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@100235c7, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@c32908c testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:50:00,755 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-07 23:50:00,756 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-07 23:50:00,767 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 7 ms
2019-09-07 23:50:00,773 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@48d6248d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@623cd12e, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@c32908c testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5834298c]; rollback [true]
2019-09-07 23:50:00,784 INFO  ru.vladzag.web.admin.AdminRestController.createWithLocation:103 - Admin createRestaurant with id: 100010
2019-09-07 23:50:00,786 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:46 - RestaurantCrudRepo getAll() cache check
2019-09-07 23:50:00,796 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@48d6248d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@623cd12e, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@c32908c testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-07 23:50:00,817 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 23:50:00,824 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-07 23:50:00,838 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-07 23:50:00,841 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-07 23:50:00,843 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-07 23:50:00,844 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
