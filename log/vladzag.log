2019-09-02 22:54:15,494 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-02 22:54:16,094 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-02 22:54:16,111 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-02 22:54:16,184 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /admin/**
2019-09-02 22:54:16,186 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-02 22:54:16,233 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-02 22:54:16,687 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-02 22:54:16,933 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 209ms. Found 4 repository interfaces.
2019-09-02 22:54:19,018 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-02 22:54:19,026 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-02 22:54:19,030 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-02 22:54:19,035 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-02 22:54:19,106 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-02 22:54:19,109 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-02 22:54:19,110 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-02 22:54:19,111 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-02 22:54:19,159 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-02 22:54:19,161 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-02 22:54:19,162 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-02 22:54:19,163 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-02 22:54:19,390 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-02 22:54:19,567 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-02 22:54:19,904 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-02 22:54:20,738 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-02 22:54:21,582 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-02 22:54:23,197 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-02 22:54:23,203 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-02 22:54:23,277 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-02 22:54:23,280 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-02 22:54:24,682 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@36648478, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58ffcd3b, org.springframework.security.web.header.HeaderWriterFilter@77883829, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1a79a6af, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@605bdc9e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@59cf15ba, org.springframework.security.web.access.ExceptionTranslationFilter@3f2633b4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3f412a5a]
2019-09-02 22:54:25,399 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 9897 ms
2019-09-02 22:54:25,460 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-02 22:54:26,806 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-02 22:54:26,859 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-02 22:54:26,961 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1500 ms
2019-09-02 22:55:04,517 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-02 22:55:04,550 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@66ce957f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@55b5f5d2, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5bfa8cc5, org.springframework.test.context.support.DirtiesContextTestExecutionListener@666b83a4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@749c877b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@efde75f]
2019-09-02 22:55:05,172 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-02 22:55:05,184 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-02 22:55:05,248 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /admin/**
2019-09-02 22:55:05,250 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-02 22:55:05,283 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-02 22:55:05,493 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-02 22:55:05,678 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 160ms. Found 4 repository interfaces.
2019-09-02 22:55:07,071 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-02 22:55:07,076 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-02 22:55:07,083 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-02 22:55:07,089 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-02 22:55:07,132 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-02 22:55:07,136 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-02 22:55:07,138 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-02 22:55:07,140 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-02 22:55:07,172 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-02 22:55:07,175 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-02 22:55:07,176 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-02 22:55:07,178 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-02 22:55:07,292 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-02 22:55:07,418 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-02 22:55:07,708 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-02 22:55:08,354 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-02 22:55:08,875 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-02 22:55:09,889 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-02 22:55:09,892 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-02 22:55:09,954 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-02 22:55:09,958 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-02 22:55:11,094 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@5f65e0c0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@34d11c92, org.springframework.security.web.header.HeaderWriterFilter@403cff1c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@160cf225, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@712c9bcf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7fb02606, org.springframework.security.web.access.ExceptionTranslationFilter@1fdd5517, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1af6d656]
2019-09-02 22:55:12,410 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-02 22:55:12,411 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@85b9f9c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@26a004ed, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@2b6a4da7, org.springframework.test.context.support.DirtiesContextTestExecutionListener@75b6bd41, org.springframework.test.context.transaction.TransactionalTestExecutionListener@21457b14, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7e484bd]
2019-09-02 22:55:12,538 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-02 22:55:12,540 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /admin/**
2019-09-02 22:55:12,541 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-02 22:55:12,543 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-02 22:55:12,737 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-02 22:55:12,765 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 27ms. Found 4 repository interfaces.
2019-09-02 22:55:12,872 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-02 22:55:12,874 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-02 22:55:12,876 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-02 22:55:12,881 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-02 22:55:12,957 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-02 22:55:12,974 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-02 22:55:13,073 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-02 22:55:13,074 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-02 22:55:13,083 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-02 22:55:13,086 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-02 22:55:13,245 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@2c8f7d6a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@98a0842, org.springframework.security.web.header.HeaderWriterFilter@153c69bc, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@22decfa2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@19a799cb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2e93f91d, org.springframework.security.web.access.ExceptionTranslationFilter@41623694, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1798c749]
2019-09-02 22:55:14,081 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-02 22:55:14,115 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-02 22:55:14,250 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-02 22:55:14,251 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-02 22:55:14,270 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 18 ms
2019-09-02 22:55:14,289 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@58a93f51 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@56589f00, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3ce4b0a8 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@628d6320]; rollback [true]
2019-09-02 22:55:14,621 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@58a93f51 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@56589f00, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3ce4b0a8 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-02 22:55:14,627 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-02 22:55:14,628 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-02 22:55:14,644 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 11 ms
2019-09-02 22:55:14,656 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@58a93f51 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4707d60a, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3ce4b0a8 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@628d6320]; rollback [true]
2019-09-02 22:55:14,737 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@58a93f51 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4707d60a, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3ce4b0a8 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-02 22:55:14,739 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-02 22:55:14,746 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-02 22:55:14,754 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-02 22:55:14,761 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@58a93f51 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@642693c2, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3ce4b0a8 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@628d6320]; rollback [true]
2019-09-02 22:55:14,777 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@58a93f51 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@642693c2, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3ce4b0a8 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-02 22:55:14,779 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-02 22:55:14,786 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-02 22:55:14,795 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 7 ms
2019-09-02 22:55:14,805 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@58a93f51 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@72499396, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3ce4b0a8 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@628d6320]; rollback [true]
2019-09-02 22:55:14,848 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@58a93f51 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@72499396, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3ce4b0a8 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-02 22:55:14,851 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-02 22:55:14,860 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-02 22:55:14,875 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-02 22:55:14,884 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@58a93f51 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@44aaa987, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3ce4b0a8 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@628d6320]; rollback [true]
2019-09-02 22:55:14,918 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@58a93f51 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@44aaa987, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3ce4b0a8 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-02 22:55:14,926 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-02 22:55:14,928 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-02 22:55:14,942 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 10 ms
2019-09-02 22:55:14,950 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@58a93f51 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4dfe5727, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3ce4b0a8 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@628d6320]; rollback [true]
2019-09-02 22:55:14,986 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@58a93f51 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4dfe5727, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3ce4b0a8 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-02 22:55:15,002 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-02 22:55:15,004 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-02 22:55:15,009 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-02 22:55:15,015 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@58a93f51 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@48682f91, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3ce4b0a8 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@628d6320]; rollback [true]
2019-09-02 22:55:15,090 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@58a93f51 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@48682f91, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3ce4b0a8 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-02 22:55:15,108 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-02 22:55:15,109 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@7d364bce, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1aa7d66e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5cc85ffc, org.springframework.test.context.support.DirtiesContextTestExecutionListener@189f2184, org.springframework.test.context.transaction.TransactionalTestExecutionListener@57386162, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7388d94d]
2019-09-02 22:55:15,125 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-02 22:55:15,126 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-02 22:55:15,257 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-02 22:55:15,259 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-02 22:55:15,862 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-02 22:55:15,863 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@336b7da4, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@6019ce4b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@1e79b0fc, org.springframework.test.context.support.DirtiesContextTestExecutionListener@36e8fefe, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5e8633da, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@70c3c5d7]
2019-09-02 22:55:15,873 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-02 22:55:15,874 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-02 22:55:15,878 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-02 22:55:15,889 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3df79197 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@53741683, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@36134f3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@628d6320]; rollback [true]
2019-09-02 22:55:15,916 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3df79197 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@53741683, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@36134f3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-02 22:55:15,924 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-02 22:55:15,925 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-02 22:55:15,941 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 15 ms
2019-09-02 22:55:15,952 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3df79197 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@9be2897, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@36134f3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@628d6320]; rollback [true]
2019-09-02 22:55:15,999 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3df79197 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@9be2897, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@36134f3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-02 22:55:16,006 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-02 22:55:16,008 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-02 22:55:16,012 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-02 22:55:16,028 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3df79197 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@c52c362, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@36134f3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@628d6320]; rollback [true]
2019-09-02 22:55:16,106 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3df79197 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@c52c362, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@36134f3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-02 22:55:16,108 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-02 22:55:16,109 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-02 22:55:16,122 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 10 ms
2019-09-02 22:55:16,125 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3df79197 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@23b62cc3, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@36134f3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@628d6320]; rollback [true]
2019-09-02 22:55:16,154 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3df79197 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@23b62cc3, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@36134f3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-02 22:55:16,156 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-02 22:55:16,162 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-02 22:55:16,170 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-02 22:55:16,173 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3df79197 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5c6fae3c, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@36134f3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@628d6320]; rollback [true]
2019-09-02 22:55:16,208 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3df79197 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5c6fae3c, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@36134f3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-02 22:55:16,210 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-02 22:55:16,213 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-02 22:55:16,230 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 8 ms
2019-09-02 22:55:16,238 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3df79197 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@688884e, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@36134f3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@628d6320]; rollback [true]
2019-09-02 22:55:16,257 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3df79197 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@688884e, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@36134f3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-02 22:55:16,264 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-02 22:55:16,266 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-02 22:55:16,276 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-02 22:55:16,279 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3df79197 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@2d05d022, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@36134f3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@628d6320]; rollback [true]
2019-09-02 22:55:16,303 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3df79197 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@2d05d022, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@36134f3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-02 22:55:16,304 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-02 22:55:16,305 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-02 22:55:16,314 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-02 22:55:16,324 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3df79197 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@588b02a0, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@36134f3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@628d6320]; rollback [true]
2019-09-02 22:55:16,346 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3df79197 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@588b02a0, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@36134f3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-02 22:55:16,354 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-02 22:55:16,356 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-02 22:55:16,362 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-02 22:55:16,364 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3df79197 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@597f2d3f, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@36134f3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@628d6320]; rollback [true]
2019-09-02 22:55:16,389 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3df79197 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@597f2d3f, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@36134f3 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-02 22:55:16,414 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-02 22:55:16,425 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-02 22:55:16,446 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-02 22:55:16,449 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-02 22:55:16,451 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-02 22:55:16,453 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-02 22:57:12,253 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-02 22:57:12,732 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-02 22:57:12,740 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-02 22:57:12,808 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /admin/**
2019-09-02 22:57:12,810 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-02 22:57:12,846 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-02 22:57:13,136 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-02 22:57:13,400 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 226ms. Found 4 repository interfaces.
2019-09-02 22:57:15,286 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-02 22:57:15,292 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-02 22:57:15,296 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-02 22:57:15,300 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-02 22:57:15,365 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-02 22:57:15,368 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-02 22:57:15,370 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-02 22:57:15,371 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-02 22:57:15,417 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-02 22:57:15,419 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-02 22:57:15,421 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-02 22:57:15,422 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-02 22:57:15,645 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-02 22:57:15,850 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-02 22:57:16,194 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-02 22:57:16,967 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-02 22:57:17,714 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-02 22:57:19,336 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-02 22:57:19,341 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-02 22:57:19,405 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-02 22:57:19,408 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-02 22:57:20,851 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@152a8e00, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1509a039, org.springframework.security.web.header.HeaderWriterFilter@43c3d0db, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@348bcce5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@11ab0989, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@18b67c03, org.springframework.security.web.access.ExceptionTranslationFilter@790e5af0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5c0fb499]
2019-09-02 22:57:22,134 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 9871 ms
2019-09-02 22:57:22,362 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-02 22:57:23,843 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-02 22:57:23,891 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-02 22:57:23,972 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1606 ms
2019-09-02 22:59:56,656 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-02 22:59:57,239 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-02 22:59:57,248 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-02 22:59:57,316 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /admin/**
2019-09-02 22:59:57,318 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-02 22:59:57,360 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-02 22:59:57,712 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-02 22:59:57,997 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 227ms. Found 4 repository interfaces.
2019-09-02 23:00:00,060 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-02 23:00:00,067 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-02 23:00:00,071 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-02 23:00:00,078 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-02 23:00:00,150 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-02 23:00:00,154 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-02 23:00:00,155 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-02 23:00:00,158 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-02 23:00:00,208 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-02 23:00:00,211 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-02 23:00:00,212 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-02 23:00:00,213 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-02 23:00:00,448 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-02 23:00:00,632 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-02 23:00:01,027 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-02 23:00:01,944 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-02 23:00:02,833 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-02 23:00:04,806 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-02 23:00:04,812 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-02 23:00:04,891 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-02 23:00:04,895 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-02 23:00:06,338 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@6f51560e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@517ee6c6, org.springframework.security.web.header.HeaderWriterFilter@1fa33aa5, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7b6d26ba, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7980aadc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1c8a5ee0, org.springframework.security.web.access.ExceptionTranslationFilter@464d7a8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@111878fd]
2019-09-02 23:00:07,158 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 10495 ms
2019-09-02 23:00:07,210 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-02 23:00:08,667 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-02 23:00:08,747 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-02 23:00:08,870 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1659 ms
2019-09-02 23:01:01,277 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-02 23:01:01,762 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-02 23:01:01,770 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-02 23:01:01,839 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /admin/**
2019-09-02 23:01:01,842 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-02 23:01:01,893 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-02 23:01:02,236 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-02 23:01:02,522 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 248ms. Found 4 repository interfaces.
2019-09-02 23:01:06,027 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-02 23:01:06,035 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-02 23:01:06,042 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-02 23:01:06,049 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-02 23:01:06,136 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-02 23:01:06,140 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-02 23:01:06,142 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-02 23:01:06,143 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-02 23:01:06,189 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-02 23:01:06,192 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-02 23:01:06,194 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-02 23:01:06,195 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-02 23:01:06,433 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-02 23:01:06,693 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-02 23:01:07,099 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-02 23:01:07,960 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-02 23:01:08,786 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-02 23:01:10,007 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-02 23:01:10,012 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-02 23:01:10,147 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-02 23:01:10,150 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-02 23:01:11,607 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@38611d1c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ffc3628, org.springframework.security.web.header.HeaderWriterFilter@24e1273c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@db642ae, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4e655550, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4fc4ddf5, org.springframework.security.web.access.ExceptionTranslationFilter@2acabb9e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5d85a6c9]
2019-09-02 23:01:12,240 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 10958 ms
2019-09-02 23:01:12,292 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-02 23:01:13,362 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-02 23:01:13,416 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-02 23:01:13,529 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1237 ms
2019-09-03 20:32:08,518 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-03 20:32:08,544 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6f0b0a5e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@6035b93b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@320de594, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3dd1dc90, org.springframework.test.context.transaction.TransactionalTestExecutionListener@abf688e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@478ee483]
2019-09-03 20:32:09,053 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-03 20:32:09,058 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-03 20:32:09,101 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /admin/**
2019-09-03 20:32:09,102 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-03 20:32:09,131 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-03 20:32:09,483 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-03 20:32:09,656 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 148ms. Found 4 repository interfaces.
2019-09-03 20:32:10,795 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-03 20:32:10,801 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-03 20:32:10,805 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-03 20:32:10,809 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-03 20:32:10,852 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-03 20:32:10,856 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 20:32:10,858 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 20:32:10,859 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-03 20:32:10,893 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-03 20:32:10,896 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 20:32:10,897 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 20:32:10,899 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-03 20:32:11,269 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-03 20:32:11,404 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-03 20:32:11,677 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-03 20:32:12,427 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-03 20:32:12,993 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-03 20:32:14,018 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-03 20:32:14,021 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-03 20:32:14,078 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-03 20:32:14,083 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-03 20:32:15,050 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@2ea4e762, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@599310ab, org.springframework.security.web.header.HeaderWriterFilter@1c14d24d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@f245168, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1db5de29, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@672f69f7, org.springframework.security.web.access.ExceptionTranslationFilter@68fc1e7f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@ea40c9f]
2019-09-03 20:32:16,065 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 20:32:16,110 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 20:32:16,324 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:32:16,325 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:32:16,339 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 14 ms
2019-09-03 20:32:16,369 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@62075e3d testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@63e81ac6, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@45775a15 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@11e75942]; rollback [true]
2019-09-03 20:32:16,892 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@62075e3d testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@63e81ac6, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@45775a15 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:32:16,911 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:32:16,913 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:32:16,918 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-03 20:32:16,930 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@62075e3d testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@25ee3cd6, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@45775a15 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@11e75942]; rollback [true]
2019-09-03 20:32:17,051 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@62075e3d testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@25ee3cd6, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@45775a15 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:32:17,053 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:32:17,057 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:32:17,068 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 8 ms
2019-09-03 20:32:17,074 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@62075e3d testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@49f32bcb, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@45775a15 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@11e75942]; rollback [true]
2019-09-03 20:32:17,111 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@62075e3d testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@49f32bcb, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@45775a15 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:32:17,114 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:32:17,119 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:32:17,139 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-03 20:32:17,158 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@62075e3d testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@54dc163a, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@45775a15 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@11e75942]; rollback [true]
2019-09-03 20:32:17,293 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@62075e3d testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@54dc163a, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@45775a15 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:32:17,295 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:32:17,303 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:32:17,309 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-03 20:32:17,318 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@62075e3d testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@2f154d9b, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@45775a15 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@11e75942]; rollback [true]
2019-09-03 20:32:17,342 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@62075e3d testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@2f154d9b, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@45775a15 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:32:17,344 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:32:17,347 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:32:17,355 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-03 20:32:17,364 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@62075e3d testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@66ca8882, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@45775a15 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@11e75942]; rollback [true]
2019-09-03 20:32:17,477 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@62075e3d testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@66ca8882, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@45775a15 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:32:17,479 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:32:17,480 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:32:17,500 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 19 ms
2019-09-03 20:32:17,515 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@62075e3d testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@3a8cc099, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@45775a15 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@11e75942]; rollback [true]
2019-09-03 20:32:17,595 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@62075e3d testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@3a8cc099, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@45775a15 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:32:17,614 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-03 20:32:17,615 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@46f3d0f7, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@592fbd8, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@354baab2, org.springframework.test.context.support.DirtiesContextTestExecutionListener@30be6a05, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6812708d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7a4c1a6c]
2019-09-03 20:32:17,619 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:32:17,621 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:32:17,634 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 12 ms
2019-09-03 20:32:17,637 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2afa1b1a testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@30fffb53, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@738b93a8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@11e75942]; rollback [true]
2019-09-03 20:32:17,659 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-03 20:32:17,660 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-03 20:32:17,660 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2afa1b1a testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@30fffb53, testMethod = delete@AdminRestControllerTest, testException = org.springframework.web.util.NestedServletException: Request processing failed; nested exception is ru.vladzag.util.exception.NotFoundException: Not found entity with id=100002, mergedContextConfiguration = [WebMergedContextConfiguration@738b93a8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:32:17,686 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:32:17,696 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:32:17,740 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 38 ms
2019-09-03 20:32:17,754 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2afa1b1a testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@6345dc06, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@738b93a8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@11e75942]; rollback [true]
2019-09-03 20:32:17,808 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2afa1b1a testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@6345dc06, testMethod = getAll@AdminRestControllerTest, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <[]>
to be equal to:
 <[Restaurant:100002(R1),
    Restaurant:100003(R2),
    Restaurant:100004(R3),
    Restaurant:100005(RWM)]>
when comparing elements using field/property by field/property comparator on all fields/properties except ["votes", "dishes"]
Comparators used:
- for elements fields (by type): {Double -> DoubleComparator[precision=1.0E-15], Float -> FloatComparator[precision=1.0E-6]}
- for elements (by type): {Double -> DoubleComparator[precision=1.0E-15], Float -> FloatComparator[precision=1.0E-6]}
but was not., mergedContextConfiguration = [WebMergedContextConfiguration@738b93a8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:32:17,816 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:32:17,848 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:32:17,853 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-03 20:32:17,861 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2afa1b1a testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@54d6f172, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@738b93a8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@11e75942]; rollback [true]
2019-09-03 20:32:17,964 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2afa1b1a testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@54d6f172, testMethod = update@AdminRestControllerTest, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <[Restaurant:100011(R111)]>
to be equal to:
 <[Restaurant:100002(R111),
    Restaurant:100003(R2),
    Restaurant:100004(R3),
    Restaurant:100005(RWM)]>
when comparing elements using field/property by field/property comparator on all fields/properties except ["votes", "dishes"]
Comparators used:
- for elements fields (by type): {Double -> DoubleComparator[precision=1.0E-15], Float -> FloatComparator[precision=1.0E-6]}
- for elements (by type): {Double -> DoubleComparator[precision=1.0E-15], Float -> FloatComparator[precision=1.0E-6]}
but was not., mergedContextConfiguration = [WebMergedContextConfiguration@738b93a8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:32:17,978 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:32:17,980 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:32:17,988 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-03 20:32:17,998 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2afa1b1a testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@65d3a83, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@738b93a8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@11e75942]; rollback [true]
2019-09-03 20:32:18,017 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2afa1b1a testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@65d3a83, testMethod = updateDish@AdminRestControllerTest, testException = org.springframework.web.util.NestedServletException: Request processing failed; nested exception is ru.vladzag.util.exception.NotFoundException: Not found entity with id=100007, mergedContextConfiguration = [WebMergedContextConfiguration@738b93a8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:32:18,027 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:32:18,030 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:32:18,056 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 26 ms
2019-09-03 20:32:18,064 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2afa1b1a testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@56589f00, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@738b93a8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@11e75942]; rollback [true]
2019-09-03 20:32:18,088 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2afa1b1a testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@56589f00, testMethod = get@AdminRestControllerTest, testException = org.springframework.web.util.NestedServletException: Request processing failed; nested exception is java.lang.NullPointerException, mergedContextConfiguration = [WebMergedContextConfiguration@738b93a8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:32:18,097 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:32:18,105 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:32:18,117 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 8 ms
2019-09-03 20:32:18,137 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2afa1b1a testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@c1d9c40, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@738b93a8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@11e75942]; rollback [true]
2019-09-03 20:32:18,171 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2afa1b1a testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@c1d9c40, testMethod = createDishWithLocation@AdminRestControllerTest, testException = java.lang.AssertionError: 
Expecting actual not to be null, mergedContextConfiguration = [WebMergedContextConfiguration@738b93a8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:32:18,175 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:32:18,175 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:32:18,195 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 19 ms
2019-09-03 20:32:18,199 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2afa1b1a testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@19e03398, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@738b93a8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@11e75942]; rollback [true]
2019-09-03 20:32:18,214 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-03 20:32:18,215 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-03 20:32:18,216 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2afa1b1a testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@19e03398, testMethod = deleteDish@AdminRestControllerTest, testException = org.springframework.web.util.NestedServletException: Request processing failed; nested exception is ru.vladzag.util.exception.NotFoundException: Not found entity with id=100002, mergedContextConfiguration = [WebMergedContextConfiguration@738b93a8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:32:18,222 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:32:18,223 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:32:18,236 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 13 ms
2019-09-03 20:32:18,239 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2afa1b1a testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@2122b4bd, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@738b93a8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@11e75942]; rollback [true]
2019-09-03 20:32:18,277 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2afa1b1a testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@2122b4bd, testMethod = getAllHistory@AdminRestControllerTest, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <[]>
to be equal to:
 <[RestaurantTo{id=100002, name=R1, votes=0},
    RestaurantTo{id=100003, name=R2, votes=0},
    RestaurantTo{id=100004, name=R3, votes=0},
    RestaurantTo{id=100005, name=RWM, votes=2}]>
when comparing elements using field/property by field/property comparator on all fields/properties except ["votes", "dishes"]
Comparators used:
- for elements fields (by type): {Double -> DoubleComparator[precision=1.0E-15], Float -> FloatComparator[precision=1.0E-6]}
- for elements (by type): {Double -> DoubleComparator[precision=1.0E-15], Float -> FloatComparator[precision=1.0E-6]}
but was not., mergedContextConfiguration = [WebMergedContextConfiguration@738b93a8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:32:18,280 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:32:18,281 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:32:18,312 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 24 ms
2019-09-03 20:32:18,319 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2afa1b1a testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@35e63d26, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@738b93a8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@11e75942]; rollback [true]
2019-09-03 20:32:18,347 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2afa1b1a testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@35e63d26, testMethod = createWithLocation@AdminRestControllerTest, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <[Restaurant:100013(RTS)]>
to be equal to:
 <[Restaurant:100002(R1),
    Restaurant:100003(R2),
    Restaurant:100004(R3),
    Restaurant:100005(RWM),
    Restaurant:100010(RTS)]>
when comparing elements using field/property by field/property comparator on all fields/properties except ["id", "votes", "dishes"]
Comparators used:
- for elements fields (by type): {Double -> DoubleComparator[precision=1.0E-15], Float -> FloatComparator[precision=1.0E-6]}
- for elements (by type): {Double -> DoubleComparator[precision=1.0E-15], Float -> FloatComparator[precision=1.0E-6]}
but was not., mergedContextConfiguration = [WebMergedContextConfiguration@738b93a8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:32:18,375 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-03 20:32:18,392 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-03 20:32:18,397 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-03 20:32:18,398 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-03 20:32:18,399 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-03 20:33:57,208 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-03 20:33:57,232 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5bfa8cc5, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@666b83a4, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@749c877b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@efde75f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@16ecee1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3b220bcb]
2019-09-03 20:33:57,806 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-03 20:33:57,812 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-03 20:33:57,876 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /admin/**
2019-09-03 20:33:57,878 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-03 20:33:57,920 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-03 20:33:58,147 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-03 20:33:58,313 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 138ms. Found 4 repository interfaces.
2019-09-03 20:33:59,548 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-03 20:33:59,552 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-03 20:33:59,557 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-03 20:33:59,565 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-03 20:33:59,615 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-03 20:33:59,618 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 20:33:59,620 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 20:33:59,621 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-03 20:33:59,660 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-03 20:33:59,663 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 20:33:59,664 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 20:33:59,666 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-03 20:33:59,781 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-03 20:33:59,908 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-03 20:34:00,128 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-03 20:34:00,715 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-03 20:34:01,116 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-03 20:34:01,990 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-03 20:34:01,994 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-03 20:34:02,048 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-03 20:34:02,052 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-03 20:34:02,955 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@5f65e0c0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@34d11c92, org.springframework.security.web.header.HeaderWriterFilter@403cff1c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@53153d5e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@68e094c9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@528c4353, org.springframework.security.web.access.ExceptionTranslationFilter@39451d92, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@47f416d0]
2019-09-03 20:34:04,136 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-03 20:34:04,138 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1013aa94, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@36bd07ec, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@85b9f9c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@26a004ed, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2b6a4da7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@75b6bd41]
2019-09-03 20:34:04,280 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-03 20:34:04,283 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /admin/**
2019-09-03 20:34:04,287 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-03 20:34:04,289 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-03 20:34:04,443 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-03 20:34:04,465 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 21ms. Found 4 repository interfaces.
2019-09-03 20:34:04,578 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-03 20:34:04,579 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 20:34:04,580 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 20:34:04,581 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-03 20:34:04,638 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-03 20:34:04,659 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-03 20:34:04,760 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-03 20:34:04,760 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-03 20:34:04,776 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-03 20:34:04,782 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-03 20:34:04,951 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@12f933c7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@531bfe4b, org.springframework.security.web.header.HeaderWriterFilter@89dd102, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1737834, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3aae9e8f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7baea18b, org.springframework.security.web.access.ExceptionTranslationFilter@1b6e32ee, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6e4ac3f5]
2019-09-03 20:34:05,662 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 20:34:05,703 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 20:34:05,849 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:34:05,850 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:34:05,862 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 11 ms
2019-09-03 20:34:05,875 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2e729fea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@1a345c6c, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6b26839d testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@28592982]; rollback [true]
2019-09-03 20:34:06,253 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2e729fea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@1a345c6c, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6b26839d testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:34:06,256 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:34:06,258 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:34:06,269 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 10 ms
2019-09-03 20:34:06,283 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2e729fea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@81f9b01, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6b26839d testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@28592982]; rollback [true]
2019-09-03 20:34:06,369 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2e729fea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@81f9b01, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6b26839d testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:34:06,372 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:34:06,373 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:34:06,386 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 12 ms
2019-09-03 20:34:06,396 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2e729fea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@3f2f6818, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6b26839d testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@28592982]; rollback [true]
2019-09-03 20:34:06,414 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2e729fea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@3f2f6818, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6b26839d testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:34:06,416 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:34:06,418 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:34:06,427 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 7 ms
2019-09-03 20:34:06,437 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2e729fea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@7b0d88e0, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6b26839d testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@28592982]; rollback [true]
2019-09-03 20:34:06,492 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2e729fea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@7b0d88e0, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6b26839d testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:34:06,499 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:34:06,501 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:34:06,509 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-03 20:34:06,521 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2e729fea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4945cd1f, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6b26839d testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@28592982]; rollback [true]
2019-09-03 20:34:06,551 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2e729fea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4945cd1f, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6b26839d testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:34:06,558 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:34:06,561 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:34:06,569 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 7 ms
2019-09-03 20:34:06,574 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2e729fea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@2bcaec2e, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6b26839d testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@28592982]; rollback [true]
2019-09-03 20:34:06,606 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2e729fea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@2bcaec2e, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6b26839d testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:34:06,615 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:34:06,617 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:34:06,630 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 11 ms
2019-09-03 20:34:06,643 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2e729fea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@29f58b44, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6b26839d testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@28592982]; rollback [true]
2019-09-03 20:34:06,704 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2e729fea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@29f58b44, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6b26839d testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:34:06,720 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-03 20:34:06,721 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@68d1f4e2, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@72769bf5, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5a63de07, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7d364bce, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1aa7d66e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5cc85ffc]
2019-09-03 20:34:06,737 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-03 20:34:06,737 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-03 20:34:06,836 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-03 20:34:06,841 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-03 20:34:07,439 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-03 20:34:07,439 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5e81b406, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3ff83cc8, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@6dd8ac29, org.springframework.test.context.support.DirtiesContextTestExecutionListener@336b7da4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6019ce4b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e79b0fc]
2019-09-03 20:34:07,441 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:34:07,445 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:34:07,458 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 10 ms
2019-09-03 20:34:07,465 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@236e6563, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@28592982]; rollback [true]
2019-09-03 20:34:07,486 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@236e6563, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:34:07,487 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:34:07,488 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:34:07,504 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-03 20:34:07,520 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@15844237, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@28592982]; rollback [true]
2019-09-03 20:34:07,538 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@15844237, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:34:07,549 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:34:07,551 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:34:07,555 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-03 20:34:07,565 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5cd5e1b6, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@28592982]; rollback [true]
2019-09-03 20:34:07,610 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5cd5e1b6, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:34:07,617 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:34:07,618 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:34:07,634 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 14 ms
2019-09-03 20:34:07,671 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@472d7f34, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@28592982]; rollback [true]
2019-09-03 20:34:07,705 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@472d7f34, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:34:07,710 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:34:07,712 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:34:07,724 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 7 ms
2019-09-03 20:34:07,728 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@283645fa, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@28592982]; rollback [true]
2019-09-03 20:34:07,766 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@283645fa, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:34:07,775 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:34:07,778 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:34:07,792 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 11 ms
2019-09-03 20:34:07,795 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@1d4ee936, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@28592982]; rollback [true]
2019-09-03 20:34:07,834 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@1d4ee936, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:34:07,843 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:34:07,848 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:34:07,853 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 2 ms
2019-09-03 20:34:07,861 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@1ee37c7a, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@28592982]; rollback [true]
2019-09-03 20:34:07,877 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@1ee37c7a, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:34:07,879 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:34:07,886 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:34:07,890 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-03 20:34:07,892 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@48d6248d, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@28592982]; rollback [true]
2019-09-03 20:34:07,942 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@48d6248d, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:34:07,944 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:34:07,945 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:34:07,958 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 11 ms
2019-09-03 20:34:07,976 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@3003d288, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@28592982]; rollback [true]
2019-09-03 20:34:08,010 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@3003d288, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:34:08,059 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-03 20:34:08,070 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-03 20:34:08,077 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-03 20:34:08,083 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-03 20:34:08,085 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-03 20:34:08,086 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-03 20:51:16,179 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-03 20:51:16,207 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@47874b25, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@33617539, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@2c177f9e, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5db4c359, org.springframework.test.context.transaction.TransactionalTestExecutionListener@209775a9, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@18e7143f]
2019-09-03 20:51:16,676 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-03 20:51:16,684 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-03 20:51:16,749 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-03 20:51:16,751 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-03 20:51:16,790 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-03 20:51:17,031 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-03 20:51:17,279 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 214ms. Found 4 repository interfaces.
2019-09-03 20:51:19,024 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-03 20:51:19,032 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-03 20:51:19,040 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-03 20:51:19,047 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-03 20:51:19,108 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-03 20:51:19,113 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 20:51:19,115 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 20:51:19,117 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-03 20:51:19,153 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-03 20:51:19,156 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 20:51:19,158 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 20:51:19,160 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-03 20:51:19,323 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-03 20:51:19,467 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-03 20:51:19,812 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-03 20:51:20,609 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-03 20:51:21,244 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-03 20:51:22,591 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-03 20:51:22,598 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-03 20:51:22,827 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-03 20:51:22,832 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-03 20:51:24,102 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@be9cc86, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@71634e64, org.springframework.security.web.header.HeaderWriterFilter@e47637c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5d200dce, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@68c3aa38, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@45bbb3e8, org.springframework.security.web.access.ExceptionTranslationFilter@535aa7c7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@57c7ec30]
2019-09-03 20:51:25,711 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-03 20:51:25,712 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b32f0b4, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@77d7d2d0, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@63075ad1, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5fa0943d, org.springframework.test.context.transaction.TransactionalTestExecutionListener@73bb782d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3a3375d8]
2019-09-03 20:51:25,856 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-03 20:51:25,858 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-03 20:51:25,862 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-03 20:51:25,864 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-03 20:51:26,038 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-03 20:51:26,063 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 24ms. Found 4 repository interfaces.
2019-09-03 20:51:26,187 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-03 20:51:26,188 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 20:51:26,190 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 20:51:26,191 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-03 20:51:26,305 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-03 20:51:26,341 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-03 20:51:26,453 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-03 20:51:26,455 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-03 20:51:26,474 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-03 20:51:26,477 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-03 20:51:26,659 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@3a33d655, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4f45290f, org.springframework.security.web.header.HeaderWriterFilter@557f0a39, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@78626209, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6d2413e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c42ee90, org.springframework.security.web.access.ExceptionTranslationFilter@38f4a641, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1df77353]
2019-09-03 20:51:27,593 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 20:51:27,639 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 20:51:27,814 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:27,816 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:27,833 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 16 ms
2019-09-03 20:51:27,855 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@adc06b2 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@728cf276, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@66f15ce5 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6ccf06f1]; rollback [true]
2019-09-03 20:51:28,193 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@adc06b2 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@728cf276, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@66f15ce5 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:28,197 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:28,199 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:28,220 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 18 ms
2019-09-03 20:51:28,225 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@adc06b2 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@5f0b2fe1, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@66f15ce5 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6ccf06f1]; rollback [true]
2019-09-03 20:51:28,330 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@adc06b2 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@5f0b2fe1, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@66f15ce5 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:28,332 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:28,335 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:28,350 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 11 ms
2019-09-03 20:51:28,365 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@adc06b2 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@28bf7bea, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@66f15ce5 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6ccf06f1]; rollback [true]
2019-09-03 20:51:28,394 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@adc06b2 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@28bf7bea, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@66f15ce5 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:28,398 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:28,400 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:28,420 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 16 ms
2019-09-03 20:51:28,429 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@adc06b2 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@270663e2, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@66f15ce5 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6ccf06f1]; rollback [true]
2019-09-03 20:51:28,495 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@adc06b2 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@270663e2, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@66f15ce5 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:28,501 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:28,510 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:28,522 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 7 ms
2019-09-03 20:51:28,526 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@adc06b2 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@2d28114b, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@66f15ce5 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6ccf06f1]; rollback [true]
2019-09-03 20:51:28,561 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@adc06b2 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@2d28114b, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@66f15ce5 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:28,563 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:28,566 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:28,590 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 21 ms
2019-09-03 20:51:28,604 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@adc06b2 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@529a2d6f, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@66f15ce5 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6ccf06f1]; rollback [true]
2019-09-03 20:51:28,632 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@adc06b2 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@529a2d6f, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@66f15ce5 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:28,640 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:28,646 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:28,663 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 11 ms
2019-09-03 20:51:28,676 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@adc06b2 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@5632bed3, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@66f15ce5 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6ccf06f1]; rollback [true]
2019-09-03 20:51:28,738 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@adc06b2 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@5632bed3, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@66f15ce5 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:28,767 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-03 20:51:28,768 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5304cee, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@68b59e2f, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@685a3c14, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4c2ad035, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4b7ab262, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@f7a19c4]
2019-09-03 20:51:28,791 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-03 20:51:28,792 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-03 20:51:29,003 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-03 20:51:29,003 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-03 20:51:29,842 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-03 20:51:29,844 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@445265b0, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7eba962d, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@1440a166, org.springframework.test.context.support.DirtiesContextTestExecutionListener@74f6237, org.springframework.test.context.transaction.TransactionalTestExecutionListener@50e7f88b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7a461744]
2019-09-03 20:51:29,847 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:29,850 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:29,859 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-03 20:51:29,862 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@78f2cab9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@32441ed4, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3fc2197d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6ccf06f1]; rollback [true]
2019-09-03 20:51:29,909 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@78f2cab9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@32441ed4, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3fc2197d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:29,911 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:29,911 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:29,942 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 30 ms
2019-09-03 20:51:29,945 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@78f2cab9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@1227862a, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3fc2197d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6ccf06f1]; rollback [true]
2019-09-03 20:51:29,987 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@78f2cab9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@1227862a, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3fc2197d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:29,989 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:29,990 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:30,011 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 18 ms
2019-09-03 20:51:30,044 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@78f2cab9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@75375bb0, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3fc2197d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6ccf06f1]; rollback [true]
2019-09-03 20:51:30,111 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@78f2cab9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@75375bb0, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3fc2197d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:30,112 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:30,113 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:30,116 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 2 ms
2019-09-03 20:51:30,136 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@78f2cab9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@53fa630, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3fc2197d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6ccf06f1]; rollback [true]
2019-09-03 20:51:30,215 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@78f2cab9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@53fa630, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3fc2197d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:30,226 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:30,227 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:30,255 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 25 ms
2019-09-03 20:51:30,259 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@78f2cab9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@613bebb9, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3fc2197d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6ccf06f1]; rollback [true]
2019-09-03 20:51:30,336 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@78f2cab9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@613bebb9, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3fc2197d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:30,338 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:30,339 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:30,356 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 16 ms
2019-09-03 20:51:30,372 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@78f2cab9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@524250ec, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3fc2197d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6ccf06f1]; rollback [true]
2019-09-03 20:51:30,396 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@78f2cab9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@524250ec, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3fc2197d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:30,399 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:30,402 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:30,440 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 32 ms
2019-09-03 20:51:30,444 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@78f2cab9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@1fd1deed, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3fc2197d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6ccf06f1]; rollback [true]
2019-09-03 20:51:30,477 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@78f2cab9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@1fd1deed, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3fc2197d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:30,487 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:30,491 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:30,506 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 11 ms
2019-09-03 20:51:30,513 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@78f2cab9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5100fe55, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3fc2197d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6ccf06f1]; rollback [true]
2019-09-03 20:51:30,547 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@78f2cab9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5100fe55, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3fc2197d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:30,562 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:30,566 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:30,588 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 19 ms
2019-09-03 20:51:30,592 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@78f2cab9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@43eea3bd, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3fc2197d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6ccf06f1]; rollback [true]
2019-09-03 20:51:30,625 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@78f2cab9 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@43eea3bd, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3fc2197d testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:30,665 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-03 20:51:30,672 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-03 20:51:30,680 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-03 20:51:30,681 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-03 20:51:30,682 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-03 20:51:30,683 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-03 20:51:43,245 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-03 20:51:43,294 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@64ba3208, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@158a3b2e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@25a6944c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5e1fa5b1, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6b00f608, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2f17e30d]
2019-09-03 20:51:43,958 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-03 20:51:43,963 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-03 20:51:44,003 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-03 20:51:44,004 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-03 20:51:44,034 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-03 20:51:44,371 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-03 20:51:44,565 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 165ms. Found 4 repository interfaces.
2019-09-03 20:51:46,166 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-03 20:51:46,174 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-03 20:51:46,179 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-03 20:51:46,185 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-03 20:51:46,240 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-03 20:51:46,244 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 20:51:46,245 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 20:51:46,246 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-03 20:51:46,278 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-03 20:51:46,280 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 20:51:46,285 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 20:51:46,290 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-03 20:51:46,679 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-03 20:51:46,805 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-03 20:51:47,066 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-03 20:51:47,920 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-03 20:51:48,593 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-03 20:51:49,875 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-03 20:51:49,878 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-03 20:51:49,919 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-03 20:51:49,922 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-03 20:51:50,815 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@627a890f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a1e38ab, org.springframework.security.web.header.HeaderWriterFilter@26c1f3eb, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1e4bf55b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@df5f657, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@175745fc, org.springframework.security.web.access.ExceptionTranslationFilter@3891db3a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1067bc4c]
2019-09-03 20:51:51,846 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 20:51:51,893 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 20:51:52,168 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:52,169 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:52,182 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 12 ms
2019-09-03 20:51:52,226 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@5eaa6f76 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@3fc105dd, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35129b9e testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@454f6cc5]; rollback [true]
2019-09-03 20:51:52,775 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@5eaa6f76 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@3fc105dd, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35129b9e testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:52,786 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:52,797 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:52,816 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 15 ms
2019-09-03 20:51:52,830 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@5eaa6f76 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@4fd8aefe, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35129b9e testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@454f6cc5]; rollback [true]
2019-09-03 20:51:53,063 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@5eaa6f76 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@4fd8aefe, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35129b9e testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:53,073 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:53,076 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:53,105 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 22 ms
2019-09-03 20:51:53,118 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@5eaa6f76 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@4b2ca159, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35129b9e testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@454f6cc5]; rollback [true]
2019-09-03 20:51:53,294 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@5eaa6f76 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@4b2ca159, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35129b9e testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:53,297 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:53,300 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:53,318 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 16 ms
2019-09-03 20:51:53,342 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@5eaa6f76 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@73fa97a9, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35129b9e testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@454f6cc5]; rollback [true]
2019-09-03 20:51:53,440 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@5eaa6f76 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@73fa97a9, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35129b9e testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:53,443 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:53,447 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:53,467 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 19 ms
2019-09-03 20:51:53,487 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@5eaa6f76 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@674b2703, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35129b9e testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@454f6cc5]; rollback [true]
2019-09-03 20:51:53,572 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@5eaa6f76 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@674b2703, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35129b9e testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:53,589 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:53,595 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:53,605 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 7 ms
2019-09-03 20:51:53,622 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@5eaa6f76 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@1ac9c3cc, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35129b9e testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@454f6cc5]; rollback [true]
2019-09-03 20:51:53,656 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@5eaa6f76 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@1ac9c3cc, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35129b9e testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:53,667 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:53,674 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:53,694 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 16 ms
2019-09-03 20:51:53,708 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@5eaa6f76 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@1d8e9f22, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35129b9e testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@454f6cc5]; rollback [true]
2019-09-03 20:51:53,740 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@5eaa6f76 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@1d8e9f22, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35129b9e testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:53,743 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:53,766 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:53,775 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 8 ms
2019-09-03 20:51:53,792 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@5eaa6f76 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@40949bb0, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35129b9e testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@454f6cc5]; rollback [true]
2019-09-03 20:51:53,820 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@5eaa6f76 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@40949bb0, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35129b9e testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:53,822 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-03 20:51:53,830 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-03 20:51:53,852 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 13 ms
2019-09-03 20:51:53,883 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@5eaa6f76 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@17d5138, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35129b9e testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@454f6cc5]; rollback [true]
2019-09-03 20:51:53,908 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@5eaa6f76 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@17d5138, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35129b9e testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-03 20:51:53,955 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-03 20:51:53,964 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-03 20:51:53,966 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-03 20:51:53,967 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-03 20:51:53,968 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-03 20:52:24,180 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-03 20:52:24,706 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-03 20:52:24,718 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-03 20:52:24,784 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-03 20:52:24,785 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-03 20:52:24,811 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-03 20:52:25,049 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-03 20:52:25,296 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 208ms. Found 4 repository interfaces.
2019-09-03 20:52:27,182 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-03 20:52:27,188 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-03 20:52:27,192 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-03 20:52:27,199 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-03 20:52:27,266 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-03 20:52:27,270 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 20:52:27,271 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 20:52:27,272 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-03 20:52:27,327 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-03 20:52:27,330 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 20:52:27,332 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 20:52:27,334 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-03 20:52:27,501 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-03 20:52:27,679 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-03 20:52:27,992 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-03 20:52:28,789 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-03 20:52:29,482 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-03 20:52:31,256 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-03 20:52:31,261 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-03 20:52:31,343 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-03 20:52:31,348 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-03 20:52:32,764 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@1b34a98e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@75121773, org.springframework.security.web.header.HeaderWriterFilter@73744e61, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@ef98deb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@45d1c4ac, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19ddcc87, org.springframework.security.web.access.ExceptionTranslationFilter@1a9c4298, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@75f92da6]
2019-09-03 20:52:33,273 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 9085 ms
2019-09-03 20:52:33,371 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-03 20:52:34,429 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 20:52:34,484 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 20:52:34,568 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1197 ms
2019-09-03 20:56:45,530 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-03 20:56:45,983 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-03 20:56:45,992 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-03 20:56:46,056 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-03 20:56:46,058 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-03 20:56:46,096 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-03 20:56:46,402 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-03 20:56:46,639 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 201ms. Found 4 repository interfaces.
2019-09-03 20:56:48,381 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-03 20:56:48,386 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-03 20:56:48,390 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-03 20:56:48,395 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-03 20:56:48,450 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-03 20:56:48,454 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 20:56:48,455 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 20:56:48,456 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-03 20:56:48,501 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-03 20:56:48,503 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 20:56:48,506 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 20:56:48,507 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-03 20:56:48,659 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-03 20:56:48,831 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-03 20:56:49,135 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-03 20:56:49,932 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-03 20:56:50,627 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-03 20:56:52,098 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-03 20:56:52,103 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-03 20:56:52,168 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-03 20:56:52,172 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-03 20:56:53,687 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@3181ae16, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58be9bc1, org.springframework.security.web.header.HeaderWriterFilter@12ca88a0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5725baba, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5a053c36, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@f244b9e, org.springframework.security.web.access.ExceptionTranslationFilter@2156a847, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@776e8207]
2019-09-03 20:56:54,326 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 8790 ms
2019-09-03 20:56:54,374 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-03 20:56:55,670 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 20:56:55,716 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 20:56:55,799 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1424 ms
2019-09-03 21:04:28,026 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-03 21:04:28,522 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-03 21:04:28,530 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-03 21:04:28,600 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-03 21:04:28,603 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-03 21:04:28,639 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-03 21:04:28,927 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-03 21:04:29,159 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 197ms. Found 4 repository interfaces.
2019-09-03 21:04:31,059 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-03 21:04:31,063 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-03 21:04:31,067 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-03 21:04:31,072 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-03 21:04:31,128 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-03 21:04:31,132 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 21:04:31,133 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 21:04:31,134 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-03 21:04:31,181 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-03 21:04:31,184 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 21:04:31,186 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 21:04:31,188 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-03 21:04:31,419 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-03 21:04:31,588 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-03 21:04:31,886 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-03 21:04:32,624 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-03 21:04:33,329 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-03 21:04:35,195 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-03 21:04:35,205 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-03 21:04:35,546 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-03 21:04:35,556 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-03 21:04:38,027 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@7ec3912b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4796f22e, org.springframework.security.web.header.HeaderWriterFilter@4ad15b1b, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@66425c94, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4a139467, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4af18f1c, org.springframework.security.web.access.ExceptionTranslationFilter@bd2517a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@644937af]
2019-09-03 21:04:39,057 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 11024 ms
2019-09-03 21:04:39,130 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-03 21:04:41,000 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 21:04:41,055 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 21:04:41,146 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 2008 ms
2019-09-03 21:11:37,652 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-03 21:11:37,738 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5f0e9815, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@76884e4b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@126945f9, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2a898881, org.springframework.test.context.transaction.TransactionalTestExecutionListener@16c63f5, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@35229f85]
2019-09-03 21:11:38,772 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-03 21:11:38,778 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-03 21:11:38,838 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-03 21:11:38,840 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-03 21:11:38,884 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-03 21:11:39,152 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-03 21:11:39,459 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 262ms. Found 4 repository interfaces.
2019-09-03 21:11:40,984 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-03 21:11:40,990 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-03 21:11:40,995 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-03 21:11:41,000 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-03 21:11:41,055 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-03 21:11:41,059 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 21:11:41,061 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 21:11:41,063 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-03 21:11:41,092 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-03 21:11:41,095 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 21:11:41,097 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 21:11:41,099 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-03 21:11:41,248 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-03 21:11:41,428 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-03 21:11:41,708 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-03 21:11:42,764 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-03 21:11:43,254 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-03 21:11:44,455 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-03 21:11:44,458 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-03 21:11:44,519 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-03 21:11:44,525 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-03 21:11:45,417 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@3c17794e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7c02b3cb, org.springframework.security.web.header.HeaderWriterFilter@2c4be45f, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@110318a7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@49322d04, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6f7a65e, org.springframework.security.web.access.ExceptionTranslationFilter@2a7392a3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4113d9ab]
2019-09-03 21:11:46,264 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-03 21:11:46,279 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-03 21:11:46,282 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-03 21:11:46,284 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-03 21:11:46,285 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-03 21:12:50,851 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-03 21:12:51,337 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-03 21:12:51,346 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-03 21:12:51,420 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-03 21:12:51,421 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-03 21:12:51,459 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-03 21:12:51,763 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-03 21:12:51,988 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 189ms. Found 4 repository interfaces.
2019-09-03 21:12:53,978 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-03 21:12:53,983 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-03 21:12:53,987 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-03 21:12:53,992 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-03 21:12:54,063 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-03 21:12:54,067 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 21:12:54,068 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 21:12:54,069 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-03 21:12:54,119 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-03 21:12:54,122 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 21:12:54,123 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 21:12:54,125 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-03 21:12:54,366 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-03 21:12:54,548 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-03 21:12:54,901 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-03 21:12:55,659 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-03 21:12:56,473 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-03 21:12:58,037 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-03 21:12:58,043 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-03 21:12:58,105 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-03 21:12:58,108 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-03 21:12:59,454 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@39e68f85, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@77391ffd, org.springframework.security.web.header.HeaderWriterFilter@42aa1721, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@d00dc6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7b337113, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@773cf211, org.springframework.security.web.access.ExceptionTranslationFilter@483b412f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@272270c0]
2019-09-03 21:13:00,074 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 9216 ms
2019-09-03 21:13:00,120 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-03 21:13:01,480 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 21:13:01,532 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 21:13:01,622 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1501 ms
2019-09-03 21:13:23,525 WARN  o.s.security.crypto.bcrypt.BCryptPasswordEncoder.matches:90 - Encoded password does not look like BCrypt
2019-09-03 21:13:31,437 WARN  o.s.security.crypto.bcrypt.BCryptPasswordEncoder.matches:90 - Encoded password does not look like BCrypt
2019-09-03 21:13:41,897 WARN  o.s.security.crypto.bcrypt.BCryptPasswordEncoder.matches:90 - Encoded password does not look like BCrypt
2019-09-03 21:13:42,503 WARN  o.s.security.crypto.bcrypt.BCryptPasswordEncoder.matches:90 - Encoded password does not look like BCrypt
2019-09-03 21:13:44,169 WARN  o.s.security.crypto.bcrypt.BCryptPasswordEncoder.matches:90 - Encoded password does not look like BCrypt
2019-09-03 21:13:45,810 WARN  o.s.security.crypto.bcrypt.BCryptPasswordEncoder.matches:90 - Encoded password does not look like BCrypt
2019-09-03 21:13:53,521 WARN  o.s.security.crypto.bcrypt.BCryptPasswordEncoder.matches:90 - Encoded password does not look like BCrypt
2019-09-03 21:17:46,793 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-03 21:17:47,348 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-03 21:17:47,357 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-03 21:17:47,436 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-03 21:17:47,437 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-03 21:17:47,469 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-03 21:17:47,759 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-03 21:17:48,051 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 252ms. Found 4 repository interfaces.
2019-09-03 21:17:50,080 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-03 21:17:50,086 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-03 21:17:50,102 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-03 21:17:50,105 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-03 21:17:50,174 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-03 21:17:50,178 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 21:17:50,180 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 21:17:50,181 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-03 21:17:50,231 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-03 21:17:50,233 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 21:17:50,234 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 21:17:50,235 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-03 21:17:50,380 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-03 21:17:50,572 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-03 21:17:50,928 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-03 21:17:51,880 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-03 21:17:52,731 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-03 21:17:54,210 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-03 21:17:54,216 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-03 21:17:54,292 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-03 21:17:54,295 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-03 21:17:55,677 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@47aa2ebb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3bf768aa, org.springframework.security.web.header.HeaderWriterFilter@6d9797b8, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2a705e0c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6b39146a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@78ec6851, org.springframework.security.web.access.ExceptionTranslationFilter@26015e1f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5c147649]
2019-09-03 21:17:56,370 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 9570 ms
2019-09-03 21:17:56,428 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-03 21:17:57,805 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 21:17:57,860 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 21:17:57,955 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1526 ms
2019-09-03 22:40:11,301 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-03 22:40:11,939 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-03 22:40:11,948 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-03 22:40:12,046 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-03 22:40:12,048 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-03 22:40:12,087 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-03 22:40:12,538 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-03 22:40:12,852 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 256ms. Found 4 repository interfaces.
2019-09-03 22:40:15,082 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-03 22:40:15,087 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-03 22:40:15,091 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-03 22:40:15,095 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-03 22:40:15,156 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-03 22:40:15,159 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 22:40:15,160 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 22:40:15,161 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-03 22:40:15,209 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-03 22:40:15,212 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 22:40:15,214 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 22:40:15,215 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-03 22:40:15,454 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-03 22:40:15,658 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-03 22:40:16,118 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-03 22:40:16,965 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-03 22:40:17,759 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-03 22:40:19,349 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-03 22:40:19,353 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-03 22:40:19,420 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-03 22:40:19,424 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-03 22:40:20,900 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@768e8679, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@49c55ff2, org.springframework.security.web.header.HeaderWriterFilter@7789459b, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6cbf2d7d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5a72740f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@25be7a74, org.springframework.security.web.access.ExceptionTranslationFilter@1c6630f8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7eff8614]
2019-09-03 22:40:21,588 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 10280 ms
2019-09-03 22:40:21,648 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-03 22:40:23,134 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 22:40:23,190 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 22:40:23,281 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1632 ms
2019-09-03 22:40:44,208 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:03,934 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:04,413 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:04,633 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:04,858 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:05,080 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:05,338 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:05,563 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:05,780 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:06,009 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:06,197 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:06,422 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:06,642 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:06,837 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:07,049 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:07,259 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:07,469 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:07,680 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:07,895 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:08,122 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:08,317 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:08,545 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:08,751 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:08,965 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:09,170 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:09,382 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:09,590 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:09,821 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:10,035 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:10,259 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:10,481 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:10,707 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:10,932 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:11,148 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:11,363 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:11,575 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:11,736 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:11,924 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:12,094 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:12,494 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:12,692 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:12,884 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:13,102 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:13,317 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:13,526 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:13,743 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:13,958 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:14,157 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:14,389 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:14,618 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:14,836 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:15,073 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:15,294 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:15,514 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:15,754 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:15,983 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:16,198 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:16,431 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:16,664 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:16,888 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:17,119 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:17,368 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:17,613 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:17,845 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:18,080 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:18,322 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:18,590 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:18,791 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:41:56,345 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-03 22:41:56,809 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-03 22:41:56,817 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-03 22:41:56,896 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-03 22:41:56,898 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-03 22:41:56,940 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-03 22:41:57,221 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-03 22:41:57,467 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 211ms. Found 4 repository interfaces.
2019-09-03 22:41:59,214 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-03 22:41:59,219 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-03 22:41:59,223 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-03 22:41:59,226 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-03 22:41:59,280 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-03 22:41:59,282 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 22:41:59,284 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 22:41:59,285 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-03 22:41:59,327 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-03 22:41:59,330 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 22:41:59,332 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 22:41:59,333 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-03 22:41:59,587 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-03 22:41:59,739 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-03 22:42:00,068 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-03 22:42:00,831 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-03 22:42:01,768 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-03 22:42:03,386 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-03 22:42:03,390 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-03 22:42:03,462 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-03 22:42:03,464 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-03 22:42:05,495 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@16ea3aff, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4cf0b5fc, org.springframework.security.web.header.HeaderWriterFilter@232469f5, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3f28cfc6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@71adbfb8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@355e73a4, org.springframework.security.web.access.ExceptionTranslationFilter@6e83d3ec, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@15e3731e]
2019-09-03 22:42:06,245 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 9895 ms
2019-09-03 22:42:06,292 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-03 22:42:07,835 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 22:42:07,976 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 22:42:08,274 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1982 ms
2019-09-03 22:42:21,492 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:42:22,235 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:42:23,051 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:42:24,517 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:42:24,760 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:42:25,041 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:42:25,287 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:42:25,573 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:42:33,135 INFO  ru.vladzag.web.admin.AdminRestController.createWithLocation:102 - Admin createRestaurant with id: 100010
2019-09-03 22:42:52,647 INFO  ru.vladzag.web.admin.AdminRestController.createWithLocation:102 - Admin createRestaurant with id: 100011
2019-09-03 22:48:04,950 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-03 22:48:05,436 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-03 22:48:05,445 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-03 22:48:05,510 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-03 22:48:05,512 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-03 22:48:05,551 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-03 22:48:05,786 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-03 22:48:06,002 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 181ms. Found 4 repository interfaces.
2019-09-03 22:48:07,858 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-03 22:48:07,864 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-03 22:48:07,869 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-03 22:48:07,874 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-03 22:48:07,938 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-03 22:48:07,943 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 22:48:07,944 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 22:48:07,945 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-03 22:48:07,991 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-03 22:48:07,993 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 22:48:07,995 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 22:48:07,996 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-03 22:48:08,141 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-03 22:48:08,293 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-03 22:48:08,592 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-03 22:48:09,421 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-03 22:48:10,209 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-03 22:48:11,671 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-03 22:48:11,676 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-03 22:48:11,739 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-03 22:48:11,741 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-03 22:48:12,929 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@1d463edc, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18734edf, org.springframework.security.web.header.HeaderWriterFilter@1d969388, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4b916a3a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6eaf460d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@150e8aaa, org.springframework.security.web.access.ExceptionTranslationFilter@5087ca06, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6783de94]
2019-09-03 22:48:13,614 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 8656 ms
2019-09-03 22:48:13,669 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-03 22:48:15,006 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 22:48:15,057 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 22:48:15,140 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1470 ms
2019-09-03 22:48:31,978 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:49:57,227 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:50:03,001 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:50:20,232 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:50:30,866 INFO  ru.vladzag.web.admin.AdminRestController.createWithLocation:102 - Admin createRestaurant with id: 100010
2019-09-03 22:50:36,244 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:50:51,781 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:53:12,672 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-03 22:53:13,174 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-03 22:53:13,183 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-03 22:53:13,261 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-03 22:53:13,262 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-03 22:53:13,291 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-03 22:53:13,538 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-03 22:53:13,740 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 170ms. Found 4 repository interfaces.
2019-09-03 22:53:15,670 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-03 22:53:15,676 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-03 22:53:15,681 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-03 22:53:15,686 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-03 22:53:15,749 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-03 22:53:15,753 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 22:53:15,754 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 22:53:15,755 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-03 22:53:15,806 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-03 22:53:15,809 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-03 22:53:15,810 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-03 22:53:15,812 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-03 22:53:16,019 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-03 22:53:16,200 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-03 22:53:16,552 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-03 22:53:17,392 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-03 22:53:18,222 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-03 22:53:19,726 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-03 22:53:19,731 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-03 22:53:19,804 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-03 22:53:19,808 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-03 22:53:21,157 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@77bfe031, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@a14b195, org.springframework.security.web.header.HeaderWriterFilter@443f939d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7859a060, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3296f2d0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@f7a4689, org.springframework.security.web.access.ExceptionTranslationFilter@745fed63, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4db26989]
2019-09-03 22:53:21,851 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 9173 ms
2019-09-03 22:53:21,912 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-03 22:53:23,305 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 22:53:23,359 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-03 22:53:23,446 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1533 ms
2019-09-03 22:53:43,933 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:53:43,976 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll
2019-09-03 22:53:48,713 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:53:51,986 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:54:13,424 INFO  ru.vladzag.web.admin.AdminRestController.createWithLocation:102 - Admin createRestaurant with id: 100010
2019-09-03 22:54:25,285 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-03 22:54:25,286 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll
2019-09-04 12:22:25,647 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 12:22:25,712 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@55b5f5d2, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5bfa8cc5, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@666b83a4, org.springframework.test.context.support.DirtiesContextTestExecutionListener@749c877b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@efde75f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@16ecee1]
2019-09-04 12:22:26,573 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 12:22:26,585 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 12:22:26,728 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 12:22:26,731 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 12:22:26,797 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 12:22:27,152 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 12:22:27,539 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 339ms. Found 4 repository interfaces.
2019-09-04 12:22:29,075 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 12:22:29,079 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 12:22:29,084 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 12:22:29,089 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 12:22:29,132 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 12:22:29,135 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 12:22:29,137 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 12:22:29,138 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 12:22:29,173 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 12:22:29,175 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 12:22:29,177 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 12:22:29,178 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 12:22:29,305 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 12:22:29,521 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 12:22:29,790 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 12:22:30,502 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 12:22:31,067 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 12:22:32,037 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 12:22:32,040 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 12:22:32,095 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 12:22:32,101 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 12:22:33,625 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@5f65e0c0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@34d11c92, org.springframework.security.web.header.HeaderWriterFilter@403cff1c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@160cf225, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@712c9bcf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7fb02606, org.springframework.security.web.access.ExceptionTranslationFilter@1fdd5517, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1af6d656]
2019-09-04 12:22:34,838 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 12:22:34,840 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@69e8f7a5, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1013aa94, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@36bd07ec, org.springframework.test.context.support.DirtiesContextTestExecutionListener@85b9f9c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@26a004ed, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2b6a4da7]
2019-09-04 12:22:34,949 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 12:22:34,952 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 12:22:34,953 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 12:22:34,954 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 12:22:35,110 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 12:22:35,141 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 30ms. Found 4 repository interfaces.
2019-09-04 12:22:35,252 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 12:22:35,253 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 12:22:35,254 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 12:22:35,255 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 12:22:35,315 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 12:22:35,330 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 12:22:35,416 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 12:22:35,417 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 12:22:35,430 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 12:22:35,433 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 12:22:35,609 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@3894d1b1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@253c7189, org.springframework.security.web.header.HeaderWriterFilter@7ef8899d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@14b0b7f9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3ad80206, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a799cb, org.springframework.security.web.access.ExceptionTranslationFilter@14a5d7ee, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@53ce27fa]
2019-09-04 12:22:36,375 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 12:22:36,420 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 12:22:36,569 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:22:36,569 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:22:36,582 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 12 ms
2019-09-04 12:22:36,596 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@157ff8f8, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 12:22:36,670 INFO  ru.vladzag.web.user.UserRestController.getRestaurant:55 - User getRestaurant with id: 100005
2019-09-04 12:22:36,827 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@157ff8f8, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:22:36,829 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:22:36,830 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:22:36,838 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-04 12:22:36,842 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4d7f3adf, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 12:22:36,852 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:22:36,929 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4d7f3adf, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:22:36,933 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:22:36,935 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:22:36,939 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 12:22:36,945 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@63cff421, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 12:22:36,953 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-04 12:22:36,962 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@63cff421, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:22:36,965 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:22:36,967 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:22:36,972 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 12:22:36,978 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@72499396, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 12:22:36,985 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 12:22:36,999 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100003
2019-09-04 12:22:37,010 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@72499396, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:22:37,012 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:22:37,013 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:22:37,020 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-04 12:22:37,025 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@44aaa987, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 12:22:37,033 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 12:22:37,043 INFO  ru.vladzag.web.user.UserRestController.updateVote:67 - User updateVote(id: 100010) for restaurant with id: 100003
2019-09-04 12:22:37,052 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@44aaa987, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:22:37,055 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:22:37,059 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:22:37,062 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 2 ms
2019-09-04 12:22:37,066 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4dfe5727, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 12:22:37,077 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 12:22:37,090 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4dfe5727, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:22:37,097 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:22:37,099 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:22:37,103 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 12:22:37,111 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@48682f91, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 12:22:37,122 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 12:22:37,128 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-04 12:22:37,152 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@48682f91, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:22:37,164 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 12:22:37,165 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@7d364bce, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1aa7d66e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5cc85ffc, org.springframework.test.context.support.DirtiesContextTestExecutionListener@189f2184, org.springframework.test.context.transaction.TransactionalTestExecutionListener@57386162, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7388d94d]
2019-09-04 12:22:37,179 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-04 12:22:37,179 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-04 12:22:37,236 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:22:37,262 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-04 12:22:37,263 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-04 12:22:37,265 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:22:37,426 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:22:37,592 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 12:22:37,593 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6dd8ac29, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@336b7da4, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@6019ce4b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1e79b0fc, org.springframework.test.context.transaction.TransactionalTestExecutionListener@36e8fefe, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5e8633da]
2019-09-04 12:22:37,595 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:22:37,596 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:22:37,602 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-04 12:22:37,609 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@528070fe testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@3df79197, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@53741683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 12:22:37,614 INFO  ru.vladzag.web.admin.AdminRestController.delete:79 - Admin deleteRestaurant with id: 100002
2019-09-04 12:22:37,620 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:22:37,627 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@528070fe testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@3df79197, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@53741683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:22:37,632 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:22:37,633 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:22:37,637 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-04 12:22:37,641 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@528070fe testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@50cb64d5, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@53741683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 12:22:37,647 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-04 12:22:37,648 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:22:37,659 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@528070fe testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@50cb64d5, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@53741683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:22:37,663 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:22:37,666 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:22:37,669 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 12:22:37,676 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@528070fe testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@302692b1, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@53741683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 12:22:37,702 INFO  ru.vladzag.web.admin.AdminRestController.update:87 - Admin updateRestaurant with id: 100002
2019-09-04 12:22:37,711 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:22:37,723 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@528070fe testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@302692b1, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@53741683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:22:37,727 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:22:37,730 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:22:37,740 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 9 ms
2019-09-04 12:22:37,746 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@528070fe testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@67cc5a38, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@53741683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 12:22:37,758 INFO  ru.vladzag.web.admin.AdminRestController.updateDish:126 - Admin updateDish with id: 100007
2019-09-04 12:22:37,767 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@528070fe testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@67cc5a38, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@53741683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:22:37,769 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:22:37,772 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:22:37,776 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 12:22:37,780 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@528070fe testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@48c56b42, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@53741683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 12:22:37,793 INFO  ru.vladzag.web.admin.AdminRestController.get:62 - Admin getRestaurant(id: 100005) in date: 2015-05-30
2019-09-04 12:22:37,810 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@528070fe testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@48c56b42, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@53741683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:22:37,814 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:22:37,815 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:22:37,820 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-04 12:22:37,825 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@528070fe testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@363751f2, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@53741683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 12:22:37,833 INFO  ru.vladzag.web.admin.AdminRestController.createDish:116 - Admin createDish with id: 100010
2019-09-04 12:22:37,843 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@528070fe testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@363751f2, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@53741683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:22:37,845 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:22:37,846 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:22:37,852 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 12:22:37,860 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@528070fe testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5cb42eb2, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@53741683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 12:22:37,863 INFO  ru.vladzag.web.admin.AdminRestController.delete:79 - Admin deleteRestaurant with id: 100002
2019-09-04 12:22:37,868 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:22:37,874 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@528070fe testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5cb42eb2, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@53741683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:22:37,877 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:22:37,879 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:22:37,882 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 2 ms
2019-09-04 12:22:37,886 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@528070fe testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@c32908c, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@53741683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 12:22:37,892 INFO  ru.vladzag.web.admin.AdminRestController.getAllHistory:46 - Admin getHistory
2019-09-04 12:22:37,907 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@528070fe testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@c32908c, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@53741683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:22:37,909 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:22:37,911 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:22:37,918 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-04 12:22:37,926 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@528070fe testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@e62d757, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@53741683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 12:22:37,932 INFO  ru.vladzag.web.admin.AdminRestController.createWithLocation:102 - Admin createRestaurant with id: 100011
2019-09-04 12:22:37,935 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:22:37,941 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@528070fe testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@e62d757, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@53741683 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:22:37,958 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 12:22:37,963 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 12:22:37,974 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 12:22:37,976 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 12:22:37,978 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 12:22:37,980 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 12:38:13,482 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 12:38:13,521 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6c6c5427, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@618c5d94, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5b40ceb, org.springframework.test.context.support.DirtiesContextTestExecutionListener@13c3c1e1, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1d8062d2, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e63ec0b]
2019-09-04 12:38:14,053 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 12:38:14,058 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 12:38:14,102 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 12:38:14,104 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 12:38:14,138 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 12:38:14,363 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 12:38:14,585 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 192ms. Found 4 repository interfaces.
2019-09-04 12:38:15,952 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 12:38:15,957 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 12:38:15,962 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 12:38:15,968 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 12:38:16,016 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 12:38:16,020 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 12:38:16,022 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 12:38:16,023 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 12:38:16,052 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 12:38:16,057 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 12:38:16,058 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 12:38:16,060 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 12:38:16,176 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 12:38:16,334 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 12:38:16,629 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 12:38:17,312 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 12:38:17,820 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 12:38:18,808 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 12:38:18,812 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 12:38:18,859 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 12:38:18,863 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 12:38:19,997 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@3d01ea33, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a914a00, org.springframework.security.web.header.HeaderWriterFilter@34ede267, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@59db8216, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@d763b06, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c04ddda, org.springframework.security.web.access.ExceptionTranslationFilter@3140ad41, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@782e0844]
2019-09-04 12:38:21,135 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 12:38:21,135 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3ef4a8fb, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@30f99ca1, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@edb8f0c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6f70015, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1d5fc340, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@613f48de]
2019-09-04 12:38:21,272 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 12:38:21,274 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 12:38:21,275 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 12:38:21,279 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 12:38:21,473 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 12:38:21,503 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 29ms. Found 4 repository interfaces.
2019-09-04 12:38:21,618 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 12:38:21,620 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 12:38:21,622 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 12:38:21,624 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 12:38:21,694 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 12:38:21,742 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 12:38:21,880 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 12:38:21,881 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 12:38:21,891 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 12:38:21,894 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 12:38:22,102 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@2c8f7d6a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@98a0842, org.springframework.security.web.header.HeaderWriterFilter@153c69bc, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7baea18b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1a899fcd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@798d8247, org.springframework.security.web.access.ExceptionTranslationFilter@7c6557da, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2a3c3a04]
2019-09-04 12:38:22,995 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 12:38:23,041 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 12:38:23,191 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:38:23,192 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:38:23,213 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 19 ms
2019-09-04 12:38:23,223 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3f213e97 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@693c7741, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7d3b4646 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@369f85c6]; rollback [true]
2019-09-04 12:38:23,323 INFO  ru.vladzag.web.user.UserRestController.getRestaurant:55 - User getRestaurant with id: 100005
2019-09-04 12:38:23,501 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3f213e97 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@693c7741, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7d3b4646 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:38:23,507 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:38:23,510 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:38:23,517 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-04 12:38:23,526 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3f213e97 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@3f4fd0dc, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7d3b4646 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@369f85c6]; rollback [true]
2019-09-04 12:38:23,541 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:38:23,620 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3f213e97 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@3f4fd0dc, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7d3b4646 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:38:23,622 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:38:23,624 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:38:23,633 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-04 12:38:23,639 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3f213e97 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@7a9e44ff, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7d3b4646 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@369f85c6]; rollback [true]
2019-09-04 12:38:23,647 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-04 12:38:23,659 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3f213e97 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@7a9e44ff, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = org.opentest4j.AssertionFailedError: Expected org.springframework.web.util.NestedServletException to be thrown, but nothing was thrown., mergedContextConfiguration = [WebMergedContextConfiguration@7d3b4646 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:38:23,669 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:38:23,670 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:38:23,681 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 9 ms
2019-09-04 12:38:23,685 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3f213e97 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@119f02d2, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7d3b4646 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@369f85c6]; rollback [true]
2019-09-04 12:38:23,702 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 12:38:23,718 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100003
2019-09-04 12:38:23,728 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3f213e97 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@119f02d2, testMethod = createTwice@UserRestControllerTest, testException = org.opentest4j.AssertionFailedError: Expected java.lang.Exception to be thrown, but nothing was thrown., mergedContextConfiguration = [WebMergedContextConfiguration@7d3b4646 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:38:23,735 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:38:23,736 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:38:23,755 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 12 ms
2019-09-04 12:38:23,765 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3f213e97 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@13617139, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7d3b4646 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@369f85c6]; rollback [true]
2019-09-04 12:38:23,773 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 12:38:23,783 INFO  ru.vladzag.web.user.UserRestController.updateVote:67 - User updateVote(id: 100010) for restaurant with id: 100003
2019-09-04 12:38:23,789 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3f213e97 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@13617139, testMethod = updateVote@UserRestControllerTest, testException = org.opentest4j.AssertionFailedError: Expected java.lang.Exception to be thrown, but nothing was thrown., mergedContextConfiguration = [WebMergedContextConfiguration@7d3b4646 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:38:23,795 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:38:23,799 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:38:23,810 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 7 ms
2019-09-04 12:38:23,822 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3f213e97 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@482034fb, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7d3b4646 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@369f85c6]; rollback [true]
2019-09-04 12:38:23,830 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 12:38:23,842 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3f213e97 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@482034fb, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7d3b4646 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:38:23,850 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:38:23,851 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:38:23,855 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 12:38:23,863 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3f213e97 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@673a702a, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7d3b4646 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@369f85c6]; rollback [true]
2019-09-04 12:38:23,871 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 12:38:23,878 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-04 12:38:23,902 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3f213e97 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@673a702a, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7d3b4646 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:38:23,930 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 12:38:23,931 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1676e501, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1ed763aa, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7f39bcb5, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4e6881e, org.springframework.test.context.transaction.TransactionalTestExecutionListener@25192b6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@76d654]
2019-09-04 12:38:23,942 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-04 12:38:23,942 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-04 12:38:24,012 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:38:24,094 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-04 12:38:24,094 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-04 12:38:24,096 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:38:24,298 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:38:24,489 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 12:38:24,490 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@45aa02de, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@19598b38, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5d16bb07, org.springframework.test.context.support.DirtiesContextTestExecutionListener@233bfc46, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3612a60d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6347ebbc]
2019-09-04 12:38:24,494 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:38:24,495 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:38:24,498 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 12:38:24,501 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@54455c8d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@80347b2, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@eb65fc8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@369f85c6]; rollback [true]
2019-09-04 12:38:24,517 INFO  ru.vladzag.web.admin.AdminRestController.delete:79 - Admin deleteRestaurant with id: 100002
2019-09-04 12:38:24,528 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:38:24,532 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@54455c8d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@80347b2, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@eb65fc8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:38:24,534 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:38:24,536 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:38:24,548 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 8 ms
2019-09-04 12:38:24,554 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@54455c8d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@ae49f31, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@eb65fc8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@369f85c6]; rollback [true]
2019-09-04 12:38:24,570 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-04 12:38:24,574 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:38:24,583 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@54455c8d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@ae49f31, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@eb65fc8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:38:24,590 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:38:24,592 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:38:24,599 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-04 12:38:24,613 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@54455c8d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@3de507af, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@eb65fc8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@369f85c6]; rollback [true]
2019-09-04 12:38:24,639 INFO  ru.vladzag.web.admin.AdminRestController.update:87 - Admin updateRestaurant with id: 100002
2019-09-04 12:38:24,649 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:38:24,668 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@54455c8d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@3de507af, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@eb65fc8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:38:24,671 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:38:24,676 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:38:24,684 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 12:38:24,692 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@54455c8d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@23471f48, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@eb65fc8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@369f85c6]; rollback [true]
2019-09-04 12:38:24,709 INFO  ru.vladzag.web.admin.AdminRestController.updateDish:126 - Admin updateDish with id: 100007
2019-09-04 12:38:24,717 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@54455c8d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@23471f48, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@eb65fc8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:38:24,721 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:38:24,724 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:38:24,730 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-04 12:38:24,738 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@54455c8d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@144caca6, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@eb65fc8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@369f85c6]; rollback [true]
2019-09-04 12:38:24,752 INFO  ru.vladzag.web.admin.AdminRestController.get:62 - Admin getRestaurant(id: 100005) in date: 2015-05-30
2019-09-04 12:38:24,770 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@54455c8d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@144caca6, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@eb65fc8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:38:24,773 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:38:24,781 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:38:24,783 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 2 ms
2019-09-04 12:38:24,792 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@54455c8d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@17524c36, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@eb65fc8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@369f85c6]; rollback [true]
2019-09-04 12:38:24,802 INFO  ru.vladzag.web.admin.AdminRestController.createDish:116 - Admin createDish with id: 100010
2019-09-04 12:38:24,813 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@54455c8d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@17524c36, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@eb65fc8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:38:24,815 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:38:24,816 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:38:24,823 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-04 12:38:24,828 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@54455c8d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@108a7fff, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@eb65fc8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@369f85c6]; rollback [true]
2019-09-04 12:38:24,833 INFO  ru.vladzag.web.admin.AdminRestController.delete:79 - Admin deleteRestaurant with id: 100002
2019-09-04 12:38:24,836 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:38:24,842 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@54455c8d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@108a7fff, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@eb65fc8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:38:24,845 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:38:24,849 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:38:24,855 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 12:38:24,858 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@54455c8d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@42014a, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@eb65fc8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@369f85c6]; rollback [true]
2019-09-04 12:38:24,865 INFO  ru.vladzag.web.admin.AdminRestController.getAllHistory:46 - Admin getHistory
2019-09-04 12:38:24,885 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@54455c8d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@42014a, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@eb65fc8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:38:24,886 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:38:24,889 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:38:24,899 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-04 12:38:24,904 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@54455c8d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@424461ad, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@eb65fc8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@369f85c6]; rollback [true]
2019-09-04 12:38:24,909 INFO  ru.vladzag.web.admin.AdminRestController.createWithLocation:102 - Admin createRestaurant with id: 100011
2019-09-04 12:38:24,916 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:38:24,921 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@54455c8d testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@424461ad, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@eb65fc8 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:38:24,937 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 12:38:24,943 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 12:38:24,952 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 12:38:24,954 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 12:38:24,957 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 12:38:24,958 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 12:41:22,021 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 12:41:22,076 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@749c877b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@efde75f, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@16ecee1, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3b220bcb, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2b95e48b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4a3329b9]
2019-09-04 12:41:22,710 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 12:41:22,716 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 12:41:22,763 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 12:41:22,765 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 12:41:22,804 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 12:41:23,038 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 12:41:23,225 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 159ms. Found 4 repository interfaces.
2019-09-04 12:41:24,500 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 12:41:24,505 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 12:41:24,511 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 12:41:24,516 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 12:41:24,566 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 12:41:24,569 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 12:41:24,570 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 12:41:24,571 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 12:41:24,599 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 12:41:24,602 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 12:41:24,604 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 12:41:24,607 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 12:41:24,714 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 12:41:24,833 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 12:41:25,077 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 12:41:25,681 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 12:41:26,182 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 12:41:27,223 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 12:41:27,227 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 12:41:27,279 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 12:41:27,283 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 12:41:28,360 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@566cc6af, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@31b289da, org.springframework.security.web.header.HeaderWriterFilter@19677add, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5b407336, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@243162b1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1a06b95, org.springframework.security.web.access.ExceptionTranslationFilter@46610fc9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@21be80f6]
2019-09-04 12:41:29,465 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 12:41:29,466 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@402fdef1, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@69e8f7a5, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@1013aa94, org.springframework.test.context.support.DirtiesContextTestExecutionListener@36bd07ec, org.springframework.test.context.transaction.TransactionalTestExecutionListener@85b9f9c, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@26a004ed]
2019-09-04 12:41:29,592 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 12:41:29,599 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 12:41:29,603 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 12:41:29,606 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 12:41:29,800 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 12:41:29,824 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 21ms. Found 4 repository interfaces.
2019-09-04 12:41:29,965 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 12:41:29,967 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 12:41:29,969 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 12:41:29,970 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 12:41:30,030 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 12:41:30,044 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 12:41:30,145 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 12:41:30,146 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 12:41:30,154 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 12:41:30,156 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 12:41:30,322 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@439047ef, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@62b2bc2e, org.springframework.security.web.header.HeaderWriterFilter@56f569e, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@16a78700, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b4675db, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4d50f682, org.springframework.security.web.access.ExceptionTranslationFilter@4778c085, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7ceb7a60]
2019-09-04 12:41:31,022 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 12:41:31,063 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 12:41:31,204 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:41:31,205 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:41:31,219 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 13 ms
2019-09-04 12:41:31,233 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@505bc480 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@394a7390, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7926d092 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@272cec71]; rollback [true]
2019-09-04 12:41:31,317 INFO  ru.vladzag.web.user.UserRestController.getRestaurant:55 - User getRestaurant with id: 100005
2019-09-04 12:41:31,459 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@505bc480 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@394a7390, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7926d092 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:41:31,466 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:41:31,470 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:41:31,476 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-04 12:41:31,482 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@505bc480 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@77ac7cd6, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7926d092 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@272cec71]; rollback [true]
2019-09-04 12:41:31,504 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:41:31,581 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@505bc480 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@77ac7cd6, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7926d092 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:41:31,585 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:41:31,588 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:41:31,592 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 2 ms
2019-09-04 12:41:31,599 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@505bc480 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@49976824, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7926d092 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@272cec71]; rollback [true]
2019-09-04 12:41:31,611 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-04 12:41:31,622 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@505bc480 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@49976824, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7926d092 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:41:31,624 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:41:31,627 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:41:31,634 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-04 12:41:31,642 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@505bc480 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@1f8e1096, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7926d092 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@272cec71]; rollback [true]
2019-09-04 12:41:31,658 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 12:41:31,671 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100003
2019-09-04 12:41:31,682 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@505bc480 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@1f8e1096, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7926d092 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:41:31,684 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:41:31,687 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:41:31,695 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-04 12:41:31,699 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@505bc480 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@119f02d2, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7926d092 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@272cec71]; rollback [true]
2019-09-04 12:41:31,708 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 12:41:31,715 INFO  ru.vladzag.web.user.UserRestController.updateVote:67 - User updateVote(id: 100010) for restaurant with id: 100003
2019-09-04 12:41:31,727 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@505bc480 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@119f02d2, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7926d092 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:41:31,729 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:41:31,732 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:41:31,741 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-04 12:41:31,747 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@505bc480 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@7b3d3d3d, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7926d092 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@272cec71]; rollback [true]
2019-09-04 12:41:31,759 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 12:41:31,773 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@505bc480 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@7b3d3d3d, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7926d092 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:41:31,775 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:41:31,780 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:41:31,787 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-04 12:41:31,794 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@505bc480 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@5dfaa2f0, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7926d092 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@272cec71]; rollback [true]
2019-09-04 12:41:31,800 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 12:41:31,808 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-04 12:41:31,835 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@505bc480 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@5dfaa2f0, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7926d092 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:41:31,855 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 12:41:31,856 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@221ef0f0, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@34ad750f, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@2a5917f6, org.springframework.test.context.support.DirtiesContextTestExecutionListener@c34fd2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@558fa64a, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@a55b4f9]
2019-09-04 12:41:31,877 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-04 12:41:31,878 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-04 12:41:31,959 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:41:31,983 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-04 12:41:31,985 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-04 12:41:31,987 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:41:32,189 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:41:32,371 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 12:41:32,372 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@51039ec9, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@16575bfe, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@60003305, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3f1dadeb, org.springframework.test.context.transaction.TransactionalTestExecutionListener@72259917, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5e81b406]
2019-09-04 12:41:32,374 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:41:32,375 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:41:32,378 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 12:41:32,382 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@336b7da4 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@6019ce4b, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1e79b0fc testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@272cec71]; rollback [true]
2019-09-04 12:41:32,388 INFO  ru.vladzag.web.admin.AdminRestController.delete:79 - Admin deleteRestaurant with id: 100002
2019-09-04 12:41:32,406 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:41:32,410 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@336b7da4 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@6019ce4b, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1e79b0fc testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:41:32,415 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:41:32,417 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:41:32,426 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-04 12:41:32,435 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@336b7da4 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@2ce7ec5f, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1e79b0fc testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@272cec71]; rollback [true]
2019-09-04 12:41:32,439 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-04 12:41:32,439 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:41:32,448 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@336b7da4 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@2ce7ec5f, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1e79b0fc testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:41:32,450 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:41:32,454 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:41:32,459 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 12:41:32,464 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@336b7da4 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@b61aa50, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1e79b0fc testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@272cec71]; rollback [true]
2019-09-04 12:41:32,488 INFO  ru.vladzag.web.admin.AdminRestController.update:87 - Admin updateRestaurant with id: 100002
2019-09-04 12:41:32,494 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:41:32,507 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@336b7da4 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@b61aa50, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1e79b0fc testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:41:32,511 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:41:32,514 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:41:32,524 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-04 12:41:32,537 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@336b7da4 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@295e989, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1e79b0fc testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@272cec71]; rollback [true]
2019-09-04 12:41:32,556 INFO  ru.vladzag.web.admin.AdminRestController.updateDish:126 - Admin updateDish with id: 100007
2019-09-04 12:41:32,565 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@336b7da4 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@295e989, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1e79b0fc testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:41:32,569 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:41:32,571 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:41:32,579 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-04 12:41:32,591 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@336b7da4 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@23471f48, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1e79b0fc testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@272cec71]; rollback [true]
2019-09-04 12:41:32,604 INFO  ru.vladzag.web.admin.AdminRestController.get:62 - Admin getRestaurant(id: 100005) in date: 2015-05-30
2019-09-04 12:41:32,622 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@336b7da4 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@23471f48, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1e79b0fc testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:41:32,625 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:41:32,627 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:41:32,633 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-04 12:41:32,645 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@336b7da4 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@6960e7a6, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1e79b0fc testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@272cec71]; rollback [true]
2019-09-04 12:41:32,653 INFO  ru.vladzag.web.admin.AdminRestController.createDish:116 - Admin createDish with id: 100010
2019-09-04 12:41:32,661 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@336b7da4 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@6960e7a6, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1e79b0fc testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:41:32,666 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:41:32,670 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:41:32,676 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-04 12:41:32,682 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@336b7da4 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7fb70e94, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1e79b0fc testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@272cec71]; rollback [true]
2019-09-04 12:41:32,687 INFO  ru.vladzag.web.admin.AdminRestController.delete:79 - Admin deleteRestaurant with id: 100002
2019-09-04 12:41:32,691 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:41:32,697 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@336b7da4 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7fb70e94, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1e79b0fc testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:41:32,707 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:41:32,707 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:41:32,711 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 12:41:32,719 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@336b7da4 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@17524c36, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1e79b0fc testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@272cec71]; rollback [true]
2019-09-04 12:41:32,722 INFO  ru.vladzag.web.admin.AdminRestController.getAllHistory:46 - Admin getHistory
2019-09-04 12:41:32,735 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@336b7da4 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@17524c36, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1e79b0fc testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:41:32,737 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:41:32,740 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:41:32,746 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-04 12:41:32,752 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@336b7da4 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@615f61ec, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1e79b0fc testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@272cec71]; rollback [true]
2019-09-04 12:41:32,759 INFO  ru.vladzag.web.admin.AdminRestController.createWithLocation:102 - Admin createRestaurant with id: 100011
2019-09-04 12:41:32,762 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:41:32,768 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@336b7da4 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@615f61ec, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1e79b0fc testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:41:32,786 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 12:41:32,795 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 12:41:32,804 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 12:41:32,808 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 12:41:32,809 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 12:41:32,810 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 12:47:56,236 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 12:47:56,266 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@55322aab, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2b4c1d96, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@45fd9a4d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@50468873, org.springframework.test.context.transaction.TransactionalTestExecutionListener@146587a2, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5f0e9815]
2019-09-04 12:47:57,048 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 12:47:57,056 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 12:47:57,113 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 12:47:57,172 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 12:47:57,227 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 12:47:57,502 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 12:47:57,733 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 200ms. Found 4 repository interfaces.
2019-09-04 12:47:59,024 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 12:47:59,031 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 12:47:59,038 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 12:47:59,043 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 12:47:59,096 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 12:47:59,100 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 12:47:59,101 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 12:47:59,103 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 12:47:59,137 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 12:47:59,143 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 12:47:59,145 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 12:47:59,147 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 12:47:59,302 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 12:47:59,456 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 12:47:59,707 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 12:48:00,355 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 12:48:00,910 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 12:48:02,031 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 12:48:02,034 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 12:48:02,087 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 12:48:02,091 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 12:48:03,093 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@3c17794e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7c02b3cb, org.springframework.security.web.header.HeaderWriterFilter@2c4be45f, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4b4228cf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@55d8f6bb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6e22d6bf, org.springframework.security.web.access.ExceptionTranslationFilter@639cb0c8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@45c28c49]
2019-09-04 12:48:03,910 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 12:48:03,923 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 12:48:03,925 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 12:48:03,926 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 12:48:03,927 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 12:49:05,795 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 12:49:05,828 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@295eaa7c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3918c187, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@2c88b9fc, org.springframework.test.context.support.DirtiesContextTestExecutionListener@64dafeed, org.springframework.test.context.transaction.TransactionalTestExecutionListener@388ba540, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@47605f2f]
2019-09-04 12:49:06,516 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 12:49:06,522 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 12:49:06,591 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 12:49:06,605 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 12:49:06,641 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 12:49:06,976 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 12:49:07,182 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 173ms. Found 4 repository interfaces.
2019-09-04 12:49:08,549 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 12:49:08,555 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 12:49:08,560 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 12:49:08,566 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 12:49:08,619 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 12:49:08,623 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 12:49:08,626 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 12:49:08,627 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 12:49:08,662 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 12:49:08,665 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 12:49:08,667 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 12:49:08,668 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 12:49:08,799 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 12:49:08,925 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 12:49:09,167 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 12:49:09,750 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 12:49:10,201 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 12:49:11,177 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 12:49:11,180 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 12:49:11,234 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 12:49:11,238 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 12:49:12,236 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@c7269ad, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42536da6, org.springframework.security.web.header.HeaderWriterFilter@17034458, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@463a1f47, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7ac1161f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3d6745ed, org.springframework.security.web.access.ExceptionTranslationFilter@285ac40b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@205b73d8]
2019-09-04 12:49:13,255 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 12:49:13,256 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@61c644fe, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@cbaabfb, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@48614fb3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4eb3b690, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1d01fa0c, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@44bd7f24]
2019-09-04 12:49:13,365 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 12:49:13,368 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 12:49:13,369 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 12:49:13,371 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 12:49:13,532 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 12:49:13,562 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 27ms. Found 4 repository interfaces.
2019-09-04 12:49:13,668 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 12:49:13,670 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 12:49:13,671 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 12:49:13,673 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 12:49:13,728 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 12:49:13,749 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 12:49:13,855 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 12:49:13,856 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 12:49:13,867 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 12:49:13,870 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 12:49:14,032 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@702ab027, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@8929865, org.springframework.security.web.header.HeaderWriterFilter@1a000fff, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@798d8247, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2ccb8db3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@642b2176, org.springframework.security.web.access.ExceptionTranslationFilter@2c1b10f2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@653a5a]
2019-09-04 12:49:14,787 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 12:49:14,837 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 12:49:15,004 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:49:15,005 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:49:15,017 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 11 ms
2019-09-04 12:49:15,030 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@74f54f8e testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@1252d480, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@59b8a801 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@735d7b99]; rollback [true]
2019-09-04 12:49:15,109 INFO  ru.vladzag.web.user.UserRestController.getRestaurant:55 - User getRestaurant with id: 100005
2019-09-04 12:49:15,253 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@74f54f8e testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@1252d480, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@59b8a801 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:49:15,256 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:49:15,259 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:49:15,263 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 12:49:15,276 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@74f54f8e testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@225d93aa, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@59b8a801 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@735d7b99]; rollback [true]
2019-09-04 12:49:15,288 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:49:15,344 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@74f54f8e testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@225d93aa, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@59b8a801 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:49:15,347 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:49:15,349 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:49:15,356 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-04 12:49:15,363 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@74f54f8e testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@76d4e1af, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@59b8a801 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@735d7b99]; rollback [true]
2019-09-04 12:49:15,372 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-04 12:49:15,380 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@74f54f8e testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@76d4e1af, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@59b8a801 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:49:15,383 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:49:15,386 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:49:15,390 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 12:49:15,401 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@74f54f8e testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4f3a8e3e, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@59b8a801 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@735d7b99]; rollback [true]
2019-09-04 12:49:15,409 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 12:49:15,422 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100003
2019-09-04 12:49:15,434 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@74f54f8e testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4f3a8e3e, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@59b8a801 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:49:15,437 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:49:15,439 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:49:15,443 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 12:49:15,449 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@74f54f8e testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@470c2a7a, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@59b8a801 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@735d7b99]; rollback [true]
2019-09-04 12:49:15,458 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 12:49:15,468 INFO  ru.vladzag.web.user.UserRestController.updateVote:67 - User updateVote(id: 100010) for restaurant with id: 100003
2019-09-04 12:49:15,475 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@74f54f8e testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@470c2a7a, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@59b8a801 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:49:15,477 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:49:15,479 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:49:15,483 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 12:49:15,491 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@74f54f8e testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@210e4678, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@59b8a801 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@735d7b99]; rollback [true]
2019-09-04 12:49:15,502 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 12:49:15,513 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@74f54f8e testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@210e4678, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@59b8a801 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:49:15,515 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:49:15,520 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:49:15,523 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 2 ms
2019-09-04 12:49:15,529 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@74f54f8e testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@386b4f7e, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@59b8a801 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@735d7b99]; rollback [true]
2019-09-04 12:49:15,536 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 12:49:15,541 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-04 12:49:15,564 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@74f54f8e testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@386b4f7e, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@59b8a801 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:49:15,585 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 12:49:15,587 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5207747c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@68596992, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5f0c45ae, org.springframework.test.context.support.DirtiesContextTestExecutionListener@66d62c59, org.springframework.test.context.transaction.TransactionalTestExecutionListener@f1b006b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2c2dfde3]
2019-09-04 12:49:15,602 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-04 12:49:15,603 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-04 12:49:15,662 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:49:15,685 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-04 12:49:15,686 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-04 12:49:15,688 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:49:15,839 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:49:16,011 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 12:49:16,012 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@207e3ffd, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2a3251ad, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@457547a1, org.springframework.test.context.support.DirtiesContextTestExecutionListener@795ce9b5, org.springframework.test.context.transaction.TransactionalTestExecutionListener@280cb0b4, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@108b2321]
2019-09-04 12:49:16,017 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:49:16,018 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:49:16,022 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 12:49:16,026 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2ce7ec5f testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@65bc50c9, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7b381066 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@735d7b99]; rollback [true]
2019-09-04 12:49:16,034 INFO  ru.vladzag.web.admin.AdminRestController.delete:79 - Admin deleteRestaurant with id: 100002
2019-09-04 12:49:16,040 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:49:16,045 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2ce7ec5f testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@65bc50c9, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7b381066 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:49:16,047 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:49:16,048 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:49:16,059 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 8 ms
2019-09-04 12:49:16,065 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2ce7ec5f testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@80347b2, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7b381066 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@735d7b99]; rollback [true]
2019-09-04 12:49:16,072 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-04 12:49:16,074 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:49:16,081 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2ce7ec5f testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@80347b2, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7b381066 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:49:16,083 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:49:16,084 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:49:16,090 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 12:49:16,096 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2ce7ec5f testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@4bda93f1, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7b381066 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@735d7b99]; rollback [true]
2019-09-04 12:49:16,115 INFO  ru.vladzag.web.admin.AdminRestController.update:87 - Admin updateRestaurant with id: 100002
2019-09-04 12:49:16,122 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:49:16,133 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2ce7ec5f testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@4bda93f1, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7b381066 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:49:16,135 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:49:16,137 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:49:16,143 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-04 12:49:16,149 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2ce7ec5f testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@40af3dd8, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7b381066 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@735d7b99]; rollback [true]
2019-09-04 12:49:16,162 INFO  ru.vladzag.web.admin.AdminRestController.updateDish:126 - Admin updateDish with id: 100007
2019-09-04 12:49:16,174 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2ce7ec5f testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@40af3dd8, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7b381066 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:49:16,180 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:49:16,181 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:49:16,184 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 2 ms
2019-09-04 12:49:16,194 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2ce7ec5f testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@77fd5501, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7b381066 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@735d7b99]; rollback [true]
2019-09-04 12:49:16,206 INFO  ru.vladzag.web.admin.AdminRestController.get:62 - Admin getRestaurant(id: 100005) in date: 2015-05-30
2019-09-04 12:49:16,226 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2ce7ec5f testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@77fd5501, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7b381066 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:49:16,228 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:49:16,228 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:49:16,234 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 12:49:16,238 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2ce7ec5f testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@6018a6a2, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7b381066 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@735d7b99]; rollback [true]
2019-09-04 12:49:16,246 INFO  ru.vladzag.web.admin.AdminRestController.createDish:116 - Admin createDish with id: 100010
2019-09-04 12:49:16,255 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2ce7ec5f testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@6018a6a2, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7b381066 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:49:16,260 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:49:16,261 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:49:16,267 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-04 12:49:16,272 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2ce7ec5f testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@2a1fce44, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7b381066 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@735d7b99]; rollback [true]
2019-09-04 12:49:16,275 INFO  ru.vladzag.web.admin.AdminRestController.delete:79 - Admin deleteRestaurant with id: 100002
2019-09-04 12:49:16,278 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:49:16,284 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2ce7ec5f testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@2a1fce44, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7b381066 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:49:16,285 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:49:16,288 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:49:16,292 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 12:49:16,301 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2ce7ec5f testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@47e02a89, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7b381066 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@735d7b99]; rollback [true]
2019-09-04 12:49:16,303 INFO  ru.vladzag.web.admin.AdminRestController.getAllHistory:46 - Admin getHistory
2019-09-04 12:49:16,321 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2ce7ec5f testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@47e02a89, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7b381066 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:49:16,323 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 12:49:16,324 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 12:49:16,333 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-04 12:49:16,339 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2ce7ec5f testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@31f5580b, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7b381066 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@735d7b99]; rollback [true]
2019-09-04 12:49:16,344 INFO  ru.vladzag.web.admin.AdminRestController.createWithLocation:102 - Admin createRestaurant with id: 100011
2019-09-04 12:49:16,347 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 12:49:16,355 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2ce7ec5f testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@31f5580b, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7b381066 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 12:49:16,371 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 12:49:16,376 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 12:49:16,385 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 12:49:16,387 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 12:49:16,389 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 12:49:16,390 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 13:03:05,467 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 13:03:05,503 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4a3329b9, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3dddefd8, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@160ac7fb, org.springframework.test.context.support.DirtiesContextTestExecutionListener@12bfd80d, org.springframework.test.context.transaction.TransactionalTestExecutionListener@41925502, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@13e3c1c7]
2019-09-04 13:03:06,082 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 13:03:06,087 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 13:03:06,130 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 13:03:06,133 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 13:03:06,167 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 13:03:06,383 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 13:03:06,629 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 213ms. Found 4 repository interfaces.
2019-09-04 13:03:08,460 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 13:03:08,466 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 13:03:08,475 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 13:03:08,481 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 13:03:08,536 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 13:03:08,539 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 13:03:08,541 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 13:03:08,543 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 13:03:08,586 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 13:03:08,589 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 13:03:08,591 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 13:03:08,593 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 13:03:08,729 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 13:03:08,882 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 13:03:09,149 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 13:03:09,966 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 13:03:10,674 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 13:03:12,316 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 13:03:12,321 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 13:03:12,401 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 13:03:12,406 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 13:03:14,002 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@58486deb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3d01ea33, org.springframework.security.web.header.HeaderWriterFilter@62f6185a, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@632d1b1b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@49ee3b8d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2526d5f9, org.springframework.security.web.access.ExceptionTranslationFilter@eb1e868, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@18ffc008]
2019-09-04 13:03:15,384 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 13:03:15,387 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@21457b14, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7e484bd, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7e1ae693, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3e0600a4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@341141ab, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1773faf8]
2019-09-04 13:03:15,622 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 13:03:15,625 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 13:03:15,626 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 13:03:15,629 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 13:03:15,899 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 13:03:15,961 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 47ms. Found 4 repository interfaces.
2019-09-04 13:03:16,108 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 13:03:16,110 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 13:03:16,111 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 13:03:16,114 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 13:03:16,194 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 13:03:16,223 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 13:03:16,340 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 13:03:16,340 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 13:03:16,352 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 13:03:16,355 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 13:03:16,545 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@56f569e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3da12ba4, org.springframework.security.web.header.HeaderWriterFilter@702ab027, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2086f336, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3445341, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@14a5d7ee, org.springframework.security.web.access.ExceptionTranslationFilter@2ccb8db3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4a83d61c]
2019-09-04 13:03:17,284 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 13:03:17,345 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 13:03:17,492 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 13:03:17,493 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 13:03:17,505 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 11 ms
2019-09-04 13:03:17,516 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@157ff8f8, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 13:03:17,584 INFO  ru.vladzag.web.user.UserRestController.getRestaurant:55 - User getRestaurant with id: 100005
2019-09-04 13:03:17,720 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@157ff8f8, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 13:03:17,724 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 13:03:17,727 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 13:03:17,730 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 2 ms
2019-09-04 13:03:17,734 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@394c77e2, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 13:03:17,748 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 13:03:17,798 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@394c77e2, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 13:03:17,800 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 13:03:17,803 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 13:03:17,809 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-04 13:03:17,815 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@27e42fe8, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 13:03:17,825 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-04 13:03:17,833 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@27e42fe8, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 13:03:17,836 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 13:03:17,838 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 13:03:17,843 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-04 13:03:17,849 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@72499396, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 13:03:17,861 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 13:03:17,873 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100003
2019-09-04 13:03:17,885 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@72499396, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 13:03:17,888 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 13:03:17,891 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 13:03:17,895 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 13:03:17,903 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@6f13ed1, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 13:03:17,913 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 13:03:17,922 INFO  ru.vladzag.web.user.UserRestController.updateVote:67 - User updateVote(id: 100010) for restaurant with id: 100003
2019-09-04 13:03:17,931 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@6f13ed1, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 13:03:17,934 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 13:03:17,936 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 13:03:17,943 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-04 13:03:17,949 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@45cce4c2, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 13:03:17,959 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 13:03:17,975 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@45cce4c2, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 13:03:17,981 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 13:03:17,982 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 13:03:17,985 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 13:03:17,994 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@fcee97c, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 13:03:18,004 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 13:03:18,012 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-04 13:03:18,037 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2d10160a testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@fcee97c, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a1abba1 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 13:03:18,051 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 13:03:18,055 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@68d1f4e2, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@72769bf5, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5a63de07, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7d364bce, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1aa7d66e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5cc85ffc]
2019-09-04 13:03:18,068 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-04 13:03:18,068 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-04 13:03:18,127 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 13:03:18,149 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-04 13:03:18,150 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-04 13:03:18,156 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 13:03:18,316 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 13:03:18,465 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 13:03:18,466 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5e81b406, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3ff83cc8, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@6dd8ac29, org.springframework.test.context.support.DirtiesContextTestExecutionListener@336b7da4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6019ce4b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e79b0fc]
2019-09-04 13:03:18,468 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 13:03:18,470 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 13:03:18,474 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 13:03:18,479 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@236e6563, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 13:03:18,485 INFO  ru.vladzag.web.admin.AdminRestController.delete:79 - Admin deleteRestaurant with id: 100002
2019-09-04 13:03:18,493 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 13:03:18,496 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@236e6563, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 13:03:18,501 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 13:03:18,503 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 13:03:18,508 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 13:03:18,514 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@15844237, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 13:03:18,520 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-04 13:03:18,522 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 13:03:18,531 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@15844237, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 13:03:18,533 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 13:03:18,534 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 13:03:18,538 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 13:03:18,543 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5cd5e1b6, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 13:03:18,555 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:198 - Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required String parameter 'restaurantName' is not present]
2019-09-04 13:03:18,559 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5cd5e1b6, testMethod = update@AdminRestControllerTest, testException = java.lang.AssertionError: Status expected:<204> but was:<400>, mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 13:03:18,568 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 13:03:18,568 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 13:03:18,572 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 13:03:18,599 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@34438b38, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 13:03:18,627 INFO  ru.vladzag.web.admin.AdminRestController.updateDish:126 - Admin updateDish with id: 100007
2019-09-04 13:03:18,635 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@34438b38, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 13:03:18,637 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 13:03:18,637 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 13:03:18,641 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 13:03:18,648 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@2898cd46, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 13:03:18,660 INFO  ru.vladzag.web.admin.AdminRestController.get:62 - Admin getRestaurant(id: 100005) in date: 2015-05-30
2019-09-04 13:03:18,679 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@2898cd46, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 13:03:18,682 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 13:03:18,684 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 13:03:18,696 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 8 ms
2019-09-04 13:03:18,705 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@31aec04a, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 13:03:18,717 INFO  ru.vladzag.web.admin.AdminRestController.createDish:116 - Admin createDish with id: 100010
2019-09-04 13:03:18,727 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@31aec04a, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 13:03:18,728 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 13:03:18,729 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 13:03:18,733 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 13:03:18,737 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7b237c2c, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 13:03:18,744 INFO  ru.vladzag.web.admin.AdminRestController.delete:79 - Admin deleteRestaurant with id: 100002
2019-09-04 13:03:18,749 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 13:03:18,752 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7b237c2c, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 13:03:18,754 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 13:03:18,757 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 13:03:18,760 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 2 ms
2019-09-04 13:03:18,772 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@2aa85cc4, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 13:03:18,776 INFO  ru.vladzag.web.admin.AdminRestController.getAllHistory:46 - Admin getHistory
2019-09-04 13:03:18,794 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@2aa85cc4, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 13:03:18,795 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 13:03:18,796 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 13:03:18,801 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-04 13:03:18,809 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@cf315f1, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c8da7e8]; rollback [true]
2019-09-04 13:03:18,812 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:198 - Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required String parameter 'restaurantName' is not present]
2019-09-04 13:03:18,815 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@70c3c5d7 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@cf315f1, testMethod = createWithLocation@AdminRestControllerTest, testException = java.lang.IllegalArgumentException: Invalid read from JSON:
'', mergedContextConfiguration = [WebMergedContextConfiguration@528070fe testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 13:03:18,834 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 13:03:18,845 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 13:03:18,855 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 13:03:18,859 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 13:03:18,860 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 13:03:18,861 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 13:07:16,424 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 13:07:16,460 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2654635, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@737a135b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@687ef2e0, org.springframework.test.context.support.DirtiesContextTestExecutionListener@15dcfae7, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3da05287, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e636ea3]
2019-09-04 13:07:17,301 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 13:07:17,307 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 13:07:17,389 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 13:07:17,391 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 13:07:17,434 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 13:07:18,022 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 13:07:18,249 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 201ms. Found 4 repository interfaces.
2019-09-04 13:07:19,664 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 13:07:19,669 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 13:07:19,675 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 13:07:19,680 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 13:07:19,734 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 13:07:19,739 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 13:07:19,741 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 13:07:19,743 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 13:07:19,774 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 13:07:19,778 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 13:07:19,779 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 13:07:19,781 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 13:07:20,113 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 13:07:20,196 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 13:07:20,408 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 13:07:20,976 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 13:07:21,462 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 13:07:22,465 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 13:07:22,470 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 13:07:22,521 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 13:07:22,526 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 13:07:23,469 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@464d60fb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6167c42f, org.springframework.security.web.header.HeaderWriterFilter@7c9512c6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3bf52f8f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e75bef1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4351d055, org.springframework.security.web.access.ExceptionTranslationFilter@7983a5d5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2f69d246]
2019-09-04 13:07:24,577 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 13:07:24,631 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 13:07:24,866 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 13:07:24,868 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 13:07:24,882 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 13 ms
2019-09-04 13:07:24,910 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@5bb661e0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@18fcfe7e, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1ed0128b testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@25630ede]; rollback [true]
2019-09-04 13:07:25,018 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:198 - Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type '' not supported]
2019-09-04 13:07:25,031 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@5bb661e0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@18fcfe7e, testMethod = update@AdminRestControllerTest, testException = java.lang.AssertionError: Status expected:<204> but was:<415>, mergedContextConfiguration = [WebMergedContextConfiguration@1ed0128b testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 13:07:25,079 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 13:07:25,092 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 13:07:25,094 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 13:07:25,096 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 13:07:25,097 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 13:15:37,191 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 13:15:37,220 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2654635, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@737a135b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@687ef2e0, org.springframework.test.context.support.DirtiesContextTestExecutionListener@15dcfae7, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3da05287, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e636ea3]
2019-09-04 13:15:37,826 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 13:15:37,834 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 13:15:37,892 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 13:15:37,893 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 13:15:37,928 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 13:15:38,346 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 13:15:38,544 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 168ms. Found 4 repository interfaces.
2019-09-04 13:15:39,738 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 13:15:39,743 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 13:15:39,748 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 13:15:39,753 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 13:15:39,806 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 13:15:39,810 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 13:15:39,812 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 13:15:39,814 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 13:15:39,844 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 13:15:39,846 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 13:15:39,848 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 13:15:39,849 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 13:15:40,170 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 13:15:40,266 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 13:15:40,525 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 13:15:41,209 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 13:15:41,708 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 13:15:42,803 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 13:15:42,808 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 13:15:42,869 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 13:15:42,874 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 13:15:43,849 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@464d60fb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6167c42f, org.springframework.security.web.header.HeaderWriterFilter@7c9512c6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3bf52f8f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e75bef1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4351d055, org.springframework.security.web.access.ExceptionTranslationFilter@7983a5d5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2f69d246]
2019-09-04 13:15:44,901 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 13:15:44,949 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 13:15:45,213 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 13:15:45,215 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 13:15:45,226 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 11 ms
2019-09-04 13:15:45,256 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@5bb661e0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@18fcfe7e, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1ed0128b testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@25630ede]; rollback [true]
2019-09-04 13:15:45,365 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:198 - Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type '' not supported]
2019-09-04 13:15:45,381 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@5bb661e0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@18fcfe7e, testMethod = update@AdminRestControllerTest, testException = java.lang.AssertionError: Status expected:<204> but was:<415>, mergedContextConfiguration = [WebMergedContextConfiguration@1ed0128b testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 13:15:45,424 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 13:15:45,436 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 13:15:45,438 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 13:15:45,441 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 13:15:45,442 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 13:15:53,102 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 13:15:53,132 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2654635, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@737a135b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@687ef2e0, org.springframework.test.context.support.DirtiesContextTestExecutionListener@15dcfae7, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3da05287, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e636ea3]
2019-09-04 13:15:54,040 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 13:15:54,047 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 13:15:54,130 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 13:15:54,131 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 13:15:54,175 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 13:15:54,598 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 13:15:54,814 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 181ms. Found 4 repository interfaces.
2019-09-04 13:15:55,996 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 13:15:56,001 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 13:15:56,012 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 13:15:56,018 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 13:15:56,065 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 13:15:56,069 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 13:15:56,071 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 13:15:56,072 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 13:15:56,107 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 13:15:56,109 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 13:15:56,111 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 13:15:56,113 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 13:15:56,420 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 13:15:56,527 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 13:15:56,711 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 13:15:57,317 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 13:15:57,789 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 13:15:58,651 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 13:15:58,654 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 13:15:58,709 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 13:15:58,713 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 13:15:59,607 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@464d60fb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6167c42f, org.springframework.security.web.header.HeaderWriterFilter@7c9512c6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3bf52f8f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e75bef1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4351d055, org.springframework.security.web.access.ExceptionTranslationFilter@7983a5d5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2f69d246]
2019-09-04 13:16:00,677 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 13:16:00,720 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 13:16:00,954 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 13:16:00,955 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 13:16:00,967 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 12 ms
2019-09-04 13:16:00,994 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@5ae22651 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@464017f5, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3c4231e5 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6956081d]; rollback [true]
2019-09-04 13:16:01,106 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:198 - Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type '' not supported]
2019-09-04 13:16:01,128 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@5ae22651 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@464017f5, testMethod = createWithLocation@AdminRestControllerTest, testException = java.lang.IllegalArgumentException: Invalid read from JSON:
'', mergedContextConfiguration = [WebMergedContextConfiguration@3c4231e5 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 13:16:01,167 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 13:16:01,179 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 13:16:01,181 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 13:16:01,182 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 13:16:01,184 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 13:17:07,391 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 13:17:07,440 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2654635, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@737a135b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@687ef2e0, org.springframework.test.context.support.DirtiesContextTestExecutionListener@15dcfae7, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3da05287, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e636ea3]
2019-09-04 13:17:08,330 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 13:17:08,349 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 13:17:08,423 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 13:17:08,425 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 13:17:08,485 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 13:17:08,940 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 13:17:09,172 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 205ms. Found 4 repository interfaces.
2019-09-04 13:17:10,390 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 13:17:10,396 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 13:17:10,403 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 13:17:10,410 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 13:17:10,464 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 13:17:10,469 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 13:17:10,471 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 13:17:10,473 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 13:17:10,516 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 13:17:10,519 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 13:17:10,521 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 13:17:10,522 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 13:17:10,932 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 13:17:11,038 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 13:17:11,245 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 13:17:11,869 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 13:17:12,364 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 13:17:13,192 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 13:17:13,195 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 13:17:13,236 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 13:17:13,240 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 13:17:14,126 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@464d60fb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6167c42f, org.springframework.security.web.header.HeaderWriterFilter@7c9512c6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3bf52f8f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e75bef1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4351d055, org.springframework.security.web.access.ExceptionTranslationFilter@7983a5d5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2f69d246]
2019-09-04 13:17:15,126 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 13:17:15,176 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 13:17:15,391 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 13:17:15,392 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 13:17:15,404 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 11 ms
2019-09-04 13:17:15,431 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@5bb661e0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@18fcfe7e, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1ed0128b testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@25630ede]; rollback [true]
2019-09-04 13:17:15,521 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:198 - Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type '' not supported]
2019-09-04 13:17:15,525 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 13:17:15,769 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@5bb661e0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@18fcfe7e, testMethod = createWithLocation@AdminRestControllerTest, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <[Restaurant:100002(R1),
    Restaurant:100003(R2),
    Restaurant:100004(R3),
    Restaurant:100005(RWM)]>
to be equal to:
 <[Restaurant:100002(R1),
    Restaurant:100003(R2),
    Restaurant:100004(R3),
    Restaurant:100005(RWM),
    Restaurant:100010(RTS)]>
when comparing elements using field/property by field/property comparator on all fields/properties except ["id", "votes", "dishes"]
Comparators used:
- for elements fields (by type): {Double -> DoubleComparator[precision=1.0E-15], Float -> FloatComparator[precision=1.0E-6]}
- for elements (by type): {Double -> DoubleComparator[precision=1.0E-15], Float -> FloatComparator[precision=1.0E-6]}
but was not., mergedContextConfiguration = [WebMergedContextConfiguration@1ed0128b testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 13:17:15,811 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 13:17:15,826 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 13:17:15,829 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 13:17:15,831 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 13:17:15,833 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 13:20:34,482 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 13:20:34,516 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2654635, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@737a135b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@687ef2e0, org.springframework.test.context.support.DirtiesContextTestExecutionListener@15dcfae7, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3da05287, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e636ea3]
2019-09-04 13:20:35,379 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 13:20:35,389 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 13:20:35,456 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 13:20:35,458 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 13:20:35,518 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 13:20:35,968 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 13:20:36,168 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 172ms. Found 4 repository interfaces.
2019-09-04 13:20:37,351 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 13:20:37,358 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 13:20:37,363 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 13:20:37,369 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 13:20:37,413 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 13:20:37,417 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 13:20:37,419 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 13:20:37,421 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 13:20:37,456 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 13:20:37,459 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 13:20:37,462 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 13:20:37,463 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 13:20:37,768 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 13:20:37,859 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 13:20:38,017 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 13:20:38,489 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 13:20:38,865 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 13:20:39,601 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 13:20:39,605 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 13:20:39,660 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 13:20:39,664 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 13:20:40,364 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@464d60fb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6167c42f, org.springframework.security.web.header.HeaderWriterFilter@7c9512c6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3bf52f8f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e75bef1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4351d055, org.springframework.security.web.access.ExceptionTranslationFilter@7983a5d5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2f69d246]
2019-09-04 13:20:41,147 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 13:20:41,185 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 13:20:41,360 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 13:20:41,361 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 13:20:41,371 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 9 ms
2019-09-04 13:20:41,393 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@5bb661e0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@18fcfe7e, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1ed0128b testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@25630ede]; rollback [true]
2019-09-04 13:20:41,464 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:198 - Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type '' not supported]
2019-09-04 13:20:41,480 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@5bb661e0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@18fcfe7e, testMethod = createWithLocation@AdminRestControllerTest, testException = java.lang.IllegalArgumentException: Invalid read from JSON:
'', mergedContextConfiguration = [WebMergedContextConfiguration@1ed0128b testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 13:20:41,519 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 13:20:41,530 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 13:20:41,532 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 13:20:41,533 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 13:20:41,535 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 13:20:54,183 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 13:20:54,222 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3a393455, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@13518f37, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7cbc3762, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3a6f2de3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@49872d67, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@56303b57]
2019-09-04 13:20:55,037 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 13:20:55,045 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 13:20:55,090 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 13:20:55,092 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 13:20:55,127 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 13:20:55,517 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 13:20:55,740 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 185ms. Found 4 repository interfaces.
2019-09-04 13:20:57,166 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 13:20:57,172 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 13:20:57,176 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 13:20:57,182 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 13:20:57,250 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 13:20:57,258 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 13:20:57,260 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 13:20:57,264 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 13:20:57,323 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 13:20:57,326 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 13:20:57,327 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 13:20:57,329 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 13:20:57,672 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 13:20:57,767 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 13:20:58,009 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 13:20:58,738 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 13:20:59,311 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 13:21:00,539 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 13:21:00,542 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 13:21:00,597 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 13:21:00,601 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 13:21:01,639 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@29c76d75, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@670aac24, org.springframework.security.web.header.HeaderWriterFilter@128ca7af, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7f65639e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@55bafbc1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5fb0a09e, org.springframework.security.web.access.ExceptionTranslationFilter@34a482d0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3c130cb2]
2019-09-04 13:21:02,802 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 13:21:02,849 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 13:21:03,107 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 13:21:03,108 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 13:21:03,125 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 16 ms
2019-09-04 13:21:03,159 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@5c21b22e testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@184e5c44, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6527aa0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@650e6569]; rollback [true]
2019-09-04 13:21:03,269 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:198 - Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type '' not supported]
2019-09-04 13:21:03,295 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@5c21b22e testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@184e5c44, testMethod = createWithLocation@AdminRestControllerTest, testException = java.lang.IllegalArgumentException: Invalid read from JSON:
'', mergedContextConfiguration = [WebMergedContextConfiguration@6527aa0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 13:21:03,344 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 13:21:03,355 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 13:21:03,357 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 13:21:03,358 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 13:21:03,359 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 13:21:56,179 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 13:21:56,226 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6f152006, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3a393455, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@13518f37, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7cbc3762, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3a6f2de3, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@49872d67]
2019-09-04 13:21:57,103 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 13:21:57,110 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 13:21:57,172 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 13:21:57,173 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 13:21:57,338 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 13:21:57,728 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 13:21:57,965 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 196ms. Found 4 repository interfaces.
2019-09-04 13:21:59,553 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 13:21:59,576 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 13:21:59,582 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 13:21:59,591 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 13:21:59,655 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 13:21:59,659 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 13:21:59,661 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 13:21:59,662 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 13:21:59,703 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 13:21:59,707 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 13:21:59,708 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 13:21:59,710 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 13:22:00,106 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 13:22:00,205 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 13:22:00,435 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 13:22:01,042 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 13:22:01,639 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 13:22:02,956 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 13:22:02,959 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 13:22:03,010 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 13:22:03,016 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 13:22:04,164 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@549404e7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@75b4db22, org.springframework.security.web.header.HeaderWriterFilter@3bac86a3, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4e7b89b6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@48f95f96, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@45e68fac, org.springframework.security.web.access.ExceptionTranslationFilter@41041c31, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@25d87313]
2019-09-04 13:22:05,423 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 13:22:05,498 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 13:22:05,741 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 13:22:05,741 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 13:22:05,755 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 13 ms
2019-09-04 13:22:05,788 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6527aa0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@6153aca1, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@30b2d267 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@311eb725]; rollback [true]
2019-09-04 13:24:22,147 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:198 - Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type '' not supported]
2019-09-04 13:24:33,842 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 13:24:33,855 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 13:24:33,859 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 13:24:33,860 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6527aa0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@6153aca1, testMethod = createWithLocation@AdminRestControllerTest, testException = java.lang.IllegalArgumentException: Invalid read from JSON:
'', mergedContextConfiguration = [WebMergedContextConfiguration@30b2d267 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 13:24:33,861 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 13:24:33,863 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 14:26:43,077 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 14:26:43,117 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2654635, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@737a135b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@687ef2e0, org.springframework.test.context.support.DirtiesContextTestExecutionListener@15dcfae7, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3da05287, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e636ea3]
2019-09-04 14:26:43,957 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 14:26:43,962 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 14:26:44,016 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 14:26:44,018 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 14:26:44,055 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 14:26:44,461 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 14:26:44,704 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 209ms. Found 4 repository interfaces.
2019-09-04 14:26:46,045 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 14:26:46,050 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 14:26:46,054 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 14:26:46,059 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 14:26:46,114 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 14:26:46,118 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 14:26:46,119 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 14:26:46,121 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 14:26:46,150 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 14:26:46,152 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 14:26:46,153 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 14:26:46,155 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 14:26:46,424 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 14:26:46,500 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 14:26:46,746 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 14:26:47,293 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 14:26:47,758 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 14:26:48,644 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 14:26:48,647 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 14:26:48,693 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 14:26:48,696 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 14:26:49,467 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@464d60fb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6167c42f, org.springframework.security.web.header.HeaderWriterFilter@7c9512c6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3bf52f8f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e75bef1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4351d055, org.springframework.security.web.access.ExceptionTranslationFilter@7983a5d5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2f69d246]
2019-09-04 14:26:50,403 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 14:26:50,448 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 14:26:50,680 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 14:26:50,680 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 14:26:50,692 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 11 ms
2019-09-04 14:26:50,724 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@5bb661e0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@18fcfe7e, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1ed0128b testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@25630ede]; rollback [true]
2019-09-04 14:26:51,065 INFO  ru.vladzag.web.admin.AdminRestController.createDish:116 - Admin createDish with id: 100010
2019-09-04 14:26:51,146 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@5bb661e0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@18fcfe7e, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1ed0128b testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 14:26:51,174 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 14:26:51,187 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 14:26:51,189 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 14:26:51,190 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 14:26:51,191 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 14:29:24,554 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 14:29:24,588 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2654635, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@737a135b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@687ef2e0, org.springframework.test.context.support.DirtiesContextTestExecutionListener@15dcfae7, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3da05287, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e636ea3]
2019-09-04 14:29:25,482 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 14:29:25,488 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 14:29:25,541 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 14:29:25,543 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 14:29:25,626 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 14:29:26,026 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 14:29:26,238 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 180ms. Found 4 repository interfaces.
2019-09-04 14:29:27,452 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 14:29:27,468 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 14:29:27,475 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 14:29:27,490 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 14:29:27,583 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 14:29:27,589 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 14:29:27,591 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 14:29:27,592 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 14:29:27,630 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 14:29:27,633 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 14:29:27,636 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 14:29:27,640 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 14:29:28,026 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 14:29:28,107 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 14:29:28,321 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 14:29:28,903 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 14:29:29,356 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 14:29:30,237 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 14:29:30,248 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 14:29:30,289 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 14:29:30,292 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 14:29:31,088 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@464d60fb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6167c42f, org.springframework.security.web.header.HeaderWriterFilter@7c9512c6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3bf52f8f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e75bef1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4351d055, org.springframework.security.web.access.ExceptionTranslationFilter@7983a5d5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2f69d246]
2019-09-04 14:29:32,106 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 14:29:32,154 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 14:29:32,412 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 14:29:32,413 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 14:29:32,428 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 14 ms
2019-09-04 14:29:32,459 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@5bb661e0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@18fcfe7e, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1ed0128b testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@25630ede]; rollback [true]
2019-09-04 14:29:32,574 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:198 - Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type '' not supported]
2019-09-04 14:29:32,601 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@5bb661e0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@18fcfe7e, testMethod = createWithLocation@AdminRestControllerTest, testException = java.lang.IllegalArgumentException: Invalid read from JSON:
'', mergedContextConfiguration = [WebMergedContextConfiguration@1ed0128b testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 14:29:32,655 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 14:29:32,665 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 14:29:32,667 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 14:29:32,669 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 14:29:32,670 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 14:35:29,640 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 14:35:29,668 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2654635, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@737a135b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@687ef2e0, org.springframework.test.context.support.DirtiesContextTestExecutionListener@15dcfae7, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3da05287, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e636ea3]
2019-09-04 14:35:30,357 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 14:35:30,364 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 14:35:30,442 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 14:35:30,443 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 14:35:30,503 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 14:35:31,053 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 14:35:31,323 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 227ms. Found 4 repository interfaces.
2019-09-04 14:35:32,617 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 14:35:32,628 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 14:35:32,634 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 14:35:32,640 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 14:35:32,693 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 14:35:32,697 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 14:35:32,701 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 14:35:32,705 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 14:35:32,737 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 14:35:32,740 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 14:35:32,742 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 14:35:32,743 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 14:35:33,108 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 14:35:33,180 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 14:35:33,418 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 14:35:33,984 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 14:35:34,440 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 14:35:35,374 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 14:35:35,377 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 14:35:35,422 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 14:35:35,425 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 14:35:36,346 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@464d60fb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6167c42f, org.springframework.security.web.header.HeaderWriterFilter@7c9512c6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3bf52f8f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e75bef1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4351d055, org.springframework.security.web.access.ExceptionTranslationFilter@7983a5d5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2f69d246]
2019-09-04 14:35:37,369 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 14:35:37,417 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 14:35:37,667 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 14:35:37,668 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 14:35:37,681 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 13 ms
2019-09-04 14:35:37,710 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@5bb661e0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@18fcfe7e, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1ed0128b testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@25630ede]; rollback [true]
2019-09-04 14:35:37,818 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:198 - Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type '' not supported]
2019-09-04 14:35:37,829 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@5bb661e0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@18fcfe7e, testMethod = update@AdminRestControllerTest, testException = java.lang.AssertionError: Status expected:<204> but was:<415>, mergedContextConfiguration = [WebMergedContextConfiguration@1ed0128b testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 14:35:37,890 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 14:35:37,901 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 14:35:37,903 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 14:35:37,904 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 14:35:37,906 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 14:36:25,601 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 14:36:25,629 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2654635, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@737a135b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@687ef2e0, org.springframework.test.context.support.DirtiesContextTestExecutionListener@15dcfae7, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3da05287, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e636ea3]
2019-09-04 14:36:26,486 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 14:36:26,493 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 14:36:26,546 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 14:36:26,565 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 14:36:26,624 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 14:36:27,077 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 14:36:27,324 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 210ms. Found 4 repository interfaces.
2019-09-04 14:36:28,587 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 14:36:28,593 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 14:36:28,598 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 14:36:28,605 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 14:36:28,662 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 14:36:28,666 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 14:36:28,668 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 14:36:28,670 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 14:36:28,702 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 14:36:28,704 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 14:36:28,706 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 14:36:28,708 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 14:36:29,018 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 14:36:29,128 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 14:36:29,322 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 14:36:29,977 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 14:36:30,424 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 14:36:31,309 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 14:36:31,314 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 14:36:31,369 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 14:36:31,372 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 14:36:32,413 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@464d60fb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6167c42f, org.springframework.security.web.header.HeaderWriterFilter@7c9512c6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3bf52f8f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e75bef1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4351d055, org.springframework.security.web.access.ExceptionTranslationFilter@7983a5d5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2f69d246]
2019-09-04 14:36:33,455 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 14:36:33,502 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 14:36:33,742 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 14:36:33,743 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 14:36:33,757 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 13 ms
2019-09-04 14:36:33,786 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@5bb661e0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@18fcfe7e, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1ed0128b testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@25630ede]; rollback [true]
2019-09-04 14:36:33,895 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:198 - Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type '' not supported]
2019-09-04 14:36:33,922 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@5bb661e0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@18fcfe7e, testMethod = createWithLocation@AdminRestControllerTest, testException = java.lang.IllegalArgumentException: Invalid read from JSON:
'', mergedContextConfiguration = [WebMergedContextConfiguration@1ed0128b testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 14:36:33,974 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 14:36:33,984 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 14:36:33,986 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 14:36:33,987 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 14:36:33,989 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 14:37:55,349 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 14:37:55,381 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2654635, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@737a135b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@687ef2e0, org.springframework.test.context.support.DirtiesContextTestExecutionListener@15dcfae7, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3da05287, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e636ea3]
2019-09-04 14:37:56,252 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 14:37:56,258 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 14:37:56,310 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 14:37:56,311 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 14:37:56,398 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 14:37:56,910 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 14:37:57,109 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 164ms. Found 4 repository interfaces.
2019-09-04 14:37:58,311 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 14:37:58,316 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 14:37:58,322 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 14:37:58,327 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 14:37:58,376 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 14:37:58,380 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 14:37:58,382 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 14:37:58,383 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 14:37:58,413 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 14:37:58,415 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 14:37:58,416 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 14:37:58,418 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 14:37:58,799 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 14:37:58,882 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 14:37:59,105 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 14:37:59,680 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 14:38:00,203 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 14:38:01,187 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 14:38:01,193 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 14:38:01,249 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 14:38:01,253 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 14:38:02,095 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@464d60fb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6167c42f, org.springframework.security.web.header.HeaderWriterFilter@7c9512c6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3bf52f8f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e75bef1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4351d055, org.springframework.security.web.access.ExceptionTranslationFilter@7983a5d5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2f69d246]
2019-09-04 14:38:03,091 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 14:38:03,134 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 14:38:03,355 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 14:38:03,356 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 14:38:03,366 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 9 ms
2019-09-04 14:38:03,393 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@5bb661e0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@18fcfe7e, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1ed0128b testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@25630ede]; rollback [true]
2019-09-04 14:38:03,508 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:198 - Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type '' not supported]
2019-09-04 14:38:03,518 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@5bb661e0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@18fcfe7e, testMethod = update@AdminRestControllerTest, testException = java.lang.AssertionError: Status expected:<204> but was:<415>, mergedContextConfiguration = [WebMergedContextConfiguration@1ed0128b testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 14:38:03,574 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 14:38:03,585 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 14:38:03,587 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 14:38:03,588 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 14:38:03,590 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 14:40:01,490 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 14:40:01,533 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2dca0d64, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@f80945f, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@ff684e1, org.springframework.test.context.support.DirtiesContextTestExecutionListener@23aa363a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5ef6ae06, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@55dfebeb]
2019-09-04 14:40:02,324 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 14:40:02,329 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 14:40:02,383 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 14:40:02,385 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 14:40:02,472 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 14:40:02,727 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 14:40:02,918 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 164ms. Found 4 repository interfaces.
2019-09-04 14:40:04,148 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 14:40:04,154 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 14:40:04,159 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 14:40:04,164 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 14:40:04,217 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 14:40:04,221 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 14:40:04,223 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 14:40:04,225 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 14:40:04,255 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 14:40:04,258 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 14:40:04,259 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 14:40:04,260 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 14:40:04,417 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 14:40:04,540 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 14:40:04,767 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 14:40:05,348 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 14:40:05,758 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 14:40:06,683 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 14:40:06,686 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 14:40:06,744 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 14:40:06,753 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 14:40:07,711 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@4be1dce6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@575c23f1, org.springframework.security.web.header.HeaderWriterFilter@343727b5, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7fb9a83c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@391e2a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6a8bcb64, org.springframework.security.web.access.ExceptionTranslationFilter@655f92a1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@468646ea]
2019-09-04 14:40:08,815 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 14:40:08,820 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@17e4beda, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1be4f05c, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@4202bfe8, org.springframework.test.context.support.DirtiesContextTestExecutionListener@61627c9d, org.springframework.test.context.transaction.TransactionalTestExecutionListener@53c21c05, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6f986031]
2019-09-04 14:40:08,957 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 14:40:09,044 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-04 14:40:09,045 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-04 14:40:09,047 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 14:40:09,314 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 14:40:09,577 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 14:40:09,598 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 14:40:09,600 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 14:40:09,602 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 14:40:09,603 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 14:42:55,031 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 14:42:55,062 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@52de51b6, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@18c5069b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@3a0d172f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@68ad99fe, org.springframework.test.context.transaction.TransactionalTestExecutionListener@485e36bc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@781f10f2]
2019-09-04 14:42:55,720 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 14:42:55,726 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 14:42:55,775 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 14:42:55,776 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 14:42:55,816 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 14:42:56,226 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 14:42:56,472 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 215ms. Found 4 repository interfaces.
2019-09-04 14:42:58,088 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 14:42:58,094 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 14:42:58,100 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 14:42:58,105 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 14:42:58,161 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 14:42:58,166 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 14:42:58,168 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 14:42:58,170 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 14:42:58,215 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 14:42:58,218 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 14:42:58,219 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 14:42:58,221 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 14:42:58,631 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 14:42:58,735 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 14:42:58,981 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 14:42:59,663 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 14:43:00,395 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 14:43:02,780 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 14:43:02,786 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 14:43:02,879 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 14:43:02,885 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 14:43:03,937 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@6a26eee6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5c28009f, org.springframework.security.web.header.HeaderWriterFilter@2cfd9b0a, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@363d29dd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@46ae897c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@25af1dbf, org.springframework.security.web.access.ExceptionTranslationFilter@1f4fa465, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5b5e45bc]
2019-09-04 14:43:05,235 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 14:43:05,322 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 14:43:05,593 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 14:43:05,595 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 14:43:05,610 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 14 ms
2019-09-04 14:43:05,657 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@7f9b46ed testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@4d0b8b8b, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6f18445b testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@73624529]; rollback [true]
2019-09-04 14:43:05,803 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:198 - Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type '' not supported]
2019-09-04 14:43:05,835 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@7f9b46ed testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@4d0b8b8b, testMethod = createWithLocation@AdminRestControllerTest, testException = java.lang.IllegalArgumentException: Invalid read from JSON:
'', mergedContextConfiguration = [WebMergedContextConfiguration@6f18445b testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 14:43:05,945 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 14:43:05,965 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 14:43:05,968 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 14:43:05,969 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 14:43:05,971 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 14:47:48,343 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 14:47:48,376 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@55322aab, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2b4c1d96, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@45fd9a4d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@50468873, org.springframework.test.context.transaction.TransactionalTestExecutionListener@146587a2, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5f0e9815]
2019-09-04 14:47:49,154 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 14:47:49,161 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 14:47:49,233 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 14:47:49,234 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 14:47:49,281 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 14:47:49,509 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 14:47:49,723 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 185ms. Found 4 repository interfaces.
2019-09-04 14:47:50,822 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 14:47:50,827 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 14:47:50,832 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 14:47:50,836 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 14:47:50,880 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 14:47:50,884 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 14:47:50,886 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 14:47:50,888 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 14:47:50,921 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 14:47:50,924 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 14:47:50,925 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 14:47:50,927 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 14:47:51,042 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 14:47:51,133 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 14:47:51,304 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 14:47:51,800 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 14:47:52,159 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 14:47:53,064 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 14:47:53,068 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 14:47:53,113 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 14:47:53,117 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 14:47:53,969 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@3c17794e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7c02b3cb, org.springframework.security.web.header.HeaderWriterFilter@2c4be45f, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@74ee97cb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@eb6ccbc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@96c840a, org.springframework.security.web.access.ExceptionTranslationFilter@5382a35f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@23ee92df]
2019-09-04 14:47:54,598 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 14:47:54,729 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 14:47:54,741 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 14:47:54,743 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 14:47:54,744 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 14:47:54,746 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 14:50:20,761 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 14:50:20,793 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@158a3b2e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@25a6944c, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5e1fa5b1, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6b00f608, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2f17e30d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3e821657]
2019-09-04 14:50:21,524 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 14:50:21,529 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 14:50:21,576 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 14:50:21,578 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 14:50:21,612 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 14:50:22,012 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 14:50:22,255 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 211ms. Found 4 repository interfaces.
2019-09-04 14:50:24,312 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 14:50:24,325 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 14:50:24,345 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 14:50:24,350 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 14:50:24,427 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 14:50:24,431 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 14:50:24,433 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 14:50:24,435 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 14:50:24,480 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 14:50:24,483 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 14:50:24,486 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 14:50:24,487 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 14:50:24,877 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 14:50:24,976 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 14:50:25,226 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 14:50:25,845 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 14:50:26,464 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 14:50:27,737 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 14:50:27,740 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 14:50:27,801 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 14:50:27,804 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 14:50:28,843 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@346a2799, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@23909b3, org.springframework.security.web.header.HeaderWriterFilter@3bf52f8f, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@16eb01d4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@24d7c365, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a4cdea, org.springframework.security.web.access.ExceptionTranslationFilter@8bd9d08, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@213bd66a]
2019-09-04 14:50:30,002 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 14:50:30,062 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 14:50:30,333 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 14:50:30,334 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 14:50:30,351 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 16 ms
2019-09-04 14:50:30,396 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@30b2d267 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5a740449, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4f66f2dd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6c4a1980]; rollback [true]
2019-09-04 14:50:30,582 INFO  ru.vladzag.web.admin.AdminRestController.delete:79 - Admin deleteRestaurant with id: 100002
2019-09-04 14:50:30,688 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 14:50:30,825 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@30b2d267 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5a740449, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4f66f2dd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 14:50:30,866 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 14:50:30,877 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 14:50:30,889 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-04 14:50:30,901 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@30b2d267 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7b0d88e0, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4f66f2dd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6c4a1980]; rollback [true]
2019-09-04 14:50:30,921 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-04 14:50:30,922 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 14:50:31,131 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@30b2d267 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7b0d88e0, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4f66f2dd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 14:50:31,139 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 14:50:31,145 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 14:50:31,162 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 10 ms
2019-09-04 14:50:31,177 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@30b2d267 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@399ac1a3, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4f66f2dd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6c4a1980]; rollback [true]
2019-09-04 14:50:31,196 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:198 - Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type '' not supported]
2019-09-04 14:50:31,206 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@30b2d267 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@399ac1a3, testMethod = update@AdminRestControllerTest, testException = java.lang.AssertionError: Status expected:<204> but was:<415>, mergedContextConfiguration = [WebMergedContextConfiguration@4f66f2dd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 14:50:31,220 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 14:50:31,224 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 14:50:31,246 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 19 ms
2019-09-04 14:50:31,263 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@30b2d267 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@4fc9e73d, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4f66f2dd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6c4a1980]; rollback [true]
2019-09-04 14:50:31,305 INFO  ru.vladzag.web.admin.AdminRestController.updateDish:125 - Admin updateDish with id: 100007
2019-09-04 14:50:31,384 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@30b2d267 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@4fc9e73d, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4f66f2dd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 14:50:31,396 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 14:50:31,398 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 14:50:31,411 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 8 ms
2019-09-04 14:50:31,423 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@30b2d267 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7fb70e94, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4f66f2dd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6c4a1980]; rollback [true]
2019-09-04 14:50:31,435 INFO  ru.vladzag.web.admin.AdminRestController.get:62 - Admin getRestaurant(id: 100005) in date: 2015-05-30
2019-09-04 14:50:31,512 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@30b2d267 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7fb70e94, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4f66f2dd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 14:50:31,514 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 14:50:31,517 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 14:50:31,535 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 8 ms
2019-09-04 14:50:31,553 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@30b2d267 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7a80b2e6, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4f66f2dd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6c4a1980]; rollback [true]
2019-09-04 14:50:31,575 INFO  ru.vladzag.web.admin.AdminRestController.createDish:115 - Admin createDish with id: 100010
2019-09-04 14:50:31,587 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@30b2d267 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7a80b2e6, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4f66f2dd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 14:50:31,588 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 14:50:31,592 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 14:50:31,622 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 21 ms
2019-09-04 14:50:31,639 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@30b2d267 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@6ba8859b, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4f66f2dd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6c4a1980]; rollback [true]
2019-09-04 14:50:31,646 INFO  ru.vladzag.web.admin.AdminRestController.delete:79 - Admin deleteRestaurant with id: 100002
2019-09-04 14:50:31,654 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 14:50:31,660 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@30b2d267 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@6ba8859b, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4f66f2dd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 14:50:31,665 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 14:50:31,670 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 14:50:31,686 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 14 ms
2019-09-04 14:50:31,704 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@30b2d267 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7720334e, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4f66f2dd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6c4a1980]; rollback [true]
2019-09-04 14:50:31,707 INFO  ru.vladzag.web.admin.AdminRestController.getAllHistory:46 - Admin getHistory
2019-09-04 14:50:31,817 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@30b2d267 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7720334e, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4f66f2dd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 14:50:31,819 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 14:50:31,822 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 14:50:31,839 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 9 ms
2019-09-04 14:50:31,849 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@30b2d267 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5b1ebbe, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4f66f2dd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6c4a1980]; rollback [true]
2019-09-04 14:50:31,859 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:198 - Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type '' not supported]
2019-09-04 14:50:31,864 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@30b2d267 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5b1ebbe, testMethod = createWithLocation@AdminRestControllerTest, testException = java.lang.IllegalArgumentException: Invalid read from JSON:
'', mergedContextConfiguration = [WebMergedContextConfiguration@4f66f2dd testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 14:50:31,935 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 14:50:31,948 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 14:50:31,950 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 14:50:31,951 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 14:50:31,953 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 14:52:55,067 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-04 14:52:55,696 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 14:52:55,705 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 14:52:55,790 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 14:52:55,792 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 14:52:55,839 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 14:52:56,180 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 14:52:56,444 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 229ms. Found 4 repository interfaces.
2019-09-04 14:52:58,406 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 14:52:58,412 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 14:52:58,417 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 14:52:58,423 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 14:52:58,492 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-04 14:52:58,495 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 14:52:58,496 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 14:52:58,497 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-04 14:52:58,551 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-04 14:52:58,554 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 14:52:58,556 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 14:52:58,557 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-04 14:52:58,784 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 14:52:58,973 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 14:52:59,316 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 14:53:00,115 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 14:53:00,900 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 14:53:02,537 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 14:53:02,542 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 14:53:02,612 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 14:53:02,616 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 14:53:04,187 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@12db6c5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@65bf5cf7, org.springframework.security.web.header.HeaderWriterFilter@20285d4e, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4346301, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1440fbb9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@53077210, org.springframework.security.web.access.ExceptionTranslationFilter@259c858e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3e698304]
2019-09-04 14:53:04,833 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 9760 ms
2019-09-04 14:53:04,904 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-04 14:53:06,225 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 14:53:06,273 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 14:53:06,364 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1459 ms
2019-09-04 14:54:41,236 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:198 - Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type '' not supported]
2019-09-04 14:57:51,078 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-04 14:57:51,589 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 14:57:51,598 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 14:57:51,668 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 14:57:51,670 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 14:57:51,705 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 14:57:51,979 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 14:57:52,230 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 216ms. Found 4 repository interfaces.
2019-09-04 14:57:54,282 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 14:57:54,289 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 14:57:54,293 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 14:57:54,298 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 14:57:54,365 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-04 14:57:54,369 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 14:57:54,370 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 14:57:54,371 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-04 14:57:54,424 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-04 14:57:54,426 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 14:57:54,428 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 14:57:54,429 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-04 14:57:54,627 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 14:57:54,851 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 14:57:55,285 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 14:57:56,091 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 14:57:56,810 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 14:57:58,484 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 14:57:58,491 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 14:57:58,577 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 14:57:58,582 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 14:58:00,078 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@31e1e7cb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3752b56d, org.springframework.security.web.header.HeaderWriterFilter@6978f1eb, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2f2aac93, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@23b0bc98, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@353b2110, org.springframework.security.web.access.ExceptionTranslationFilter@4d69c567, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@73518a5c]
2019-09-04 14:58:00,760 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 9675 ms
2019-09-04 14:58:00,897 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-04 14:58:02,254 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 14:58:02,307 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 14:58:02,390 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1491 ms
2019-09-04 14:58:30,514 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:198 - Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type '' not supported]
2019-09-04 14:59:19,982 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-04 14:59:20,480 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 14:59:20,489 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 14:59:20,571 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 14:59:20,572 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 14:59:20,609 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 14:59:20,905 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 14:59:21,147 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 209ms. Found 4 repository interfaces.
2019-09-04 14:59:23,051 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 14:59:23,068 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 14:59:23,072 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 14:59:23,077 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 14:59:23,153 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-04 14:59:23,156 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 14:59:23,157 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 14:59:23,158 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-04 14:59:23,215 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-04 14:59:23,218 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 14:59:23,219 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 14:59:23,220 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-04 14:59:23,432 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 14:59:23,597 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 14:59:23,910 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 14:59:24,699 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 14:59:25,442 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 14:59:27,110 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 14:59:27,118 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 14:59:27,206 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 14:59:27,211 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 14:59:28,663 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@6d74d9de, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@17562acd, org.springframework.security.web.header.HeaderWriterFilter@409ebce2, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@784126cf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1d3da228, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c2378cf, org.springframework.security.web.access.ExceptionTranslationFilter@65cf7b33, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@24be1f8f]
2019-09-04 14:59:29,383 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 9394 ms
2019-09-04 14:59:29,435 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-04 14:59:30,673 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 14:59:30,742 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 14:59:30,914 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1479 ms
2019-09-04 15:00:33,752 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:198 - Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type '' not supported]
2019-09-04 15:01:15,206 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-04 15:01:15,277 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 15:02:22,608 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 15:02:22,641 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2654635, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@737a135b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@687ef2e0, org.springframework.test.context.support.DirtiesContextTestExecutionListener@15dcfae7, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3da05287, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e636ea3]
2019-09-04 15:02:23,863 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 15:02:23,868 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 15:02:23,927 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 15:02:23,929 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 15:02:23,959 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 15:02:24,497 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 15:02:24,722 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 198ms. Found 4 repository interfaces.
2019-09-04 15:02:25,939 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 15:02:25,945 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 15:02:25,950 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 15:02:25,955 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 15:02:26,002 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 15:02:26,006 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 15:02:26,008 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 15:02:26,010 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 15:02:26,045 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 15:02:26,048 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 15:02:26,049 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 15:02:26,050 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 15:02:26,344 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 15:02:26,414 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 15:02:26,649 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 15:02:27,243 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 15:02:27,692 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 15:02:28,686 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 15:02:28,689 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 15:02:28,743 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 15:02:28,747 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 15:02:29,680 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@464d60fb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6167c42f, org.springframework.security.web.header.HeaderWriterFilter@7c9512c6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3bf52f8f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e75bef1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4351d055, org.springframework.security.web.access.ExceptionTranslationFilter@7983a5d5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2f69d246]
2019-09-04 15:02:30,701 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 15:02:30,750 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 15:02:31,009 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 15:02:31,012 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 15:02:31,024 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 11 ms
2019-09-04 15:02:31,052 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@5bb661e0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@18fcfe7e, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1ed0128b testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@25630ede]; rollback [true]
2019-09-04 15:02:31,158 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:198 - Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type '' not supported]
2019-09-04 15:02:31,183 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@5bb661e0 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@18fcfe7e, testMethod = createWithLocation@AdminRestControllerTest, testException = java.lang.IllegalArgumentException: Invalid read from JSON:
'', mergedContextConfiguration = [WebMergedContextConfiguration@1ed0128b testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 15:02:31,227 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 15:02:31,249 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 15:02:31,252 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 15:02:31,253 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 15:02:31,255 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 15:04:02,179 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 15:04:02,210 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2b4c1d96, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@45fd9a4d, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@50468873, org.springframework.test.context.support.DirtiesContextTestExecutionListener@146587a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5f0e9815, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@76884e4b]
2019-09-04 15:04:02,830 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 15:04:02,836 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 15:04:02,888 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 15:04:02,891 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 15:04:02,929 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 15:04:03,247 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 15:04:03,407 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 139ms. Found 4 repository interfaces.
2019-09-04 15:04:04,618 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 15:04:04,625 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 15:04:04,633 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 15:04:04,638 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 15:04:04,688 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 15:04:04,691 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 15:04:04,692 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 15:04:04,697 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 15:04:04,731 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 15:04:04,734 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 15:04:04,736 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 15:04:04,738 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 15:04:05,101 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 15:04:05,199 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 15:04:05,395 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 15:04:06,011 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 15:04:06,533 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 15:04:07,458 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 15:04:07,477 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 15:04:07,524 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 15:04:07,528 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 15:04:08,434 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@7f5ecada, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@a6a2c20, org.springframework.security.web.header.HeaderWriterFilter@480994d3, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@74a991cf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@40239b34, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3b95fce9, org.springframework.security.web.access.ExceptionTranslationFilter@67aaf882, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1802f60c]
2019-09-04 15:04:09,422 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 15:04:09,471 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 15:04:09,694 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 15:04:09,694 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 15:04:09,707 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 12 ms
2019-09-04 15:04:09,736 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3b6c55b6 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@55e02661, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7f38545a testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7a05cdc8]; rollback [true]
2019-09-04 15:04:09,927 INFO  ru.vladzag.web.admin.AdminRestController.createWithLocation:102 - Admin createRestaurant with id: 100010
2019-09-04 15:04:10,127 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 15:04:10,237 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3b6c55b6 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@55e02661, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7f38545a testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 15:04:10,266 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 15:04:10,277 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 15:04:10,279 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 15:04:10,280 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 15:04:10,282 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 15:05:58,513 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 15:05:58,547 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5bfa8cc5, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@666b83a4, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@749c877b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@efde75f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@16ecee1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3b220bcb]
2019-09-04 15:05:59,109 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 15:05:59,121 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 15:05:59,167 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 15:05:59,169 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 15:05:59,210 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 15:05:59,410 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 15:05:59,596 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 153ms. Found 4 repository interfaces.
2019-09-04 15:06:00,823 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 15:06:00,845 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 15:06:00,852 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 15:06:00,858 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 15:06:00,921 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 15:06:00,926 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 15:06:00,928 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 15:06:00,930 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 15:06:00,965 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 15:06:00,967 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 15:06:00,969 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 15:06:00,971 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 15:06:01,082 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 15:06:01,221 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 15:06:01,426 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 15:06:01,957 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 15:06:02,407 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 15:06:03,297 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 15:06:03,302 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 15:06:03,359 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 15:06:03,362 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 15:06:04,302 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@4deca78, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3ff53704, org.springframework.security.web.header.HeaderWriterFilter@144dc2f7, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5b407336, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@243162b1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1a06b95, org.springframework.security.web.access.ExceptionTranslationFilter@46610fc9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@21be80f6]
2019-09-04 15:06:05,353 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 15:06:05,354 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@7890324e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@14764fdd, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@402fdef1, org.springframework.test.context.support.DirtiesContextTestExecutionListener@69e8f7a5, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1013aa94, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@36bd07ec]
2019-09-04 15:06:05,486 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 15:06:05,488 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 15:06:05,489 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 15:06:05,491 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 15:06:05,707 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 15:06:05,733 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 24ms. Found 4 repository interfaces.
2019-09-04 15:06:05,834 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-04 15:06:05,836 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 15:06:05,837 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 15:06:05,838 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-04 15:06:05,889 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 15:06:05,903 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 15:06:06,038 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 15:06:06,039 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 15:06:06,050 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 15:06:06,053 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 15:06:06,207 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@cfe72b0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@156d7556, org.springframework.security.web.header.HeaderWriterFilter@321302bc, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@16a78700, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b4675db, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4d50f682, org.springframework.security.web.access.ExceptionTranslationFilter@4778c085, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7ceb7a60]
2019-09-04 15:06:06,973 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 15:06:07,020 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 15:06:07,170 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 15:06:07,171 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 15:06:07,193 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 20 ms
2019-09-04 15:06:07,210 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6cb2d5ea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@3ed1446c, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2e9bff08 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7569bc9f]; rollback [true]
2019-09-04 15:06:07,321 INFO  ru.vladzag.web.user.UserRestController.getRestaurant:55 - User getRestaurant with id: 100005
2019-09-04 15:06:07,492 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6cb2d5ea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@3ed1446c, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2e9bff08 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 15:06:07,497 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 15:06:07,498 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 15:06:07,518 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 15 ms
2019-09-04 15:06:07,538 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6cb2d5ea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@5c70eda4, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2e9bff08 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7569bc9f]; rollback [true]
2019-09-04 15:06:07,566 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 15:06:07,632 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6cb2d5ea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@5c70eda4, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2e9bff08 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 15:06:07,637 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 15:06:07,642 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 15:06:07,649 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-04 15:06:07,656 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6cb2d5ea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@17e7cc67, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2e9bff08 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7569bc9f]; rollback [true]
2019-09-04 15:06:07,666 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-04 15:06:07,672 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6cb2d5ea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@17e7cc67, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2e9bff08 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 15:06:07,674 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 15:06:07,682 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 15:06:07,690 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-04 15:06:07,703 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6cb2d5ea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@17931cc0, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2e9bff08 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7569bc9f]; rollback [true]
2019-09-04 15:06:07,717 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 15:06:07,729 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100003
2019-09-04 15:06:07,741 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6cb2d5ea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@17931cc0, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2e9bff08 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 15:06:07,746 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 15:06:07,756 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 15:06:07,765 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 7 ms
2019-09-04 15:06:07,778 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6cb2d5ea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4b55652a, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2e9bff08 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7569bc9f]; rollback [true]
2019-09-04 15:06:07,791 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 15:06:07,799 INFO  ru.vladzag.web.user.UserRestController.updateVote:67 - User updateVote(id: 100010) for restaurant with id: 100003
2019-09-04 15:06:07,807 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6cb2d5ea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4b55652a, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2e9bff08 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 15:06:07,808 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 15:06:07,809 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 15:06:07,824 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 12 ms
2019-09-04 15:06:07,835 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6cb2d5ea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@273c4b3, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2e9bff08 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7569bc9f]; rollback [true]
2019-09-04 15:06:07,846 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 15:06:07,883 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6cb2d5ea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@273c4b3, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2e9bff08 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 15:06:07,885 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 15:06:07,892 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 15:06:07,907 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 13 ms
2019-09-04 15:06:07,917 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6cb2d5ea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@685e97e0, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2e9bff08 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7569bc9f]; rollback [true]
2019-09-04 15:06:07,923 INFO  ru.vladzag.web.user.UserRestController.createVote:61 - User vote for restaurant with id: 100002
2019-09-04 15:06:07,930 INFO  ru.vladzag.web.user.UserRestController.getScore:43 - User getScore
2019-09-04 15:06:07,975 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6cb2d5ea testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@685e97e0, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2e9bff08 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 15:06:07,996 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 15:06:07,998 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@769d0ef2, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@6d58ed12, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@221ef0f0, org.springframework.test.context.support.DirtiesContextTestExecutionListener@34ad750f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2a5917f6, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@c34fd2]
2019-09-04 15:06:08,014 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-04 15:06:08,015 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-04 15:06:08,107 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 15:06:08,152 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-04 15:06:08,153 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-04 15:06:08,155 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 15:06:08,442 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 15:06:08,751 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-09-04 15:06:08,752 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@267a0b6a, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@42c3b02e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@51039ec9, org.springframework.test.context.support.DirtiesContextTestExecutionListener@16575bfe, org.springframework.test.context.transaction.TransactionalTestExecutionListener@60003305, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3f1dadeb]
2019-09-04 15:06:08,756 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 15:06:08,758 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 15:06:08,774 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-04 15:06:08,779 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3ff83cc8 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@6dd8ac29, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@336b7da4 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7569bc9f]; rollback [true]
2019-09-04 15:06:08,802 INFO  ru.vladzag.web.admin.AdminRestController.delete:79 - Admin deleteRestaurant with id: 100002
2019-09-04 15:06:08,822 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 15:06:08,836 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3ff83cc8 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@6dd8ac29, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@336b7da4 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 15:06:08,840 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 15:06:08,844 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 15:06:08,857 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 9 ms
2019-09-04 15:06:08,871 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3ff83cc8 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7f2c36de, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@336b7da4 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7569bc9f]; rollback [true]
2019-09-04 15:06:08,884 INFO  ru.vladzag.web.admin.AdminRestController.getAll:38 - Admin getAll
2019-09-04 15:06:08,889 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 15:06:08,900 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3ff83cc8 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7f2c36de, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@336b7da4 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 15:06:08,903 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 15:06:08,904 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 15:06:08,908 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-04 15:06:08,919 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3ff83cc8 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@3612a60d, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@336b7da4 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7569bc9f]; rollback [true]
2019-09-04 15:06:08,964 INFO  ru.vladzag.web.admin.AdminRestController.update:87 - Admin updateRestaurant with id: 100002
2019-09-04 15:06:08,977 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 15:06:08,994 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3ff83cc8 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@3612a60d, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@336b7da4 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 15:06:08,999 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 15:06:09,001 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 15:06:09,033 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 31 ms
2019-09-04 15:06:09,040 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3ff83cc8 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@3edb09b9, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@336b7da4 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7569bc9f]; rollback [true]
2019-09-04 15:06:09,084 INFO  ru.vladzag.web.admin.AdminRestController.updateDish:125 - Admin updateDish with id: 100007
2019-09-04 15:06:09,132 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3ff83cc8 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@3edb09b9, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@336b7da4 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 15:06:09,134 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 15:06:09,139 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 15:06:09,147 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-04 15:06:09,152 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3ff83cc8 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@283645fa, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@336b7da4 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7569bc9f]; rollback [true]
2019-09-04 15:06:09,157 INFO  ru.vladzag.web.admin.AdminRestController.get:62 - Admin getRestaurant(id: 100005) in date: 2015-05-30
2019-09-04 15:06:09,173 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3ff83cc8 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@283645fa, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@336b7da4 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 15:06:09,175 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 15:06:09,177 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 15:06:09,187 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 8 ms
2019-09-04 15:06:09,196 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3ff83cc8 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5e5f5ddf, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@336b7da4 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7569bc9f]; rollback [true]
2019-09-04 15:06:09,206 INFO  ru.vladzag.web.admin.AdminRestController.createDish:115 - Admin createDish with id: 100010
2019-09-04 15:06:09,220 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3ff83cc8 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5e5f5ddf, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@336b7da4 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 15:06:09,222 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 15:06:09,223 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 15:06:09,236 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 7 ms
2019-09-04 15:06:09,241 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3ff83cc8 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@11c68269, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@336b7da4 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7569bc9f]; rollback [true]
2019-09-04 15:06:09,249 INFO  ru.vladzag.web.admin.AdminRestController.delete:79 - Admin deleteRestaurant with id: 100002
2019-09-04 15:06:09,259 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 15:06:09,264 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3ff83cc8 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@11c68269, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@336b7da4 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 15:06:09,266 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 15:06:09,270 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 15:06:09,276 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-04 15:06:09,286 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3ff83cc8 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@1495f70, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@336b7da4 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7569bc9f]; rollback [true]
2019-09-04 15:06:09,288 INFO  ru.vladzag.web.admin.AdminRestController.getAllHistory:46 - Admin getHistory
2019-09-04 15:06:09,309 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3ff83cc8 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@1495f70, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@336b7da4 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 15:06:09,314 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-04 15:06:09,315 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-04 15:06:09,331 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 16 ms
2019-09-04 15:06:09,337 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@3ff83cc8 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5e78dd7f, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@336b7da4 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7569bc9f]; rollback [true]
2019-09-04 15:06:09,349 INFO  ru.vladzag.web.admin.AdminRestController.createWithLocation:102 - Admin createRestaurant with id: 100011
2019-09-04 15:06:09,352 INFO  ru.vladzag.repository.RestaurantCrudRepo.getAll:50 - RestaurantCrudRepo getAll() cache check
2019-09-04 15:06:09,370 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@3ff83cc8 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5e78dd7f, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@336b7da4 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-04 15:06:09,418 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 15:06:09,422 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 15:06:09,436 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-04 15:06:09,440 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-04 15:06:09,442 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-04 15:06:09,444 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-04 15:09:17,597 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-04 15:09:18,091 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 15:09:18,099 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 15:09:18,163 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 15:09:18,164 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 15:09:18,202 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 15:09:18,497 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 15:09:18,722 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 189ms. Found 4 repository interfaces.
2019-09-04 15:09:20,618 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 15:09:20,622 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 15:09:20,626 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 15:09:20,631 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 15:09:20,688 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-04 15:09:20,693 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 15:09:20,694 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 15:09:20,694 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-04 15:09:20,742 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-04 15:09:20,745 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 15:09:20,747 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 15:09:20,749 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-04 15:09:20,959 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 15:09:21,137 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 15:09:21,452 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 15:09:22,245 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 15:09:23,151 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 15:09:25,256 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 15:09:25,260 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 15:09:25,323 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 15:09:25,326 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 15:09:26,720 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@1fdb7788, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3d7c9ef4, org.springframework.security.web.header.HeaderWriterFilter@3bc4bc63, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@62867c7f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@742543b7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@775697c3, org.springframework.security.web.access.ExceptionTranslationFilter@ee71db5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@12ce2b65]
2019-09-04 15:09:27,390 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 9784 ms
2019-09-04 15:09:27,447 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-04 15:09:28,842 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 15:09:28,890 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 15:09:28,980 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1533 ms
2019-09-04 15:11:40,223 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-04 15:11:40,698 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 15:11:40,708 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 15:11:40,779 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 15:11:40,781 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 15:11:40,817 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 15:11:41,095 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 15:11:41,366 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 238ms. Found 4 repository interfaces.
2019-09-04 15:11:43,312 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 15:11:43,318 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 15:11:43,322 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 15:11:43,326 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 15:11:43,389 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-04 15:11:43,392 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 15:11:43,393 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 15:11:43,395 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-04 15:11:43,441 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-04 15:11:43,444 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 15:11:43,446 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 15:11:43,447 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-04 15:11:43,664 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 15:11:43,865 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 15:11:44,177 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 15:11:44,998 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 15:11:45,687 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 15:11:47,194 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 15:11:47,199 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 15:11:47,265 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 15:11:47,267 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 15:11:48,735 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@55f8f170, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1513a1a6, org.springframework.security.web.header.HeaderWriterFilter@5fa378ba, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3e59304a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7aea8bdc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6beaa08c, org.springframework.security.web.access.ExceptionTranslationFilter@658c6360, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4b656411]
2019-09-04 15:11:49,409 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 9177 ms
2019-09-04 15:11:49,456 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-04 15:11:50,900 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 15:11:50,947 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 15:11:51,028 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1572 ms
2019-09-04 15:11:51,452 WARN  org.springframework.web.servlet.PageNotFound.noHandlerFound:1249 - No mapping for GET /restaraunt/
2019-09-04 15:11:51,623 WARN  org.springframework.web.servlet.PageNotFound.noHandlerFound:1249 - No mapping for GET /restaraunt/
2019-09-04 15:12:42,374 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-04 15:12:42,881 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 15:12:42,891 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 15:12:42,960 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 15:12:42,962 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 15:12:43,011 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 15:12:43,277 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 15:12:43,520 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 208ms. Found 4 repository interfaces.
2019-09-04 15:12:45,490 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 15:12:45,497 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 15:12:45,505 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 15:12:45,510 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 15:12:45,577 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-04 15:12:45,581 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 15:12:45,582 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 15:12:45,584 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-04 15:12:45,634 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-04 15:12:45,637 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 15:12:45,638 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 15:12:45,639 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-04 15:12:45,795 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 15:12:45,951 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 15:12:46,275 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 15:12:47,147 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 15:12:47,959 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 15:12:50,019 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 15:12:50,024 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 15:12:50,146 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 15:12:50,150 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 15:12:52,121 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@b0df7cd, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@bb117f3, org.springframework.security.web.header.HeaderWriterFilter@5bb1bf6d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2d953ee6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@25b6f718, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@600fb2a5, org.springframework.security.web.access.ExceptionTranslationFilter@15ede3b2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@d6d00c1]
2019-09-04 15:12:52,828 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 10449 ms
2019-09-04 15:18:22,627 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-04 15:18:23,065 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-04 15:18:23,074 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-04 15:18:23,138 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-04 15:18:23,140 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-04 15:18:23,175 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-04 15:18:23,463 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-04 15:18:23,692 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 198ms. Found 4 repository interfaces.
2019-09-04 15:18:25,665 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-04 15:18:25,670 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-04 15:18:25,674 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-04 15:18:25,678 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-04 15:18:25,739 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-04 15:18:25,742 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 15:18:25,743 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 15:18:25,744 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-04 15:18:25,802 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-04 15:18:25,805 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-04 15:18:25,806 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-04 15:18:25,808 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-04 15:18:26,013 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-04 15:18:26,186 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-04 15:18:26,511 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-04 15:18:27,316 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-04 15:18:28,084 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-04 15:18:29,571 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-04 15:18:29,576 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-04 15:18:29,640 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-04 15:18:29,643 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-04 15:18:31,140 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@1fc56048, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5fd74f70, org.springframework.security.web.header.HeaderWriterFilter@3d1b11e1, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@33eb85e1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@44976f2f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@136eedb, org.springframework.security.web.access.ExceptionTranslationFilter@3330676b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@22a35246]
2019-09-04 15:18:31,781 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 9148 ms
2019-09-04 15:18:31,909 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-04 15:18:33,134 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 15:18:33,184 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-04 15:18:33,264 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1355 ms
