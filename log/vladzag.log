2019-09-09 21:28:28,780 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-09 21:28:28,812 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@666b83a4, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@749c877b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@efde75f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@16ecee1, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3b220bcb, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2b95e48b, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@4a3329b9, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@3dddefd8]
2019-09-09 21:28:29,222 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-09 21:28:29,228 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-09 21:28:29,282 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-09 21:28:29,283 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-09 21:28:29,320 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-09 21:28:29,545 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-09 21:28:29,746 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 170ms. Found 4 repository interfaces.
2019-09-09 21:28:31,079 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-09 21:28:31,086 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-09 21:28:31,091 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-09 21:28:31,095 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-09 21:28:31,143 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-09 21:28:31,146 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-09 21:28:31,147 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-09 21:28:31,149 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-09 21:28:31,187 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-09 21:28:31,189 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-09 21:28:31,191 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-09 21:28:31,192 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-09 21:28:31,310 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-09 21:28:31,444 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-09 21:28:31,733 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-09 21:28:32,415 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-09 21:28:32,916 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-09 21:28:33,959 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-09 21:28:33,963 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-09 21:28:34,013 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-09 21:28:34,018 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-09 21:28:34,856 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@7f8f5d37, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4e933cf1, org.springframework.security.web.header.HeaderWriterFilter@71f4aeb6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6fe337a5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3085befb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4eab9aec, org.springframework.security.web.access.ExceptionTranslationFilter@3407ded1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@48da5106]
2019-09-09 21:28:36,252 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-09 21:28:36,253 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3e0600a4, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@341141ab, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@1773faf8, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3ef4a8fb, org.springframework.test.context.transaction.TransactionalTestExecutionListener@30f99ca1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@edb8f0c, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@6f70015, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@1d5fc340]
2019-09-09 21:28:36,426 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-09 21:28:36,428 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-09 21:28:36,429 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-09 21:28:36,431 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-09 21:28:36,632 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-09 21:28:36,653 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 20ms. Found 4 repository interfaces.
2019-09-09 21:28:36,774 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-09 21:28:36,776 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-09 21:28:36,778 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-09 21:28:36,780 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-09 21:28:36,840 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-09 21:28:36,863 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-09 21:28:36,966 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-09 21:28:36,967 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-09 21:28:36,976 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-09 21:28:36,979 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-09 21:28:37,180 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@60ae950f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@89dd102, org.springframework.security.web.header.HeaderWriterFilter@7e9d171c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5ad13be4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@14a5d7ee, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@41623694, org.springframework.security.web.access.ExceptionTranslationFilter@642b2176, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@78ca8258]
2019-09-09 21:28:37,947 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-09 21:28:37,984 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-09 21:28:38,150 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-09 21:28:38,152 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-09 21:28:38,169 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 17 ms
2019-09-09 21:28:38,183 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6fb3d3bb testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@38a3c078, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4d6fa22c testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@326489c4]; rollback [true]
2019-09-09 21:28:38,440 INFO  ru.vladzag.web.user.UserRestController.getRestaurant:54 - User getRestaurant with id: 100005
2019-09-09 21:28:38,628 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6fb3d3bb testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@38a3c078, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4d6fa22c testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-09 21:28:38,635 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-09 21:28:38,637 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-09 21:28:38,643 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-09 21:28:38,650 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6fb3d3bb testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@753cfae3, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4d6fa22c testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@326489c4]; rollback [true]
2019-09-09 21:28:38,684 INFO  ru.vladzag.web.user.UserRestController.getAll:36 - User getAll
2019-09-09 21:28:38,784 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6fb3d3bb testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@753cfae3, testMethod = getAll@UserRestControllerTest, testException = java.lang.IllegalArgumentException: Invalid read array from JSON:
'[{"id":100002,"name":"R1","countOfVotes":0,"dishes":[]},{"id":100003,"name":"R2","countOfVotes":0,"dishes":[]},{"id":100004,"name":"R3","countOfVotes":0,"dishes":[]},{"id":100005,"name":"RWM","countOfVotes":2,"dishes":[]}]', mergedContextConfiguration = [WebMergedContextConfiguration@4d6fa22c testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-09 21:28:38,796 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-09 21:28:38,797 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-09 21:28:38,800 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 2 ms
2019-09-09 21:28:38,804 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6fb3d3bb testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@1007954a, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4d6fa22c testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@326489c4]; rollback [true]
2019-09-09 21:28:38,835 INFO  ru.vladzag.web.user.UserRestController.getScore:42 - User getScore
2019-09-09 21:28:38,843 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6fb3d3bb testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@1007954a, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4d6fa22c testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-09 21:28:38,854 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-09 21:28:38,855 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-09 21:28:38,858 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 2 ms
2019-09-09 21:28:38,869 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6fb3d3bb testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@7a7698f4, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4d6fa22c testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@326489c4]; rollback [true]
2019-09-09 21:28:38,928 INFO  ru.vladzag.web.user.UserRestController.createVote:60 - User vote for restaurant with id: 100002
2019-09-09 21:28:38,957 INFO  ru.vladzag.web.user.UserRestController.createVote:60 - User vote for restaurant with id: 100003
2019-09-09 21:28:38,969 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6fb3d3bb testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@7a7698f4, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4d6fa22c testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-09 21:28:38,971 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-09 21:28:38,972 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-09 21:28:38,983 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 10 ms
2019-09-09 21:28:38,987 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6fb3d3bb testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@681302ad, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4d6fa22c testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@326489c4]; rollback [true]
2019-09-09 21:28:39,007 INFO  ru.vladzag.web.user.UserRestController.createVote:60 - User vote for restaurant with id: 100002
2019-09-09 21:28:39,022 INFO  ru.vladzag.web.user.UserRestController.updateVote:66 - User updateVote(id: 100010) for restaurant with id: 100003
2019-09-09 21:28:39,028 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6fb3d3bb testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@681302ad, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4d6fa22c testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-09 21:28:39,029 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-09 21:28:39,034 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-09 21:28:39,046 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-09 21:28:39,057 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6fb3d3bb testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@5ce9c9e8, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4d6fa22c testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@326489c4]; rollback [true]
2019-09-09 21:28:39,078 INFO  ru.vladzag.web.user.UserRestController.createVote:60 - User vote for restaurant with id: 100002
2019-09-09 21:28:39,096 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6fb3d3bb testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@5ce9c9e8, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4d6fa22c testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-09 21:28:39,100 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-09 21:28:39,104 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-09 21:28:39,121 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 15 ms
2019-09-09 21:28:39,124 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6fb3d3bb testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@1a920154, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4d6fa22c testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@326489c4]; rollback [true]
2019-09-09 21:28:39,171 INFO  ru.vladzag.web.user.UserRestController.createVote:60 - User vote for restaurant with id: 100002
2019-09-09 21:28:39,190 INFO  ru.vladzag.web.user.UserRestController.getScore:42 - User getScore
2019-09-09 21:28:39,220 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6fb3d3bb testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@1a920154, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4d6fa22c testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-09 21:28:39,238 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-09 21:28:39,239 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2527765a, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@6ea4b4b2, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@371fdf43, org.springframework.test.context.support.DirtiesContextTestExecutionListener@37f687c1, org.springframework.test.context.transaction.TransactionalTestExecutionListener@297da2c3, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6237927a, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@2b9bacb8, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@2850fe85]
2019-09-09 21:28:39,253 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-09 21:28:39,254 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-09 21:28:39,374 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:46 - RestaurantCrudRepo getAll() cache check
2019-09-09 21:28:39,423 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-09 21:28:39,424 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-09 21:28:39,427 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:46 - RestaurantCrudRepo getAll() cache check
2019-09-09 21:28:39,690 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:46 - RestaurantCrudRepo getAll() cache check
2019-09-09 21:28:39,949 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-09 21:28:39,950 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@387bbd7a, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@22cf6c9c, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@4569b6a9, org.springframework.test.context.support.DirtiesContextTestExecutionListener@15932faf, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7066c00a, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2914f916, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@2140de63, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@2da273b3]
2019-09-09 21:28:39,952 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-09 21:28:39,954 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-09 21:28:39,959 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-09 21:28:39,968 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@424461ad testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7cc5bdbd, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@33c5cc0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@326489c4]; rollback [true]
2019-09-09 21:28:39,984 INFO  ru.vladzag.web.admin.AdminRestController.delete:80 - Admin deleteRestaurant with id: 100002
2019-09-09 21:28:39,999 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:46 - RestaurantCrudRepo getAll() cache check
2019-09-09 21:28:40,020 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@424461ad testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@7cc5bdbd, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@33c5cc0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-09 21:28:40,024 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-09 21:28:40,025 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-09 21:28:40,044 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 15 ms
2019-09-09 21:28:40,058 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@424461ad testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@1c8d9ac9, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@33c5cc0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@326489c4]; rollback [true]
2019-09-09 21:28:40,083 INFO  ru.vladzag.web.admin.AdminRestController.getAll:39 - Admin getAll
2019-09-09 21:28:40,118 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@424461ad testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@1c8d9ac9, testMethod = getAll@AdminRestControllerTest, testException = java.lang.IllegalArgumentException: Invalid read array from JSON:
'[{"id":100002,"name":"R1","countOfVotes":0,"dishes":[]},{"id":100003,"name":"R2","countOfVotes":0,"dishes":[]},{"id":100004,"name":"R3","countOfVotes":0,"dishes":[]},{"id":100005,"name":"RWM","countOfVotes":2,"dishes":[]}]', mergedContextConfiguration = [WebMergedContextConfiguration@33c5cc0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-09 21:28:40,132 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-09 21:28:40,143 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-09 21:28:40,155 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-09 21:28:40,177 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@424461ad testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@29471e3e, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@33c5cc0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@326489c4]; rollback [true]
2019-09-09 21:28:40,184 INFO  ru.vladzag.web.admin.AdminRestController.update:88 - Admin updateRestaurant with id: 100002
2019-09-09 21:28:40,196 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:46 - RestaurantCrudRepo getAll() cache check
2019-09-09 21:28:40,213 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@424461ad testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@29471e3e, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@33c5cc0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-09 21:28:40,216 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-09 21:28:40,226 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-09 21:28:40,239 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 10 ms
2019-09-09 21:28:40,242 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@424461ad testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@6789b471, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@33c5cc0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@326489c4]; rollback [true]
2019-09-09 21:28:40,288 INFO  ru.vladzag.web.admin.AdminRestController.updateDish:128 - Admin updateDish with id: 100007
2019-09-09 21:28:40,313 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@424461ad testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@6789b471, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@33c5cc0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-09 21:28:40,324 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-09 21:28:40,325 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-09 21:28:40,331 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-09 21:28:40,344 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@424461ad testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@1d0fae45, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@33c5cc0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@326489c4]; rollback [true]
2019-09-09 21:28:40,368 INFO  ru.vladzag.web.admin.AdminRestController.get:63 - Admin getRestaurant(id: 100005) in date: 2015-05-30
2019-09-09 21:28:40,386 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@424461ad testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@1d0fae45, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@33c5cc0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-09 21:28:40,400 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-09 21:28:40,402 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-09 21:28:40,406 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-09 21:28:40,422 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@424461ad testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@f3cc2e0, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@33c5cc0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@326489c4]; rollback [true]
2019-09-09 21:28:40,441 INFO  ru.vladzag.web.admin.AdminRestController.createDish:118 - Admin createDish with id: 100010
2019-09-09 21:28:40,450 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@424461ad testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@f3cc2e0, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@33c5cc0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-09 21:28:40,452 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-09 21:28:40,453 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-09 21:28:40,474 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 20 ms
2019-09-09 21:28:40,478 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@424461ad testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@23938caa, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@33c5cc0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@326489c4]; rollback [true]
2019-09-09 21:28:40,493 INFO  ru.vladzag.web.admin.AdminRestController.delete:80 - Admin deleteRestaurant with id: 100002
2019-09-09 21:28:40,510 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:46 - RestaurantCrudRepo getAll() cache check
2019-09-09 21:28:40,516 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@424461ad testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@23938caa, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@33c5cc0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-09 21:28:40,538 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-09 21:28:40,545 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-09 21:28:40,549 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-09 21:28:40,558 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@424461ad testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@452d4bb2, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@33c5cc0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@326489c4]; rollback [true]
2019-09-09 21:28:40,575 INFO  ru.vladzag.web.admin.AdminRestController.getAllHistory:47 - Admin getHistory
2019-09-09 21:28:40,599 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@424461ad testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@452d4bb2, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@33c5cc0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-09 21:28:40,601 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-09 21:28:40,604 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-09 21:28:40,617 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 9 ms
2019-09-09 21:28:40,638 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@424461ad testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@65134e6c, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@33c5cc0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@326489c4]; rollback [true]
2019-09-09 21:28:40,650 INFO  ru.vladzag.web.admin.AdminRestController.createWithLocation:103 - Admin createRestaurant with id: 100010
2019-09-09 21:28:40,657 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:46 - RestaurantCrudRepo getAll() cache check
2019-09-09 21:28:40,664 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@424461ad testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@65134e6c, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@33c5cc0 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-09 21:28:40,683 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-09 21:28:40,708 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-09 21:28:40,710 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-09 21:28:40,711 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-09 21:28:40,712 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-09 21:28:40,715 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-09 21:35:14,614 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-09 21:35:14,685 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@495b0487, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@55dfcc6, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@222eb8aa, org.springframework.test.context.support.DirtiesContextTestExecutionListener@93cf163, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1852a3ff, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7203c7ff, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@25bfcafd, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4b6690c0]
2019-09-09 21:35:16,052 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-09 21:35:16,060 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-09 21:35:16,131 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-09 21:35:16,133 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-09 21:35:16,198 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-09 21:35:16,847 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-09 21:35:17,198 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 303ms. Found 4 repository interfaces.
2019-09-09 21:35:20,419 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-09 21:35:20,428 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-09 21:35:20,436 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-09 21:35:20,446 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-09 21:35:20,526 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-09 21:35:20,530 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-09 21:35:20,532 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-09 21:35:20,536 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-09 21:35:20,602 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-09 21:35:20,609 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-09 21:35:20,611 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-09 21:35:20,613 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-09 21:35:21,259 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-09 21:35:21,342 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-09 21:35:21,840 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-09 21:35:23,276 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-09 21:35:23,915 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-09 21:35:25,173 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-09 21:35:25,176 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-09 21:35:25,232 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-09 21:35:25,235 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-09 21:35:26,069 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@1cca2e9d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@21f479cd, org.springframework.security.web.header.HeaderWriterFilter@5a9baba8, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@245dbd09, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@75d402d4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@53153d5e, org.springframework.security.web.access.ExceptionTranslationFilter@4e4c05a0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4a0ee0ba]
2019-09-09 21:35:27,239 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-09 21:35:27,294 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-09 21:35:27,544 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-09 21:35:27,545 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-09 21:35:27,559 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 13 ms
2019-09-09 21:35:27,582 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@65029fc testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4865434e, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3c6e407 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@562ec518]; rollback [true]
2019-09-09 21:35:27,962 INFO  ru.vladzag.web.user.UserRestController.getAll:36 - User getAll
2019-09-09 21:35:28,287 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@65029fc testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4865434e, testMethod = getAll@UserRestControllerTest, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <[RestaurantTo{id=100002, name=R1, votes=0},
    RestaurantTo{id=100003, name=R2, votes=0},
    RestaurantTo{id=100004, name=R3, votes=0},
    RestaurantTo{id=100005, name=RWM, votes=2}]>
to be equal to:
 <[RestaurantTo{id=100002, name=R1, votes=0},
    RestaurantTo{id=100003, name=R2, votes=0},
    RestaurantTo{id=100004, name=R3, votes=0},
    RestaurantTo{id=100005, name=RWM, votes=0}]>
when comparing elements using field/property by field/property comparator on all fields/properties except ["votes", "dishes"]
Comparators used:
- for elements fields (by type): {Double -> DoubleComparator[precision=1.0E-15], Float -> FloatComparator[precision=1.0E-6]}
- for elements (by type): {Double -> DoubleComparator[precision=1.0E-15], Float -> FloatComparator[precision=1.0E-6]}
but was not., mergedContextConfiguration = [WebMergedContextConfiguration@3c6e407 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-09 21:35:28,335 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-09 21:35:28,349 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-09 21:35:28,351 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-09 21:35:28,352 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-09 21:35:28,354 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-09 21:38:13,940 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-09 21:38:13,969 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@614df0a4, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1fdf1c5, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@2d96543c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@73a2e526, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7d64e326, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@13f95696, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@cd1d761, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@68be8808]
2019-09-09 21:38:14,749 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-09 21:38:14,756 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-09 21:38:14,836 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-09 21:38:14,838 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-09 21:38:14,893 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-09 21:38:15,329 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-09 21:38:15,591 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 226ms. Found 4 repository interfaces.
2019-09-09 21:38:16,935 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-09 21:38:16,942 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-09 21:38:16,947 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-09 21:38:16,953 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-09 21:38:17,001 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-09 21:38:17,005 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-09 21:38:17,007 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-09 21:38:17,009 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-09 21:38:17,046 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-09 21:38:17,049 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-09 21:38:17,054 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-09 21:38:17,056 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-09 21:38:17,428 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-09 21:38:17,509 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-09 21:38:17,712 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-09 21:38:18,251 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-09 21:38:18,777 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-09 21:38:19,718 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-09 21:38:19,720 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-09 21:38:19,797 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-09 21:38:19,800 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-09 21:38:20,578 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@1842dc39, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@125124ea, org.springframework.security.web.header.HeaderWriterFilter@6db04a6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@53153d5e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@68e094c9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@528c4353, org.springframework.security.web.access.ExceptionTranslationFilter@39451d92, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@54ec8ab3]
2019-09-09 21:38:21,834 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-09 21:38:21,925 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-09 21:38:22,196 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-09 21:38:22,197 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-09 21:38:22,212 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 15 ms
2019-09-09 21:38:22,240 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@f3e6876 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@52c2d1e8, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1a67bcaf testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@20040c6e]; rollback [true]
2019-09-09 21:38:22,604 INFO  ru.vladzag.web.user.UserRestController.getAll:36 - User getAll
2019-09-09 21:38:22,901 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@f3e6876 testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@52c2d1e8, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1a67bcaf testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-09 21:38:22,957 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-09 21:38:22,969 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-09 21:38:22,971 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-09 21:38:22,972 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-09 21:38:22,974 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-09 21:46:46,058 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-09 21:46:46,096 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@614df0a4, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1fdf1c5, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@2d96543c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@73a2e526, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7d64e326, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@13f95696, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@cd1d761, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@68be8808]
2019-09-09 21:46:46,993 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-09 21:46:47,003 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-09 21:46:47,086 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-09 21:46:47,087 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-09 21:46:47,170 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-09 21:46:47,553 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-09 21:46:47,781 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 201ms. Found 4 repository interfaces.
2019-09-09 21:46:49,047 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-09 21:46:49,054 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-09 21:46:49,059 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-09 21:46:49,064 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-09 21:46:49,119 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-09 21:46:49,123 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-09 21:46:49,125 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-09 21:46:49,127 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-09 21:46:49,155 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-09 21:46:49,159 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-09 21:46:49,160 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-09 21:46:49,162 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-09 21:46:49,524 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-09 21:46:49,592 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-09 21:46:49,843 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-09 21:46:50,419 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-09 21:46:50,862 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-09 21:46:51,887 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-09 21:46:51,889 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-09 21:46:51,936 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-09 21:46:51,940 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-09 21:46:52,754 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@1842dc39, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@125124ea, org.springframework.security.web.header.HeaderWriterFilter@6db04a6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@166d576b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7e366c6f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@70f8d217, org.springframework.security.web.access.ExceptionTranslationFilter@498f5728, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7804a783]
2019-09-09 21:46:53,932 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-09 21:46:53,980 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-09 21:46:54,300 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-09 21:46:54,300 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-09 21:46:54,313 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 12 ms
2019-09-09 21:46:54,342 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@4f4b7a2e testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@334ac669, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@77430c79 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@70fcd3e5]; rollback [true]
2019-09-09 21:46:54,714 INFO  ru.vladzag.web.user.UserRestController.getAll:36 - User getAll
2019-09-09 21:46:55,099 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@4f4b7a2e testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@334ac669, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@77430c79 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-09 21:46:55,139 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-09 21:46:55,155 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-09 21:46:55,160 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-09 21:46:55,165 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-09 21:46:55,166 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-09 21:47:29,156 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-09 21:47:29,198 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@614df0a4, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1fdf1c5, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@2d96543c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@73a2e526, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7d64e326, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@13f95696, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@cd1d761, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@68be8808]
2019-09-09 21:47:30,113 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-09 21:47:30,133 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-09 21:47:30,252 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-09 21:47:30,254 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-09 21:47:30,365 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-09 21:47:30,894 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-09 21:47:31,126 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 203ms. Found 4 repository interfaces.
2019-09-09 21:47:32,286 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-09 21:47:32,293 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-09 21:47:32,298 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-09 21:47:32,304 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-09 21:47:32,350 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-09 21:47:32,353 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-09 21:47:32,355 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-09 21:47:32,356 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-09 21:47:32,390 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-09 21:47:32,393 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-09 21:47:32,395 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-09 21:47:32,396 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-09 21:47:32,752 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-09 21:47:32,830 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-09 21:47:32,989 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-09 21:47:33,491 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-09 21:47:33,888 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-09 21:47:34,835 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-09 21:47:34,842 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-09 21:47:34,894 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-09 21:47:34,898 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-09 21:47:35,639 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@1842dc39, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@125124ea, org.springframework.security.web.header.HeaderWriterFilter@6db04a6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@166d576b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7e366c6f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@70f8d217, org.springframework.security.web.access.ExceptionTranslationFilter@498f5728, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7804a783]
2019-09-09 21:47:36,774 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-09 21:47:36,816 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-09 21:47:37,090 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-09 21:47:37,091 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-09 21:47:37,103 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 11 ms
2019-09-09 21:47:37,131 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@7e44f989 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@2d5b549b, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@542c6165 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7f36cd8f]; rollback [true]
2019-09-09 21:47:37,278 INFO  ru.vladzag.web.admin.AdminRestController.getAll:39 - Admin getAll
2019-09-09 21:47:37,578 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@7e44f989 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@2d5b549b, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@542c6165 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-09 21:47:37,606 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-09 21:47:37,615 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-09 21:47:37,620 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-09 21:47:37,621 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-09 21:47:37,623 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-09 21:48:22,827 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-09 21:48:22,867 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@64dafeed, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@388ba540, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@47605f2f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2ece4966, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1dd0e7c4, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7894f09b, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@3d484181, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@6111ba37]
2019-09-09 21:48:23,405 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-09 21:48:23,411 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-09 21:48:23,451 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-09 21:48:23,453 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-09 21:48:23,483 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-09 21:48:23,662 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-09 21:48:23,823 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 138ms. Found 4 repository interfaces.
2019-09-09 21:48:24,955 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-09 21:48:24,960 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-09 21:48:24,964 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-09 21:48:24,968 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-09 21:48:25,012 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-09 21:48:25,015 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-09 21:48:25,017 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-09 21:48:25,018 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-09 21:48:25,058 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-09 21:48:25,061 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-09 21:48:25,062 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-09 21:48:25,064 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-09 21:48:25,176 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-09 21:48:25,274 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-09 21:48:25,513 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-09 21:48:26,036 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-09 21:48:26,523 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-09 21:48:27,380 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-09 21:48:27,384 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-09 21:48:27,435 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-09 21:48:27,440 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-09 21:48:29,153 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@5cdc8499, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5213b887, org.springframework.security.web.header.HeaderWriterFilter@706c062e, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@cbc3bf3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6e00d737, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@23ee92df, org.springframework.security.web.access.ExceptionTranslationFilter@4e1104f4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@53f1fcc2]
2019-09-09 21:48:30,926 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-09 21:48:30,934 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@7bc3c59f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@6db2a260, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@1454339d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1df8e685, org.springframework.test.context.transaction.TransactionalTestExecutionListener@78723798, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@ab3b54, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@35d62807, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@6fc03cf6]
2019-09-09 21:48:31,145 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-09 21:48:31,149 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-09 21:48:31,150 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-09 21:48:31,153 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-09 21:48:31,307 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-09 21:48:31,331 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 23ms. Found 4 repository interfaces.
2019-09-09 21:48:31,442 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=score
2019-09-09 21:48:31,444 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurants
2019-09-09 21:48:31,446 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-09 21:48:31,447 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/classes/cache/ehcache.xml,Cache=votes
2019-09-09 21:48:31,514 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-09 21:48:31,532 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-09 21:48:31,639 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-09 21:48:31,639 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-09 21:48:31,651 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-09 21:48:31,655 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-09 21:48:31,825 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@4924ad09, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3a1540be, org.springframework.security.web.header.HeaderWriterFilter@7a285418, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3985175e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@66011fbc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4807b2b7, org.springframework.security.web.access.ExceptionTranslationFilter@6b8683b8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@435a4d2d]
2019-09-09 21:48:32,488 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-09 21:48:32,529 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-09 21:48:32,697 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-09 21:48:32,698 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-09 21:48:32,712 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 13 ms
2019-09-09 21:48:32,736 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@7306836f testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@e9c5db9, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@393aac93 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5b6637f3]; rollback [true]
2019-09-09 21:48:33,008 INFO  ru.vladzag.web.user.UserRestController.getRestaurant:54 - User getRestaurant with id: 100005
2019-09-09 21:48:33,152 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@7306836f testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@e9c5db9, testMethod = getRestaurant@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@393aac93 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-09 21:48:33,156 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-09 21:48:33,160 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-09 21:48:33,168 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 7 ms
2019-09-09 21:48:33,175 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@7306836f testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4adb2b87, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@393aac93 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5b6637f3]; rollback [true]
2019-09-09 21:48:33,191 INFO  ru.vladzag.web.user.UserRestController.getAll:36 - User getAll
2019-09-09 21:48:33,217 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@7306836f testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@4adb2b87, testMethod = getAll@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@393aac93 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-09 21:48:33,230 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-09 21:48:33,232 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-09 21:48:33,236 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-09 21:48:33,244 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@7306836f testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@1f26bd62, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@393aac93 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5b6637f3]; rollback [true]
2019-09-09 21:48:33,259 INFO  ru.vladzag.web.user.UserRestController.getScore:42 - User getScore
2019-09-09 21:48:33,269 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@7306836f testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@1f26bd62, testMethod = getScoreWithoutVoting@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@393aac93 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-09 21:48:33,271 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-09 21:48:33,274 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-09 21:48:33,280 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-09 21:48:33,289 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@7306836f testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@29a51ff1, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@393aac93 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5b6637f3]; rollback [true]
2019-09-09 21:48:33,308 INFO  ru.vladzag.web.user.UserRestController.createVote:60 - User vote for restaurant with id: 100002
2019-09-09 21:48:33,335 INFO  ru.vladzag.web.user.UserRestController.createVote:60 - User vote for restaurant with id: 100003
2019-09-09 21:48:33,350 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@7306836f testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@29a51ff1, testMethod = createTwice@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@393aac93 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-09 21:48:33,352 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-09 21:48:33,354 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-09 21:48:33,358 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-09 21:48:33,366 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@7306836f testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@1150b923, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@393aac93 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5b6637f3]; rollback [true]
2019-09-09 21:48:33,383 INFO  ru.vladzag.web.user.UserRestController.createVote:60 - User vote for restaurant with id: 100002
2019-09-09 21:48:33,396 INFO  ru.vladzag.web.user.UserRestController.updateVote:66 - User updateVote(id: 100010) for restaurant with id: 100003
2019-09-09 21:48:33,403 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@7306836f testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@1150b923, testMethod = updateVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@393aac93 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-09 21:48:33,406 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-09 21:48:33,408 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-09 21:48:33,417 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 6 ms
2019-09-09 21:48:33,423 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@7306836f testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@f8b6743, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@393aac93 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5b6637f3]; rollback [true]
2019-09-09 21:48:33,440 INFO  ru.vladzag.web.user.UserRestController.createVote:60 - User vote for restaurant with id: 100002
2019-09-09 21:48:33,451 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@7306836f testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@f8b6743, testMethod = createVote@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@393aac93 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-09 21:48:33,453 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-09 21:48:33,455 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-09 21:48:33,460 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-09 21:48:33,470 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@7306836f testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@1f5aac08, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@393aac93 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5b6637f3]; rollback [true]
2019-09-09 21:48:33,484 INFO  ru.vladzag.web.user.UserRestController.createVote:60 - User vote for restaurant with id: 100002
2019-09-09 21:48:33,493 INFO  ru.vladzag.web.user.UserRestController.getScore:42 - User getScore
2019-09-09 21:48:33,516 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@7306836f testClass = UserRestControllerTest, testInstance = ru.vladzag.web.user.UserRestControllerTest@1f5aac08, testMethod = getScore@UserRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@393aac93 testClass = UserRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-09 21:48:33,531 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-09 21:48:33,533 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@66d9c846, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2b6d9650, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@2287bbd1, org.springframework.test.context.support.DirtiesContextTestExecutionListener@41a6cd9e, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6915b614, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2e0d6270, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@314b0d53, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4676fcd9]
2019-09-09 21:48:33,548 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-09 21:48:33,549 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-09 21:48:33,604 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:46 - RestaurantCrudRepo getAll() cache check
2019-09-09 21:48:33,625 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:230 - SQL Warning Code: -1100, SQLState: 02000
2019-09-09 21:48:33,626 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logWarning:231 - no data
2019-09-09 21:48:33,628 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:46 - RestaurantCrudRepo getAll() cache check
2019-09-09 21:48:33,792 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:46 - RestaurantCrudRepo getAll() cache check
2019-09-09 21:48:33,954 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2019-09-09 21:48:33,955 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2c3a2935, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2ca4b010, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@83b39c3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1f7653ae, org.springframework.test.context.transaction.TransactionalTestExecutionListener@62f8b2f4, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6bd5aa8b, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@3af17313, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@1737acc0]
2019-09-09 21:48:33,957 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-09 21:48:33,957 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-09 21:48:33,961 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-09 21:48:33,970 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@47e02a89 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@6d9bcf19, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@23b4f0a9 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5b6637f3]; rollback [true]
2019-09-09 21:48:33,977 INFO  ru.vladzag.web.admin.AdminRestController.delete:80 - Admin deleteRestaurant with id: 100002
2019-09-09 21:48:33,986 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:46 - RestaurantCrudRepo getAll() cache check
2019-09-09 21:48:33,992 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@47e02a89 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@6d9bcf19, testMethod = delete@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@23b4f0a9 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-09 21:48:33,994 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-09 21:48:33,995 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-09 21:48:34,001 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 4 ms
2019-09-09 21:48:34,006 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@47e02a89 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@42014a, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@23b4f0a9 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5b6637f3]; rollback [true]
2019-09-09 21:48:34,013 INFO  ru.vladzag.web.admin.AdminRestController.getAll:39 - Admin getAll
2019-09-09 21:48:34,025 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@47e02a89 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@42014a, testMethod = getAll@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@23b4f0a9 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-09 21:48:34,026 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-09 21:48:34,030 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-09 21:48:34,036 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-09 21:48:34,039 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@47e02a89 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@4f27643d, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@23b4f0a9 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5b6637f3]; rollback [true]
2019-09-09 21:48:34,054 INFO  ru.vladzag.web.admin.AdminRestController.update:88 - Admin updateRestaurant with id: 100002
2019-09-09 21:48:34,058 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:46 - RestaurantCrudRepo getAll() cache check
2019-09-09 21:48:34,068 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@47e02a89 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@4f27643d, testMethod = update@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@23b4f0a9 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-09 21:48:34,071 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-09 21:48:34,072 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-09 21:48:34,081 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 5 ms
2019-09-09 21:48:34,089 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@47e02a89 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@915c47b, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@23b4f0a9 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5b6637f3]; rollback [true]
2019-09-09 21:48:34,132 INFO  ru.vladzag.web.admin.AdminRestController.updateDish:128 - Admin updateDish with id: 100007
2019-09-09 21:48:34,142 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@47e02a89 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@915c47b, testMethod = updateDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@23b4f0a9 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-09 21:48:34,144 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-09 21:48:34,145 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-09 21:48:34,147 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 2 ms
2019-09-09 21:48:34,155 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@47e02a89 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5f1d270a, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@23b4f0a9 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5b6637f3]; rollback [true]
2019-09-09 21:48:34,163 INFO  ru.vladzag.web.admin.AdminRestController.get:63 - Admin getRestaurant(id: 100005) in date: 2015-05-30
2019-09-09 21:48:34,184 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@47e02a89 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@5f1d270a, testMethod = get@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@23b4f0a9 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-09 21:48:34,186 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-09 21:48:34,189 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-09 21:48:34,193 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 2 ms
2019-09-09 21:48:34,203 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@47e02a89 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@1014c825, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@23b4f0a9 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5b6637f3]; rollback [true]
2019-09-09 21:48:34,217 INFO  ru.vladzag.web.admin.AdminRestController.createDish:118 - Admin createDish with id: 100010
2019-09-09 21:48:34,225 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@47e02a89 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@1014c825, testMethod = createDishWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@23b4f0a9 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-09 21:48:34,230 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-09 21:48:34,232 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-09 21:48:34,235 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 2 ms
2019-09-09 21:48:34,242 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@47e02a89 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@2474331d, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@23b4f0a9 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5b6637f3]; rollback [true]
2019-09-09 21:48:34,250 INFO  ru.vladzag.web.admin.AdminRestController.delete:80 - Admin deleteRestaurant with id: 100002
2019-09-09 21:48:34,258 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:46 - RestaurantCrudRepo getAll() cache check
2019-09-09 21:48:34,262 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@47e02a89 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@2474331d, testMethod = deleteDish@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@23b4f0a9 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-09 21:48:34,264 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-09 21:48:34,265 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-09 21:48:34,272 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 3 ms
2019-09-09 21:48:34,277 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@47e02a89 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@623cd12e, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@23b4f0a9 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5b6637f3]; rollback [true]
2019-09-09 21:48:34,290 INFO  ru.vladzag.web.admin.AdminRestController.getAllHistory:47 - Admin getHistory
2019-09-09 21:48:34,305 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@47e02a89 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@623cd12e, testMethod = getAllHistory@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@23b4f0a9 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-09 21:48:34,307 INFO  org.springframework.mock.web.MockServletContext.log:444 - Initializing Spring TestDispatcherServlet ''
2019-09-09 21:48:34,309 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:524 - Initializing Servlet ''
2019-09-09 21:48:34,319 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:546 - Completed initialization in 7 ms
2019-09-09 21:48:34,322 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@47e02a89 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@21acc86a, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@23b4f0a9 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5b6637f3]; rollback [true]
2019-09-09 21:48:34,335 INFO  ru.vladzag.web.admin.AdminRestController.createWithLocation:103 - Admin createRestaurant with id: 100010
2019-09-09 21:48:34,339 INFO  r.vladzag.repository.restaurant.RestaurantCrudRepo.getAll:46 - RestaurantCrudRepo getAll() cache check
2019-09-09 21:48:34,345 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@47e02a89 testClass = AdminRestControllerTest, testInstance = ru.vladzag.web.admin.AdminRestControllerTest@21acc86a, testMethod = createWithLocation@AdminRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@23b4f0a9 testClass = AdminRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-09-09 21:48:34,360 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-09 21:48:34,366 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2019-09-09 21:48:34,375 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'score' removed from EhcacheManager.
2019-09-09 21:48:34,377 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurants' removed from EhcacheManager.
2019-09-09 21:48:34,378 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'restaurantsTo' removed from EhcacheManager.
2019-09-09 21:48:34,380 INFO  org.ehcache.core.EhcacheManager.removeCache:218 - Cache 'votes' removed from EhcacheManager.
2019-09-09 21:49:39,477 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2019-09-09 21:49:39,985 INFO  o.s.security.core.SpringSecurityCoreVersion.performVersionChecks:81 - You are running with Spring Security Core 5.1.5.RELEASE
2019-09-09 21:49:39,993 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.1.5.RELEASE
2019-09-09 21:49:40,059 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /rest/admin/**
2019-09-09 21:49:40,061 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2019-09-09 21:49:40,100 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 2000, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2500, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2600]
2019-09-09 21:49:40,470 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2019-09-09 21:49:40,778 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:182 - Finished Spring Data repository scanning in 267ms. Found 4 repository interfaces.
2019-09-09 21:49:43,250 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'score' created in EhcacheManager.
2019-09-09 21:49:43,256 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurants' created in EhcacheManager.
2019-09-09 21:49:43,258 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'restaurantsTo' created in EhcacheManager.
2019-09-09 21:49:43,264 INFO  org.ehcache.core.EhcacheManager.createCache:307 - Cache 'votes' created in EhcacheManager.
2019-09-09 21:49:43,345 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-09 21:49:43,350 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-09 21:49:43,352 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-09 21:49:43,353 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-09 21:49:43,404 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=score
2019-09-09 21:49:43,408 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurants
2019-09-09 21:49:43,409 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=restaurantsTo
2019-09-09 21:49:43,411 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./Users/vladislavZag/IdeaProjects/GraduationProj/target/topjava/WEB-INF/classes/cache/ehcache.xml,Cache=votes
2019-09-09 21:49:43,656 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2019-09-09 21:49:43,842 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.4.3.Final}
2019-09-09 21:49:44,212 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-09-09 21:49:45,069 INFO  org.hibernate.dialect.Dialect.<init>:158 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2019-09-09 21:49:45,884 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.17.Final
2019-09-09 21:49:47,787 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-09-09 21:49:47,792 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-09-09 21:49:47,865 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2019-09-09 21:49:47,867 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/webjars/**'], []
2019-09-09 21:49:49,649 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/rest/**'], [org.springframework.security.web.context.SecurityContextPersistenceFilter@1f75b7e3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5fa62018, org.springframework.security.web.header.HeaderWriterFilter@5d2ec89e, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@72bf532c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@54336d9b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@398bb8f7, org.springframework.security.web.access.ExceptionTranslationFilter@64191c5c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4bb6f993]
2019-09-09 21:49:50,804 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:306 - Root WebApplicationContext initialized in 11320 ms
2019-09-09 21:49:51,007 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:524 - Initializing Servlet 'mvc-dispatcher'
2019-09-09 21:49:52,721 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-09 21:49:52,780 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:302 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2019-09-09 21:49:52,877 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:546 - Completed initialization in 1870 ms
2019-09-09 21:50:53,888 INFO  ru.vladzag.web.admin.AdminRestController.createDish:118 - Admin createDish with id: 100010
2019-09-09 21:51:15,110 INFO  ru.vladzag.web.admin.AdminRestController.getAll:39 - Admin getAll
